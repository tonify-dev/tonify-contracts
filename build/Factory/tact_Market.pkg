{"name":"Market","code":"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GgUEERkEAxEYAwIRGQJWHds8ERMRGhETERIRGRESERERGBERERARFxEQDxEWDw4RFQ4NERQNDBETDAsREgsKEREKCREQCRCPEH5VZkgBtoEOFyuBAQEkWfQNb6GSMG3fbvL0EgGBAQECyFlZ+gIBINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WySIQOwEgbpUwWfRaMJRBM/QV4lCIghAEDZkA2zxJArYRFBEWERQRExEVERMREhEWERIREREVEREREBEWERAPERUPDhEWDg0RFQ0MERYMCxEVCwoRFgoJERUJCBEWCAcRFQcGERYGBREVBQQRFgQDERUDAhEWAhEVAds8n0oB+HBZyHABywFzAcsBcAHLABLMzMn5AMhyAcsBcAHLABLKB8v/ydAg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIf3ARGMgBghC8JvTIWMsfyz/JECQDERcDEgERGAEQJBAjbW3bPBERERMREREQERIREA8REQ8OERAOVR1uAXjIWYIQuKOqFFADyx/LPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbJQBZQRAUDEDYQNRA02zxuBI6OiltsYzMzNDJ52zzgMiHCAI8oggrcbABwf20iyMnQKRBIUTtROAMQVshVYNs8yVYhBFBVFEMwbW3bPJEx4vgj+CNWHaByLk1Pbk4CVnCDBn9tIwXIywfJ0CYQaAUQSRA3UIgQRhBFyFVg2zzJVhRERBRDMG1t2zxPbgT8j3oRFBEjERQRExEiERMREhEhERIREREgEREREBEfERAPER4PDhEdDg0RHA0MERsMCxEaCwoRGQoJERgJCBEXCAcRFgcGERUGBREjBQQRIgQDESEDAhEgAgERHwFWIwERI4IJycOAViPbPBETERQRExESERQREhERERQREeMNVFBRUgDeghAPin6lUAjLHxbLP1AE+gJYINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASBulTBwAcsBjh4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbiIW6zlX8BygDMlHAyygDiAfoCAc8WAXAREBEUERAPERQPDhEUDg0RFA0MERQMCxEUCwoRFAoJERQJERQIBwZVQFYjVhaCCcnDgFYk2zwRFVQC9BEUESMRFBETESIRExESESEREhERESAREREQER8REA8RHg8OER0ODREcDQwRGwwLERoLChEZCgkRGAkIERcIBxEWBwYRFQYFESMFBBEiBAMRIQMCESACAREfAVYjAREjggnJw4BWI9s8ERMRFBETERIRFBESERERFBERVFMB/lYkVh5WGFYcyFUwghAEXqtxUAXLHxPLP8sfASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgH6AsnIgljAAAAAAAAAAAAAAAABActnzMlw+wARFBEkERQRExEjERMREhEiERIREREhEREREBEgERAPER8PDhEeDg0RHQ1YAWwREBEUERAPERQPDhEUDg0RFA0MERQMCxEUCwoRFAoJERQJERQIBwZVQFYjVhaCCcnDgFYk2zxUAqwRExEXERMREhEWERIREREVEREREBEUERAPERcPDhEWDg0RFQ0MERQMCxEXCwoRFgoJERUJVhQJCBEYCAcRFwcGERYGBQQRGAQDERcDAhEWAgERFds8XJ9VA/hwWchwAcsBcwHLAXABywASzMzJ+QDIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiH9xcMjJ0AQRHgQDER0DAhEbAi5ZyFVQ2zzJBhEaBgURGAUEERkEAxEXA1kQRhBF2zwEpCClERARFBEQVm5XANiCEF/MPRRQB8sfFcs/UAMg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBIG6VMHABywGOHiDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFuIhbrOVfwHKAMyUcDLKAOIB+gIBzxYASg8REw8OERIODRERDQwREAwQvxCuEJ0QjBB7EGoZEEgQNxAmECMBmgwRHAwLERsLChEaCgkRGQkIERgIBxEXBwYRFgYFERUFBBEUBAMREwMCERICARERAQQREAQQ3xA+ED0QPBA7EDoQORA4EDcQNlBSE9s8WQPo+EP4KBIBEREB2zxccFnIcAHLAXMBywFwAcsAEszMyfkAyHIBywFwAcsAEsoHy//J0CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgKERAKEJ8QjhB9EGwQWwQREAQQP07ccIMGERIdcBESyFXQ2zzJSHBsWlsAklDeywcbygBQCfoCUAf6AlAF+gJQA/oCAfoCyx/LH8sf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","abi":"{\"name\":\"Market\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Market$Data\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amm\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"factory\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"stopped\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"countDeal\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"next_item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"mapQueriesToContext\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"cell\",\"valueFormat\":\"ref\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeSum\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFeeSum\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"MarketTon$Data\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amm\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"factory\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"stopped\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"countDeal\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"next_item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"mapQueriesToContext\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"cell\",\"valueFormat\":\"ref\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeSum\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFeeSum\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"tonDepositBalance\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"InnerDeployAmm\",\"header\":2078977111,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"market\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"WithdrawToken\",\"header\":1740151130,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Amm$Data\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"factory\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"market\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"InnerDeployAmmTon\",\"header\":3704021403,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"market\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"WithdrawTon\",\"header\":456029640,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"AmmTon$Data\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"factory\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"market\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"deposited\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"TakeDeal\",\"header\":955300085,\"fields\":[{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TakeDealTon\",\"header\":3886765728,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"deal\",\"type\":{\"kind\":\"simple\",\"type\":\"TakeDealData\",\"optional\":false}}]},{\"name\":\"TakeDealData\",\"header\":null,\"fields\":[{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TakeDealWithOriginalGasTo\",\"header\":2027434162,\"fields\":[{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TakeDealWithOriginalGasToTon\",\"header\":640326903,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"deal\",\"type\":{\"kind\":\"simple\",\"type\":\"TakeDealDataWithOriginalGasTo\",\"optional\":false}}]},{\"name\":\"TakeDealDataWithOriginalGasTo\",\"header\":null,\"fields\":[{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"CreateDeal\",\"header\":3755427120,\"fields\":[{\"name\":\"makerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"rateAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"rateToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"percent\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"expiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"slippage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"InnerDeployMarket\",\"header\":1762492384,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"InnerDeployMarketTon\",\"header\":2696026851,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"WithdrawOperatorFee\",\"header\":3542167315,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"WithdrawServiceFee\",\"header\":3909931163,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CreateDealTon\",\"header\":4072276050,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"deal\",\"type\":{\"kind\":\"simple\",\"type\":\"CreateDealData\",\"optional\":false}}]},{\"name\":\"CreateDealData\",\"header\":null,\"fields\":[{\"name\":\"makerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"rateAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"rateToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"percent\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"expiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"slippage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"CancelDeal\",\"header\":2166842366,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ProcessDeal\",\"header\":3915542458,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"DealData\",\"header\":null,\"fields\":[{\"name\":\"status\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"isSeller\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"rate\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"rateMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"percent\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"slippageMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"dateOrderCreation\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"dateOrderExpiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"dateStart\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"dateStop\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"buyerTokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"sellerTokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CancelEvent\",\"header\":3409203741,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"DealAcceptedEvent\",\"header\":73313137,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"DealCreatedEvent\",\"header\":17345355,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"DealCompletedEvent\",\"header\":2339190802,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"DealExpiredEvent\",\"header\":292536636,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"ContextCancelDealForDealReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ContextTakeDealForDealReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"timestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"feedId2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"price2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"timestamp2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ContextProcessDealForDealReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"timestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"feedId2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"price2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"timestamp2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ContextTakeDealForPriceReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ContextProcessDealForPriceReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ContextForGetOwner\",\"header\":null,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TakeDealAmm\",\"header\":1895074275,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"JettonData\",\"header\":null,\"fields\":[{\"name\":\"total_supply\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mintable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"wallet_code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"JettonWalletData\",\"header\":null,\"fields\":[{\"name\":\"balance\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"master\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TokenTransfer\",\"header\":260734629,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"recipient\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forward_ton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenTransferInternal\",\"header\":395134233,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"forward_ton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenBurn\",\"header\":1499400124,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"TokenBurnNotification\",\"header\":2078119902,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"TokenExcesses\",\"header\":3576854235,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"TokenUpdateContent\",\"header\":2937889386,\"fields\":[{\"name\":\"content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"ProvideWalletAddress\",\"header\":745978227,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"include_address\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"TakeWalletAddress\",\"header\":3513996288,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"wallet_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"Deal$Data\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"NftItem$Data\",\"header\":null,\"fields\":[{\"name\":\"collection_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"is_initialized\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"individual_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"GetData\",\"header\":3858888933,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportData\",\"header\":3062344471,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"SaveData\",\"header\":2951296309,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"DeleteData\",\"header\":3097733652,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"LogEventMintRecord\",\"header\":2743565669,\"fields\":[{\"name\":\"minter\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"item_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"generate_number\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GetRoyaltyParams\",\"header\":1765620048,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportRoyaltyParams\",\"header\":2831876269,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"numerator\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"denominator\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CollectionData\",\"header\":null,\"fields\":[{\"name\":\"next_item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"RoyaltyParams\",\"header\":null,\"fields\":[{\"name\":\"numerator\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"denominator\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Transfer\",\"header\":1607220500,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"new_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forward_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"OwnershipAssigned\",\"header\":85167505,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prev_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"Excesses\",\"header\":3576854235,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GetStaticData\",\"header\":801842850,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportStaticData\",\"header\":2339837749,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"index_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"GetOwner\",\"header\":3156669640,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportOwner\",\"header\":704662021,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"index_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"GetNftData\",\"header\":null,\"fields\":[{\"name\":\"is_initialized\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"individual_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"DeployTokenMarket\",\"header\":3133287539,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"coin\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"MarketDeployedEvent\",\"header\":4087132332,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"marketAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"coin\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"DeployTokenMarketWithAmm\",\"header\":1684562987,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"coin\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWalletAmm\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"MarketDeployedEventWithAmm\",\"header\":3042373849,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"marketAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"coin\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amm\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWalletAmm\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"DeployTonMarket\",\"header\":4267639384,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"MarketTonDeployedEvent\",\"header\":4135699990,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"marketAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"DeployTonMarketWithAmm\",\"header\":2976600156,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"MarketTonDeployedEventWithAmm\",\"header\":158221594,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"marketAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amm\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Factory$Data\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"InnerDeployMarket\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"WithdrawServiceFee\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"WithdrawOperatorFee\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"TokenNotification\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"CancelDeal\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ProcessDeal\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ReportOwner\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ReportData\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Resume\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"Stop\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"any\"}}],\"getters\":[{\"name\":\"id\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"amm\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"operatorFee\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"balance\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"serviceFee\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"countDeal\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"next_item_index\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection_content\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracle\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"factory\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"feedIdToken\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"operatorFeeSum\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"serviceFeeSum\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"operatorFeeAddress\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"mapQueriesToContext\",\"arguments\":[],\"returnType\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"cell\",\"valueFormat\":\"ref\"}},{\"name\":\"stopped\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"get_collection_data\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"CollectionData\",\"optional\":false}},{\"name\":\"get_nft_address_by_index\",\"arguments\":[{\"name\":\"item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"getNftItemInit\",\"arguments\":[{\"name\":\"item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}},{\"name\":\"get_nft_content\",\"arguments\":[{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"individual_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"3607\":{\"message\":\"QueryId already exists\"},\"4321\":{\"message\":\"Only factory can deploy\"},\"7021\":{\"message\":\"only oracle can send this message\"},\"14154\":{\"message\":\"ReportOwner must be from nft contract\"},\"16059\":{\"message\":\"Invalid value\"},\"24843\":{\"message\":\"Only market can call this function\"},\"27499\":{\"message\":\"initialized tx need from collection\"},\"29863\":{\"message\":\"Market already set\"},\"37488\":{\"message\":\"Value must be positive\"},\"40368\":{\"message\":\"Contract stopped\"},\"40476\":{\"message\":\"Amount must be greater than 0\"},\"40828\":{\"message\":\"Only factory can call this function\"},\"44278\":{\"message\":\"Insufficient service fee\"},\"45223\":{\"message\":\"Transfer jetton must be from jetton wallet\"},\"48542\":{\"message\":\"ReportData must be from Deal contract\"},\"49280\":{\"message\":\"not owner\"},\"49291\":{\"message\":\"Jetton wallet already set\"},\"49469\":{\"message\":\"not from collection\"},\"51559\":{\"message\":\"Only operator fee address can withdraw operator fee\"},\"53296\":{\"message\":\"Contract not stopped\"},\"57951\":{\"message\":\"Deal is not created\"},\"59867\":{\"message\":\"Insufficient operator fee\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.resumable\",\"org.ton.stoppable\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"id","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"owner","type":{"kind":"simple","type":"address","optional":false}},{"name":"coin","type":{"kind":"simple","type":"address","optional":false}},{"name":"amm","type":{"kind":"simple","type":"address","optional":false}},{"name":"factory","type":{"kind":"simple","type":"address","optional":false}},{"name":"underlyingAssetName","type":{"kind":"simple","type":"string","optional":false}},{"name":"duration","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"collection_content","type":{"kind":"simple","type":"cell","optional":false}},{"name":"operatorFee","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"serviceFee","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"oracle","type":{"kind":"simple","type":"address","optional":false}},{"name":"feedIdAsset","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"feedIdToken","type":{"kind":"simple","type":"int","optional":false,"format":257}},{"name":"operatorFeeAddress","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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y2fMyXD7AARQVds8W2AB/lMBvI4jNTZTNaFWFqiCEDuaygCpBFJHoVYVqIIQO5rKAKkEUUahJKGRMeIopBEWER0RFhEVERwRFREUERsRFBETERoRExESERkREhERERgREREQERcREA8RHQ8OERwODREbDQwRGgwLERkLChEYCgkRFwkIER0IBxEcBwYRGwZcAZwFERoFBBEZBAMRGAMCERkCVh3bPBETERoRExESERkREhERERgREREQERcREA8RFg8OERUODREUDQwREwwLERILChERCgkREAkQjxB+VWZdAbaBDhcrgQEBJFn0DW+hkjBt327y9BIBgQEBAshZWfoCASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFskiEDsBIG6VMFn0WjCUQTP0FeJQiIIQBA2ZANs8XgK2ERQRFhEUERMRFRETERIRFhESERERFRERERARFhEQDxEVDw4RFg4NERUNDBEWDAsRFQsKERYKCREVCQgRFggHERUHBhEWBgURFQUEERYEAxEVAwIRFgIRFQHbPMFfAfhwWchwAcsBcwHLAXABywASzMzJ+QDIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiH9wERjIAYIQvCb0yFjLH8s/yRAkAxEXAxIBERgBECQQI21t2zwRERETEREREBESERAPEREPDhEQDlUdiwKg+EP4KEEw2zxccFnIcAHLAXMBywFwAcsAEszMyfkAyHIBywFwAcsAEsoHy//J0CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhwgwYGcAaJYQF4yFmCELijqhRQA8sfyz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyUAWUEQFAxA2EDUQNNs8iwFWMdQwDhEUDg0REw0MERIMCxERCwoREAoQnxCOEH0QbBBbEEoQOUgWQAfbPGMEelCYXwY0NDoB0Ns8MFN5xwWOi18GbGMzMzQyeNs84BESwwGOi18FbGMzMzQyd9s84ANWFr2SMn+UAlYUveJkaWlmAQzbPAnRVQdlALT6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAfoA+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAHTH9N/0x/TH9N/1AHQ0x8wGRgXFhUU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"}},"sources":{"contracts/market.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9zdG9wcGFibGUiOwppbXBvcnQgIi4vbWFya2V0X21lc3NhZ2VzLnRhY3QiOwppbXBvcnQgIi4vbmZ0L25mdF9jb2xsZWN0aW9uLnRhY3QiOwppbXBvcnQgIi4vamV0dG9uL2pldHRvbl9tZXNzYWdlcy50YWN0IjsKaW1wb3J0ICIuL2RlYWwudGFjdCI7CmltcG9ydCAiLi9vcmFjbGUvcmVkc3RvbnRlX29yYWNsZV9jb25zdW1lcl9iYXNlLnRhY3QiOwppbXBvcnQgIi4vaW1wb3J0cy9jb25zdGFudHMudGFjdCI7CmNvbnRyYWN0IE1hcmtldCB3aXRoIFJlc3VtYWJsZSwgTmZ0Q29sbGVjdGlvbiwgUmVkc3RvbmVPcmFjbGVDb25zdW1lckJhc2UgewogICAgaWQ6IEludCBhcyB1aW50MzI7CiAgICBvd25lcjogQWRkcmVzczsKICAgIGFtbTogQWRkcmVzczsKICAgIGpldHRvbldhbGxldDogQWRkcmVzcyA9IGFkZHJlc3MoIlVRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUpLWiIpOwogICAgdW5kZXJseWluZ0Fzc2V0TmFtZTogU3RyaW5nOwogICAgZHVyYXRpb246IEludCBhcyB1aW50MzI7CiAgICBvcGVyYXRvckZlZTogSW50IGFzIHVpbnQzMjsKICAgIHNlcnZpY2VGZWU6IEludCBhcyB1aW50MzI7CiAgICBmYWN0b3J5OiBBZGRyZXNzOwogICAgc3RvcHBlZDogQm9vbCA9IGZhbHNlOwogICAgY291bnREZWFsOiBJbnQgYXMgdWludDMyID0gMDsKICAgIG5leHRfaXRlbV9pbmRleDogSW50IGFzIHVpbnQzMiA9IDA7CiAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGw7CiAgICBtYXBRdWVyaWVzVG9Db250ZXh0OiBtYXA8SW50LCBDZWxsPiA9IGVtcHR5TWFwKCk7CiAgICBvcmFjbGU6IEFkZHJlc3M7CiAgICBmZWVkSWRBc3NldDogSW50IGFzIHVpbnQyNTY7CiAgICBmZWVkSWRUb2tlbjogSW50IGFzIHVpbnQyNTY7CiAgICBvcGVyYXRvckZlZVN1bTogSW50IGFzIGNvaW5zID0gMDsKICAgIHNlcnZpY2VGZWVTdW06IEludCBhcyBjb2lucyA9IDA7CiAgICBvcGVyYXRvckZlZUFkZHJlc3M6IEFkZHJlc3M7CgoKICAgIGluaXQoaWQ6IEludCwKICAgICAgICBvd25lcjogQWRkcmVzcywKICAgICAgICBjb2luOiBBZGRyZXNzLAogICAgICAgIGFtbTogQWRkcmVzcywKICAgICAgICBmYWN0b3J5OiBBZGRyZXNzLAogICAgICAgIHVuZGVybHlpbmdBc3NldE5hbWU6IFN0cmluZywKICAgICAgICBkdXJhdGlvbjogSW50LAogICAgICAgIGNvbGxlY3Rpb25fY29udGVudDogQ2VsbCwKICAgICAgICBvcGVyYXRvckZlZTogSW50LAogICAgICAgIHNlcnZpY2VGZWU6IEludCwKICAgICAgICBvcmFjbGU6IEFkZHJlc3MsCiAgICAgICAgZmVlZElkQXNzZXQ6IEludCwKICAgICAgICBmZWVkSWRUb2tlbjogSW50LAogICAgICAgIG9wZXJhdG9yRmVlQWRkcmVzczogQWRkcmVzcyl7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBmYWN0b3J5LCAiT25seSBmYWN0b3J5IGNhbiBkZXBsb3kiKTsKICAgICAgICBzZWxmLmlkID0gaWQ7CiAgICAgICAgc2VsZi5vd25lciA9IG93bmVyOwogICAgICAgIHNlbGYuYW1tID0gYW1tOwogICAgICAgIHNlbGYuZmFjdG9yeSA9IGZhY3Rvcnk7CiAgICAgICAgc2VsZi51bmRlcmx5aW5nQXNzZXROYW1lID0gdW5kZXJseWluZ0Fzc2V0TmFtZTsKICAgICAgICBzZWxmLmR1cmF0aW9uID0gZHVyYXRpb247CiAgICAgICAgc2VsZi5vcGVyYXRvckZlZSA9IG9wZXJhdG9yRmVlOwogICAgICAgIHNlbGYuc2VydmljZUZlZSA9IHNlcnZpY2VGZWU7CiAgICAgICAgc2VsZi5jb2xsZWN0aW9uX2NvbnRlbnQgPSBjb2xsZWN0aW9uX2NvbnRlbnQ7CiAgICAgICAgc2VsZi5vcmFjbGUgPSBvcmFjbGU7CiAgICAgICAgc2VsZi5mZWVkSWRBc3NldCA9IGZlZWRJZEFzc2V0OwogICAgICAgIHNlbGYuZmVlZElkVG9rZW4gPSBmZWVkSWRUb2tlbjsKICAgICAgICBzZWxmLm9wZXJhdG9yRmVlQWRkcmVzcyA9IG9wZXJhdG9yRmVlQWRkcmVzczsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogSW5uZXJEZXBsb3lNYXJrZXQpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgc2VsZi5qZXR0b25XYWxsZXQgPSBtc2cuamV0dG9uV2FsbGV0OwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBtc2cub3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBib2R5OiBEZXBsb3lPa3sKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFdpdGhkcmF3U2VydmljZUZlZSkgewogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwogICAgICAgIHJlcXVpcmUobXNnLmFtb3VudCA+IDAsICJBbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpOwogICAgICAgIHJlcXVpcmUobXNnLmFtb3VudCA8PSBzZWxmLnNlcnZpY2VGZWVTdW0sICJJbnN1ZmZpY2llbnQgc2VydmljZSBmZWUiKTsKICAgICAgICBzZWxmLnNlcnZpY2VGZWVTdW0gLT0gbXNnLmFtb3VudDsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5qZXR0b25XYWxsZXQsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgICAgICAgICAgcXVlcnlfaWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgcmVjaXBpZW50OiBtc2cudG8sCiAgICAgICAgICAgICAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogc2VuZGVyKCksCiAgICAgICAgICAgICAgICBjdXN0b21fcGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgIGZvcndhcmRfdG9uX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgIGZvcndhcmRfcGF5bG9hZDogZW1wdHlTbGljZSgpLAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9ICAgCgogICAgcmVjZWl2ZShtc2c6IFdpdGhkcmF3T3BlcmF0b3JGZWUpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYub3BlcmF0b3JGZWVBZGRyZXNzLCAiT25seSBvcGVyYXRvciBmZWUgYWRkcmVzcyBjYW4gd2l0aGRyYXcgb3BlcmF0b3IgZmVlIik7CiAgICAgICAgcmVxdWlyZShtc2cuYW1vdW50ID4gMCwgIkFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIik7CiAgICAgICAgcmVxdWlyZShtc2cuYW1vdW50IDw9IHNlbGYub3BlcmF0b3JGZWVTdW0sICJJbnN1ZmZpY2llbnQgb3BlcmF0b3IgZmVlIik7CiAgICAgICAgc2VsZi5vcGVyYXRvckZlZVN1bSAtPSBtc2cuYW1vdW50OwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLmpldHRvbldhbGxldCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQsCiAgICAgICAgICAgICAgICBxdWVyeV9pZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgICAgICByZWNpcGllbnQ6IG1zZy50bywKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBzZW5kZXIoKSwKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiAwLAogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBlbXB0eVNsaWNlKCksCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVG9rZW5Ob3RpZmljYXRpb24pIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5qZXR0b25XYWxsZXQsICJUcmFuc2ZlciBqZXR0b24gbXVzdCBiZSBmcm9tIGpldHRvbiB3YWxsZXQiKTsKCiAgICAgICAgaWYoY3R4LnZhbHVlIDwgR0FTX01JTl9WQUxVRSkgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2Vucyhtc2cucXVlcnlfaWQsIG1zZy5hbW91bnQsIG1zZy5mcm9tLCBTTUFMTF9WQUxVRSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IG9wY29kZTogSW50ID0gbXNnLmZvcndhcmRfcGF5bG9hZC5sb2FkVWludCgzMik7CgogICAgICAgIGlmKG9wY29kZSA9PSBPUF9DT0RFX0NSRUFURV9ERUFMKSB7CiAgICAgICAgICAgIGxldCBkZWFsOiBDcmVhdGVEZWFsRGF0YSA9IENyZWF0ZURlYWxEYXRhLmZyb21TbGljZShtc2cuZm9yd2FyZF9wYXlsb2FkKTsKICAgICAgICAgICAgc2VsZi5oYW5kbGVDcmVhdGVEZWFsKG1zZy5xdWVyeV9pZCwgZGVhbCwgbXNnLmFtb3VudCwgbXNnLmZyb20pOwogICAgICAgIH0gZWxzZSBpZiAob3Bjb2RlID09IE9QX0NPREVfVEFLRV9ERUFMKSB7CiAgICAgICAgICAgIGxldCBkZWFsOiBUYWtlRGVhbERhdGEgPSBUYWtlRGVhbERhdGEuZnJvbVNsaWNlKG1zZy5mb3J3YXJkX3BheWxvYWQpOwogICAgICAgICAgICBzZWxmLmhhbmRsZVRha2VEZWFsKG1zZy5xdWVyeV9pZCwgZGVhbCwgbXNnLmFtb3VudCwgbXNnLmZyb20sIG1zZy5mcm9tKTsKICAgICAgICB9IGVsc2UgaWYgKG9wY29kZSA9PSBPUF9DT0RFX1RBS0VfREVBTF9XSVRIX09SSUdJTkFMX0dBU19UTykgewogICAgICAgICAgICBsZXQgZGVhbDogVGFrZURlYWxEYXRhV2l0aE9yaWdpbmFsR2FzVG8gPSBUYWtlRGVhbERhdGFXaXRoT3JpZ2luYWxHYXNUby5mcm9tU2xpY2UobXNnLmZvcndhcmRfcGF5bG9hZC5sb2FkUmVmKCkuYmVnaW5QYXJzZSgpKTsKICAgICAgICAgICAgc2VsZi5oYW5kbGVUYWtlRGVhbChtc2cucXVlcnlfaWQsIFRha2VEZWFsRGF0YXsKICAgICAgICAgICAgICAgIGRlYWxJZDogZGVhbC5kZWFsSWQsCiAgICAgICAgICAgICAgICBvcmFjbGVBc3NldERhdGE6IGRlYWwub3JhY2xlQXNzZXREYXRhLAogICAgICAgICAgICAgICAgb3JhY2xlVG9rZW5EYXRhOiBkZWFsLm9yYWNsZVRva2VuRGF0YSwKICAgICAgICAgICAgfSwgbXNnLmFtb3VudCwgbXNnLmZyb20sIGRlYWwub3JpZ2luYWxHYXNUbyk7CiAgICAgICAgfQogICAgfQoKICAgIHJlY2VpdmUobXNnOiBDYW5jZWxEZWFsKSB7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gR0FTX01JTl9WQUxVRSwgIkludmFsaWQgdmFsdWUiKTsKCiAgICAgICAgbGV0IGNvbnRleHRDYW5jZWxEZWFsOiBDZWxsID0gYmVnaW5DZWxsKCkuc3RvcmVVaW50KElOTkVSX09QX0NPREVfQ0FOQ0VMX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRCwgOCkuc3RvcmVSZWYoQ29udGV4dENhbmNlbERlYWxGb3JEZWFsUmVjZWl2ZWR7ZnJvbTogY3R4LnNlbmRlcn0udG9DZWxsKCkpLmVuZENlbGwoKTsgICAKICAgICAgICBzZWxmLmZldGNoRGVhbChtc2cucXVlcnlJZCwgbXNnLmRlYWxJZCwgY29udGV4dENhbmNlbERlYWwpOyAgICAKICAgIH0KCiAgICByZWNlaXZlKG1zZzogUHJvY2Vzc0RlYWwpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBHQVNfTUlOX1ZBTFVFLCAiSW52YWxpZCB2YWx1ZSIpOwoKICAgICAgICBsZXQgY29udGV4dFByb2Nlc3NEZWFsOiBDZWxsID0gYmVnaW5DZWxsKCkKICAgICAgICAgICAgLnN0b3JlVWludChJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9QUklDRV9SRUNFSVZFRCwgOCkKICAgICAgICAgICAgLnN0b3JlUmVmKENvbnRleHRQcm9jZXNzRGVhbEZvclByaWNlUmVjZWl2ZWR7ZnJvbTogY3R4LnNlbmRlciwgZGVhbElkOiBtc2cuZGVhbElkfS50b0NlbGwoKSkKICAgICAgICAgICAgLmVuZENlbGwoKTsgICAKICAgICAgICBzZWxmLmZldGNoUHJpY2VXaXRoU2F2ZUNvbnRleHQobXNnLnF1ZXJ5SWQsIG1zZy5vcmFjbGVBc3NldERhdGEsIG1zZy5vcmFjbGVUb2tlbkRhdGEsIGNvbnRleHRQcm9jZXNzRGVhbCk7ICAgIAogICAgfQogICAgCiAgICBmdW4gaGFuZGxlQ3JlYXRlRGVhbChxdWVyeUlkOiBJbnQsIGRlYWw6IENyZWF0ZURlYWxEYXRhLCBhbW91bnQ6IEludCwgZnJvbTogQWRkcmVzcykgewogICAgICAgIGxldCBkZWFsSWQ6IEludCA9IHNlbGYuY291bnREZWFsOwoKICAgICAgICBsZXQgc2xpcHBhZ2VBbW91bnQ6IEludCA9IChkZWFsLnJhdGVBc3NldCAqIGRlYWwucmF0ZVRva2VuICogZGVhbC5wZXJjZW50ICogZGVhbC5zbGlwcGFnZSkgLyBTTElQUEFHRV9ERU5PTUlOQVRPUjsKICAgICAgICBsZXQgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBJbnQgPSAoZGVhbC5yYXRlQXNzZXQgKiBkZWFsLnJhdGVUb2tlbiAqIGRlYWwucGVyY2VudCkgLyBDT0xMQVRFUkFMX0RFTk9NSU5BVE9SICsgc2xpcHBhZ2VBbW91bnQ7CiAgICAgICAKICAgICAgICBpZihhbW91bnQgPCBjb2xsYXRlcmFsQW1vdW50TWFrZXIpIHsKICAgICAgICAgICAgc2VsZi5yZXR1cm5Ub2tlbnMocXVlcnlJZCwgYW1vdW50LCBmcm9tLCBTTUFMTF9UT0tFTl9BTU9VTlQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBzZWxmLmNvdW50RGVhbCArPSAxOwogICAgICAgIGlmIChzZWxmLmFtbSAhPSBaRVJPX0FERFJFU1MpIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBzZWxmLmFtbSwKICAgICAgICAgICAgICAgIHZhbHVlOiBUT19UQUtFX0FNTSwKICAgICAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiBUYWtlRGVhbEFtbXsKICAgICAgICAgICAgICAgICAgICBkZWFsSWQ6IGRlYWxJZCwKICAgICAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogY29sbGF0ZXJhbEFtb3VudE1ha2VyLAogICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsR2FzVG86IGZyb20sCiAgICAgICAgICAgICAgICAgICAgb3JhY2xlQXNzZXREYXRhOiBkZWFsLm9yYWNsZUFzc2V0RGF0YSEhLAogICAgICAgICAgICAgICAgICAgIG9yYWNsZVRva2VuRGF0YTogZGVhbC5vcmFjbGVUb2tlbkRhdGEhIQogICAgICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGxldCBuZXdEZWFsOiBEZWFsRGF0YSA9IERlYWxEYXRhewogICAgICAgICAgICByYXRlOiAwLAogICAgICAgICAgICByYXRlTWFrZXI6IGRlYWwucmF0ZUFzc2V0LAogICAgICAgICAgICBwZXJjZW50OiBkZWFsLnBlcmNlbnQsCiAgICAgICAgICAgIHNsaXBwYWdlTWFrZXI6IGRlYWwuc2xpcHBhZ2UsCiAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogY29sbGF0ZXJhbEFtb3VudE1ha2VyLAogICAgICAgICAgICBkYXRlT3JkZXJDcmVhdGlvbjogbm93KCksCiAgICAgICAgICAgIGRhdGVPcmRlckV4cGlyYXRpb246IG5vdygpICsgZGVhbC5leHBpcmF0aW9uLAogICAgICAgICAgICBkYXRlU3RhcnQ6IDAsCiAgICAgICAgICAgIGRhdGVTdG9wOiAwLAogICAgICAgICAgICBidXllclRva2VuSWQ6IDAsCiAgICAgICAgICAgIHNlbGxlclRva2VuSWQ6IDAsCiAgICAgICAgICAgIG1ha2VyOiBmcm9tLAogICAgICAgICAgICBpc1NlbGxlcjogIWRlYWwubWFrZXJQb3NpdGlvbiwKICAgICAgICAgICAgc3RhdHVzOiBERUFMX1NUQVRVU19DUkVBVEVECiAgICAgICAgfTsKCiAgICAgICAgZW1pdChEZWFsQ3JlYXRlZEV2ZW50ewogICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICBkZWFsSWQ6IGRlYWxJZCwKICAgICAgICAgICAgbWFrZXI6IGZyb20sCiAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIHNlbGYuc2F2ZURlYWwocXVlcnlJZCwgZGVhbElkLCBuZXdEZWFsLCBmcm9tKTsKICAgIH0KCiAgICBmdW4gaGFuZGxlVGFrZURlYWwocXVlcnlJZDogSW50LCB0YWtlRGVhbDogVGFrZURlYWxEYXRhLCBhbW91bnQ6IEludCwgZnJvbTogQWRkcmVzcywgb3JpZ2luYWxHYXNUbzogQWRkcmVzcykgewogICAgICAgIGxldCBjb250ZXh0UHJvY2Vzc0RlYWw6IENlbGwgPSBiZWdpbkNlbGwoKQogICAgICAgICAgICAuc3RvcmVVaW50KElOTkVSX09QX0NPREVfVEFLRV9ERUFMX0FGVEVSX1BSSUNFX1JFQ0VJVkVELCA4KQogICAgICAgICAgICAuc3RvcmVSZWYoQ29udGV4dFRha2VEZWFsRm9yUHJpY2VSZWNlaXZlZHsKICAgICAgICAgICAgICAgIGZyb206IGZyb20sCiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIGRlYWxJZDogdGFrZURlYWwuZGVhbElkLAogICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogb3JpZ2luYWxHYXNUbwogICAgICAgICAgICB9LnRvQ2VsbCgpKQogICAgICAgICAgICAuZW5kQ2VsbCgpOwogICAgICAgIAogICAgICAgIHNlbGYuZmV0Y2hQcmljZVdpdGhTYXZlQ29udGV4dChxdWVyeUlkLCB0YWtlRGVhbC5vcmFjbGVBc3NldERhdGEsIHRha2VEZWFsLm9yYWNsZVRva2VuRGF0YSwgY29udGV4dFByb2Nlc3NEZWFsKTsKICAgIH0KCiAgICBmdW4gdGFrZURlYWxBZnRlclJlY2lldmVkUHJpY2UocXVlcnk6IENlbGwsIGN0eDogQ29udGV4dCwgcXVlcnlJZDogSW50LCBmZWVkSWQ6IEludCwgcHJpY2U6IEludCwgdGltZXN0YW1wOiBJbnQsIGZlZWRJZDI6IEludCwgcHJpY2UyOiBJbnQsIHRpbWVzdGFtcDI6IEludCkgewogICAgICAgIGxldCBjb250ZXh0VGFrZURlYWxBZnRlclByaWNlOiBDb250ZXh0VGFrZURlYWxGb3JQcmljZVJlY2VpdmVkID0gQ29udGV4dFRha2VEZWFsRm9yUHJpY2VSZWNlaXZlZC5mcm9tQ2VsbChxdWVyeSk7CiAgICAgICAgbGV0IGNvbnRleHRQcm9jZXNzRGVhbDogQ2VsbCA9IGJlZ2luQ2VsbCgpCiAgICAgICAgICAgIC5zdG9yZVVpbnQoSU5ORVJfT1BfQ09ERV9UQUtFX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRCwgOCkKICAgICAgICAgICAgLnN0b3JlUmVmKENvbnRleHRUYWtlRGVhbEZvckRlYWxSZWNlaXZlZHsKICAgICAgICAgICAgICAgIGZyb206IGNvbnRleHRUYWtlRGVhbEFmdGVyUHJpY2UuZnJvbSwKICAgICAgICAgICAgICAgIGFtb3VudDogY29udGV4dFRha2VEZWFsQWZ0ZXJQcmljZS5hbW91bnQsCiAgICAgICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBjb250ZXh0VGFrZURlYWxBZnRlclByaWNlLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgICAgICBmZWVkSWQ6IGZlZWRJZCwKICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wIC8gMTAwMCwKICAgICAgICAgICAgICAgIGZlZWRJZDI6IGZlZWRJZDIsCiAgICAgICAgICAgICAgICBwcmljZTI6IHByaWNlMiwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDI6IHRpbWVzdGFtcDIgLyAxMDAwLAogICAgICAgICAgICB9LnRvQ2VsbCgpKQogICAgICAgICAgICAuZW5kQ2VsbCgpOwogICAgICAgIHNlbGYuZmV0Y2hEZWFsKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyUHJpY2UuZGVhbElkLCBjb250ZXh0UHJvY2Vzc0RlYWwpOwogICAgfQoKICAgIGZ1biBwcm9jZXNzRGVhbEFmdGVyUmVjaWV2ZWRQcmljZShxdWVyeTogQ2VsbCwgY3R4OiBDb250ZXh0LCBxdWVyeUlkOiBJbnQsIGZlZWRJZDogSW50LCBwcmljZTogSW50LCB0aW1lc3RhbXA6IEludCwgZmVlZElkMjogSW50LCBwcmljZTI6IEludCwgdGltZXN0YW1wMjogSW50KSB7CiAgICAgICAgbGV0IGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyUHJpY2U6IENvbnRleHRQcm9jZXNzRGVhbEZvclByaWNlUmVjZWl2ZWQgPSBDb250ZXh0UHJvY2Vzc0RlYWxGb3JQcmljZVJlY2VpdmVkLmZyb21DZWxsKHF1ZXJ5KTsKICAgICAgICBsZXQgY29udGV4dFByb2Nlc3NEZWFsOiBDZWxsID0gYmVnaW5DZWxsKCkKICAgICAgICAgICAgLnN0b3JlVWludChJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9ERUFMX1JFQ0VJVkVELCA4KQogICAgICAgICAgICAuc3RvcmVSZWYoQ29udGV4dFByb2Nlc3NEZWFsRm9yRGVhbFJlY2VpdmVkewogICAgICAgICAgICAgICAgZnJvbTogY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJQcmljZS5mcm9tLAogICAgICAgICAgICAgICAgZmVlZElkOiBmZWVkSWQsCiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UsCiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCAvIDEwMDAsCiAgICAgICAgICAgICAgICBmZWVkSWQyOiBmZWVkSWQyLAogICAgICAgICAgICAgICAgcHJpY2UyOiBwcmljZTIsCiAgICAgICAgICAgICAgICB0aW1lc3RhbXAyOiB0aW1lc3RhbXAyIC8gMTAwMCwKICAgICAgICAgICAgfS50b0NlbGwoKSkKICAgICAgICAgICAgLmVuZENlbGwoKTsKICAgICAgICBzZWxmLmZldGNoRGVhbChxdWVyeUlkLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlclByaWNlLmRlYWxJZCwgY29udGV4dFByb2Nlc3NEZWFsKTsgICAgCiAgICB9ICAgCgogICAgCgoKICAgIGZ1biB0YWtlRGVhbEFmdGVyUmVjaWV2ZWREZWFsKGRlYWw6IERlYWxEYXRhLCBxdWVyeTogQ2VsbCwgY3R4OiBDb250ZXh0LCBxdWVyeUlkOiBJbnQsIGRlYWxJZDogSW50KSB7CiAgICAgICAgbGV0IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbDogQ29udGV4dFRha2VEZWFsRm9yRGVhbFJlY2VpdmVkID0gQ29udGV4dFRha2VEZWFsRm9yRGVhbFJlY2VpdmVkLmZyb21DZWxsKHF1ZXJ5KTsKICAgICAgICAKICAgICAgICBpZiAoZGVhbC5tYWtlciA9PSBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSkgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2VucyhxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuYW1vdW50LCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgVFJBTlNBQ1RJT05fRlJPTV9NQUtFUik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGRlYWwuc3RhdHVzICE9IERFQUxfU1RBVFVTX0NSRUFURUQpIHsKICAgICAgICAgICAgc2VsZi5yZXR1cm5Ub2tlbnMocXVlcnlJZCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmFtb3VudCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZyb20sIEJBRF9TVEFUVVMpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZmVlZElkICE9IHNlbGYuZmVlZElkQXNzZXQgfHwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZlZWRJZDIgIT0gc2VsZi5mZWVkSWRUb2tlbikgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2VucyhxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuYW1vdW50LCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgQkFEX0ZFRURfSUQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChjb250ZXh0VGFrZURlYWxBZnRlckRlYWwudGltZXN0YW1wIDwgbm93KCkgLSBUSU1FX1NMSVBQQUdFKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9rZW5zKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5hbW91bnQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBPUkFDTEVfUFJJQ0VfVE9PX09MRCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGxldCBjb2xsYXRlcmFsQW1vdW50OiBJbnQgPSAoZGVhbC5wZXJjZW50ICogY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlICogY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlMikgLyBDT0xMQVRFUkFMX0RFTk9NSU5BVE9SOyAKCgogICAgICAgIGlmICgoY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlIDw9CiAgICAgICAgICAgICAgICAoZGVhbC5yYXRlTWFrZXIgLQogICAgICAgICAgICAgICAgICAgIChkZWFsLnJhdGVNYWtlciAqIGRlYWwuc2xpcHBhZ2VNYWtlcikgLwogICAgICAgICAgICAgICAgICAgIFJBVEVfREVOT01JTkFUT1IpKSAmJgogICAgICAgICAgICAoY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlID49CiAgICAgICAgICAgICAgICAoZGVhbC5yYXRlTWFrZXIgKwogICAgICAgICAgICAgICAgICAgIChkZWFsLnJhdGVNYWtlciAqIGRlYWwuc2xpcHBhZ2VNYWtlcikgLwogICAgICAgICAgICAgICAgICAgIFJBVEVfREVOT01JTkFUT1IpKSkgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2VucyhxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuYW1vdW50LCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgTUFLRVJfT1VUX09GX1JBTkdFKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbGV0IHJldHVybkFtb3VudFRvVGFrZXI6IEludCA9IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5hbW91bnQgLSBjb2xsYXRlcmFsQW1vdW50OwogICAgICAgIGlmKHJldHVybkFtb3VudFRvVGFrZXIgPCAwKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9rZW5zKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5hbW91bnQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBTTUFMTF9BTU9VTlQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZihyZXR1cm5BbW91bnRUb1Rha2VyID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IHNlbGYuamV0dG9uV2FsbGV0LAogICAgICAgICAgICAgICAgdmFsdWU6IEdBU19UT19TRU5EX0pFVFRPTiwKICAgICAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogcmV0dXJuQW1vdW50VG9UYWtlciwKICAgICAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlJZCwKICAgICAgICAgICAgICAgICAgICByZWNpcGllbnQ6IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwub3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgICAgICAgICBjdXN0b21fcGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IDAsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBlbXB0eVNsaWNlKCksCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0pOyAKICAgICAgICB9CgogICAgICAgIGxldCByZXR1cm5BbW91bnRUb01ha2VyOiBJbnQgPSBkZWFsLmNvbGxhdGVyYWxBbW91bnRNYWtlciAtIGNvbGxhdGVyYWxBbW91bnQ7CiAgICAgICAgaWYocmV0dXJuQW1vdW50VG9NYWtlciA8IDApIHsKICAgICAgICAgICAgc2VsZi5yZXR1cm5Ub2tlbnMocXVlcnlJZCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmFtb3VudCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZyb20sIFNNQUxMX0FNT1VOVF9PRl9NQUtFUik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYocmV0dXJuQW1vdW50VG9NYWtlciA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBzZWxmLmpldHRvbldhbGxldCwKICAgICAgICAgICAgICAgIHZhbHVlOiBHQVNfVE9fU0VORF9KRVRUT04sCiAgICAgICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgYm9keTogVG9rZW5UcmFuc2ZlcnsKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IHJldHVybkFtb3VudFRvTWFrZXIsCiAgICAgICAgICAgICAgICAgICAgcXVlcnlfaWQ6IHF1ZXJ5SWQsICAKICAgICAgICAgICAgICAgICAgICByZWNpcGllbnQ6IGRlYWwubWFrZXIsCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfZGVzdGluYXRpb246IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvLAogICAgICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRfdG9uX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKSwKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7IAogICAgICAgIH0KCiAgICAgICAgZGVhbC5jb2xsYXRlcmFsQW1vdW50TWFrZXIgPSBjb2xsYXRlcmFsQW1vdW50OwogICAgICAgIGRlYWwucmF0ZSA9IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5wcmljZTsKICAgICAgICBkZWFsLmRhdGVTdGFydCA9IG5vdygpOwogICAgICAgIGRlYWwuZGF0ZVN0b3AgPSBub3coKSArIHNlbGYuZHVyYXRpb247CiAgICAgICAgZGVhbC5zdGF0dXMgPSBERUFMX1NUQVRVU19BQ0NFUFRFRDsKCiAgICAgICAgaWYgKGRlYWwuaXNTZWxsZXIpIHsKICAgICAgICAgICAgZGVhbC5idXllclRva2VuSWQgPSBzZWxmLm1pbnQocXVlcnlJZCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZyb20sIG1pblRvbnNGb3JTdG9yYWdlICsgZ2FzQ29uc3VtcHRpb24sIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvKTsKICAgICAgICAgICAgZGVhbC5zZWxsZXJUb2tlbklkID0gc2VsZi5taW50KHF1ZXJ5SWQsIGRlYWwubWFrZXIsIG1pblRvbnNGb3JTdG9yYWdlICsgZ2FzQ29uc3VtcHRpb24sIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkZWFsLnNlbGxlclRva2VuSWQgPSBzZWxmLm1pbnQocXVlcnlJZCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZyb20sIG1pblRvbnNGb3JTdG9yYWdlICsgZ2FzQ29uc3VtcHRpb24sIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvKTsKICAgICAgICAgICAgZGVhbC5idXllclRva2VuSWQgPSBzZWxmLm1pbnQocXVlcnlJZCwgZGVhbC5tYWtlciwgbWluVG9uc0ZvclN0b3JhZ2UgKyBnYXNDb25zdW1wdGlvbiwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLm9yaWdpbmFsR2FzVG8pOwogICAgICAgIH0KCiAgICAgICAgZW1pdChEZWFsQWNjZXB0ZWRFdmVudHsKICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgZGVhbElkOiBkZWFsSWQsCiAgICAgICAgICAgIG1ha2VyOiBkZWFsLm1ha2VyLAogICAgICAgICAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIHNlbGYuc2F2ZURlYWwocXVlcnlJZCwgZGVhbElkLCBkZWFsLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwub3JpZ2luYWxHYXNUbyk7CiAgICB9CgogICAgZnVuIGNhbmNlbERlYWxBZnRlclJlY2lldmVkRGVhbChkZWFsOiBEZWFsRGF0YSwgcXVlcnk6IENlbGwsIGN0eDogQ29udGV4dCwgcXVlcnlJZDogSW50LCBkZWFsSWQ6IEludCkgewogICAgICAgIGxldCBjb250ZXh0Q2FuY2VsRGVhbEFmdGVyRGVhbDogQ29udGV4dENhbmNlbERlYWxGb3JEZWFsUmVjZWl2ZWQgPSBDb250ZXh0Q2FuY2VsRGVhbEZvckRlYWxSZWNlaXZlZC5mcm9tQ2VsbChxdWVyeSk7CiAgICAgICAgaWYgKGRlYWwubWFrZXIgIT0gY29udGV4dENhbmNlbERlYWxBZnRlckRlYWwuZnJvbSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGVtaXQoQ2FuY2VsRXZlbnR7CiAgICAgICAgICAgIHF1ZXJ5SWQ6IHF1ZXJ5SWQsCiAgICAgICAgICAgIGRlYWxJZDogZGVhbElkLAogICAgICAgICAgICBtYWtlcjogZGVhbC5tYWtlciwKICAgICAgICAgICAgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBkZWFsLmNvbGxhdGVyYWxBbW91bnRNYWtlcgogICAgICAgIH0udG9DZWxsKCkpOyAKICAgICAgICBzZWxmLl9jYW5jZWxEZWFsKGRlYWwsIGNvbnRleHRDYW5jZWxEZWFsQWZ0ZXJEZWFsLmZyb20sIHF1ZXJ5SWQsIGRlYWxJZCk7CiAgICB9ICAgICAgIAoKICAgIGZ1biBwcm9jZXNzRGVhbEFmdGVyUmVjaWV2ZWREZWFsKGRlYWw6IERlYWxEYXRhLCBxdWVyeTogQ2VsbCwgY3R4OiBDb250ZXh0LCBxdWVyeUlkOiBJbnQsIGRlYWxJZDogSW50KSB7CiAgICAgICAgbGV0IGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbDogQ29udGV4dFByb2Nlc3NEZWFsRm9yRGVhbFJlY2VpdmVkID0gQ29udGV4dFByb2Nlc3NEZWFsRm9yRGVhbFJlY2VpdmVkLmZyb21DZWxsKHF1ZXJ5KTsKICAgICAgICBpZiAoZGVhbC5zdGF0dXMgPT0gREVBTF9TVEFUVVNfQ1JFQVRFRCAmJiBkZWFsLmRhdGVPcmRlckV4cGlyYXRpb24gPD0gbm93KCkpIHsKICAgICAgICAgICAgZW1pdChEZWFsRXhwaXJlZEV2ZW50ewogICAgICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgICAgIGRlYWxJZDogZGVhbElkLAogICAgICAgICAgICAgICAgbWFrZXI6IGRlYWwubWFrZXIsCiAgICAgICAgICAgICAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgICAgICBzZWxmLl9jYW5jZWxEZWFsKGRlYWwsIGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5mcm9tLCBxdWVyeUlkLCBkZWFsSWQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfSAgCgogICAgICAgIGlmICghKGRlYWwuc3RhdHVzID09IERFQUxfU1RBVFVTX0FDQ0VQVEVEICYmIGRlYWwuZGF0ZVN0b3AgPD0gbm93KCkpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5mZWVkSWQgIT0gc2VsZi5mZWVkSWRBc3NldCB8fCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwuZmVlZElkMiAhPSBzZWxmLmZlZWRJZFRva2VuKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC50aW1lc3RhbXAgPCBkZWFsLmRhdGVTdG9wIC0gVElNRV9TTElQUEFHRSB8fCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwudGltZXN0YW1wID4gZGVhbC5kYXRlU3RvcCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwudGltZXN0YW1wMiA8IGRlYWwuZGF0ZVN0b3AgLSBUSU1FX1NMSVBQQUdFIHx8IGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC50aW1lc3RhbXAyID4gZGVhbC5kYXRlU3RvcCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBjb2xsYXRlcmFsQW1vdW50OiBJbnQgPSBkZWFsLmNvbGxhdGVyYWxBbW91bnRNYWtlcjsKICAgICAgICBsZXQgcGF5b3V0QnV5ZXI6IEludCA9IDA7CiAgICAgICAgbGV0IHBheW91dFNlbGxlcjogSW50ID0gMDsKCiAgICAgICAgbGV0IGRlbHRhID0gKGRlYWwucmF0ZSAtIGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5wcmljZSkgKiBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwucHJpY2UyIC8gUkFURV9ERU5PTUlOQVRPUjsKCiAgICAgICAgaWYoYWJzKGRlbHRhKSA+PSBjb2xsYXRlcmFsQW1vdW50KSB7CiAgICAgICAgICAgIGlmIChkZWx0YSA+IDApIHsKICAgICAgICAgICAgICAgIHBheW91dFNlbGxlciA9IGNvbGxhdGVyYWxBbW91bnQgKiAyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcGF5b3V0QnV5ZXIgPSBjb2xsYXRlcmFsQW1vdW50ICogMjsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBheW91dFNlbGxlciA9IGNvbGxhdGVyYWxBbW91bnQgKyBkZWx0YTsKICAgICAgICAgICAgcGF5b3V0QnV5ZXIgPSBjb2xsYXRlcmFsQW1vdW50IC0gZGVsdGE7CiAgICAgICAgfQoKICAgICAgICBsZXQgb3BlcmF0b3JGZWU6IEludCA9IDA7CiAgICAgICAgbGV0IHNlcnZpY2VGZWU6IEludCA9IDA7CgogICAgICAgIGlmIChwYXlvdXRCdXllciA+IDApIHsKICAgICAgICAgICAgaWYgKHBheW91dEJ1eWVyID4gY29sbGF0ZXJhbEFtb3VudCkgewogICAgICAgICAgICAgICAgb3BlcmF0b3JGZWUgPSAoKHBheW91dEJ1eWVyIC0gY29sbGF0ZXJhbEFtb3VudCkgKiBzZWxmLm9wZXJhdG9yRmVlKSAvIEZFRV9ERU5PTUlOQVRPUjsKICAgICAgICAgICAgICAgIHNlcnZpY2VGZWUgPSAoKHBheW91dEJ1eWVyIC0gY29sbGF0ZXJhbEFtb3VudCkgKiBzZWxmLnNlcnZpY2VGZWUpIC8gRkVFX0RFTk9NSU5BVE9SOwogICAgICAgICAgICAgICAgcGF5b3V0QnV5ZXIgPSBwYXlvdXRCdXllciAtIG9wZXJhdG9yRmVlIC0gc2VydmljZUZlZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLnNlbmRUb2tlbnMoZGVhbC5idXllclRva2VuSWQsIHBheW91dEJ1eWVyLCBxdWVyeUlkLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwuZnJvbSk7CiAgICAgICAgfQoKICAgICAgICBpZiAocGF5b3V0U2VsbGVyID4gMCkgewogICAgICAgICAgICBpZiAocGF5b3V0U2VsbGVyID4gY29sbGF0ZXJhbEFtb3VudCkgewogICAgICAgICAgICAgICAgb3BlcmF0b3JGZWUgPSAoKHBheW91dFNlbGxlciAtIGNvbGxhdGVyYWxBbW91bnQpICogc2VsZi5vcGVyYXRvckZlZSkgLyBGRUVfREVOT01JTkFUT1I7CiAgICAgICAgICAgICAgICBzZXJ2aWNlRmVlID0gKChwYXlvdXRTZWxsZXIgLSBjb2xsYXRlcmFsQW1vdW50KSAqIHNlbGYuc2VydmljZUZlZSkgLyBGRUVfREVOT01JTkFUT1I7CiAgICAgICAgICAgICAgICBwYXlvdXRTZWxsZXIgPSBwYXlvdXRTZWxsZXIgLSBvcGVyYXRvckZlZSAtIHNlcnZpY2VGZWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2VsZi5zZW5kVG9rZW5zKGRlYWwuc2VsbGVyVG9rZW5JZCwgcGF5b3V0U2VsbGVyLCBxdWVyeUlkICsgMSwgY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLmZyb20pOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5vcGVyYXRvckZlZVN1bSArPSBvcGVyYXRvckZlZTsKICAgICAgICBzZWxmLnNlcnZpY2VGZWVTdW0gKz0gc2VydmljZUZlZTsKCiAgICAgICAgZW1pdChEZWFsQ29tcGxldGVkRXZlbnR7CiAgICAgICAgICAgIHF1ZXJ5SWQ6IHF1ZXJ5SWQsCiAgICAgICAgICAgIGRlYWxJZDogZGVhbElkLAogICAgICAgICAgICBtYWtlcjogZGVhbC5tYWtlciwKICAgICAgICAgICAgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBkZWFsLmNvbGxhdGVyYWxBbW91bnRNYWtlcgogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIHNlbGYuZGVsZXRlRGVhbChxdWVyeUlkLCBkZWFsSWQsIGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5mcm9tKTsgICAKICAgIH0KCiAgICBmdW4gX2NhbmNlbERlYWwoZGVhbDogRGVhbERhdGEsIG9yaWdpbmFsR2FzVG86IEFkZHJlc3MsIHF1ZXJ5SWQ6IEludCwgZGVhbElkOiBJbnQpIHsKICAgICAgICByZXF1aXJlKGRlYWwuc3RhdHVzID09IERFQUxfU1RBVFVTX0NSRUFURUQsICJEZWFsIGlzIG5vdCBjcmVhdGVkIik7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYuamV0dG9uV2FsbGV0LAogICAgICAgICAgICB2YWx1ZTogR0FTX1RPX1NFTkRfSkVUVE9OLAogICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICBhbW91bnQ6IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyLAogICAgICAgICAgICAgICAgcXVlcnlfaWQ6IHF1ZXJ5SWQsCiAgICAgICAgICAgICAgICByZWNpcGllbnQ6IGRlYWwubWFrZXIsCiAgICAgICAgICAgICAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogb3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiAwLAogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBlbXB0eVNsaWNlKCksCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgICAgICBzZWxmLmRlbGV0ZURlYWwocXVlcnlJZCwgZGVhbElkLCBvcmlnaW5hbEdhc1RvKTsgICAKICAgIH0KCiAgICBmdW4gc2VuZFRva2Vucyh0b2tlbklkOiBJbnQsIGFtb3VudDogSW50LCBxdWVyeUlkOiBJbnQsIG9yaWdpbmFsR2FzVG86IEFkZHJlc3MpIHsKICAgICAgICByZXF1aXJlKHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5nZXQocXVlcnlJZCkgPT0gbnVsbCwgIlF1ZXJ5SWQgYWxyZWFkeSBleGlzdHMiKTsKCiAgICAgICAgbGV0IGNvbnRleHRGb3JHZXRPd25lcjogQ29udGV4dEZvckdldE93bmVyID0gQ29udGV4dEZvckdldE93bmVyewogICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogb3JpZ2luYWxHYXNUbywKICAgICAgICB9OwogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5zZXQocXVlcnlJZCwgY29udGV4dEZvckdldE93bmVyLnRvQ2VsbCgpKTsKCiAgICAgICAgc2VsZi5mZXRjaE93bmVyQnlJbmRleChxdWVyeUlkLCB0b2tlbklkLCBHQVNfVE9fRkVUQ0hfT1dORVIpOwogICAgfSAgICAgICAKCiAgICByZWNlaXZlKG1zZzogUmVwb3J0T3duZXIpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICBsZXQgd2luaXQ6IFN0YXRlSW5pdCA9IGluaXRPZiBOZnRJdGVtKG15QWRkcmVzcygpLCBtc2cuaW5kZXhfaWQpOwoKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gY29udHJhY3RBZGRyZXNzKHdpbml0KSwgIlJlcG9ydE93bmVyIG11c3QgYmUgZnJvbSBuZnQgY29udHJhY3QiKTsKICAgICAgICBsZXQgY29udGV4dEZvckdldE93bmVyOiBDb250ZXh0Rm9yR2V0T3duZXIgPSBDb250ZXh0Rm9yR2V0T3duZXIuZnJvbUNlbGwoc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmdldChtc2cucXVlcnlfaWQpKTsKICAgICAgICBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZGVsKG1zZy5xdWVyeV9pZCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYuamV0dG9uV2FsbGV0LAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogIFNlbmRSZW1haW5pbmdCYWxhbmNlLCAKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgYW1vdW50OiBjb250ZXh0Rm9yR2V0T3duZXIuYW1vdW50LAogICAgICAgICAgICAgICAgcXVlcnlfaWQ6IG1zZy5xdWVyeV9pZCwKICAgICAgICAgICAgICAgIHJlY2lwaWVudDogbXNnLm93bmVyLAogICAgICAgICAgICAgICAgcmVzcG9uc2VfZGVzdGluYXRpb246IGNvbnRleHRGb3JHZXRPd25lci5vcmlnaW5hbEdhc1RvLAogICAgICAgICAgICAgICAgY3VzdG9tX3BheWxvYWQ6IG51bGwsCiAgICAgICAgICAgICAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IDAsCiAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKSwKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1biBzYXZlRGVhbChxdWVyeUlkOiBJbnQsIGRlYWxJZDogSW50LCBkZWFsOiBEZWFsRGF0YSwgb3JpZ2luYWxHYXNUbzogQWRkcmVzcykgeyAKICAgICAgICBsZXQgd2luaXQ6IFN0YXRlSW5pdCA9IGluaXRPZiBEZWFsKGRlYWxJZCwgbXlBZGRyZXNzKCkpOwoKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogY29udHJhY3RBZGRyZXNzKHdpbml0KSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBib2R5OiBTYXZlRGF0YXsKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IHF1ZXJ5SWQsCiAgICAgICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBvcmlnaW5hbEdhc1RvLAogICAgICAgICAgICAgICAgZGF0YTogZGVhbC50b0NlbGwoKSwKICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgY29kZTogd2luaXQuY29kZSwKICAgICAgICAgICAgZGF0YTogd2luaXQuZGF0YQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1biBkZWxldGVEZWFsKHF1ZXJ5SWQ6IEludCwgZGVhbElkOiBJbnQsIG9yaWdpbmFsR2FzVG86IEFkZHJlc3MpIHsgCiAgICAgICAgbGV0IHdpbml0OiBTdGF0ZUluaXQgPSBpbml0T2YgRGVhbChkZWFsSWQsIG15QWRkcmVzcygpKTsKCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgYm9keTogRGVsZXRlRGF0YXsKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IHF1ZXJ5SWQsCiAgICAgICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBvcmlnaW5hbEdhc1RvLAogICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgICAgICBjb2RlOiB3aW5pdC5jb2RlLAogICAgICAgICAgICBkYXRhOiB3aW5pdC5kYXRhCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuIGZldGNoUHJpY2VXaXRoU2F2ZUNvbnRleHQocXVlcnlJZDogSW50LCBvcmFjbGVBc3NldERhdGE6IENlbGwsIG9yYWNsZVRva2VuRGF0YTogQ2VsbCwgc2F2ZUNvbnRleHQ6IENlbGwpIHsKICAgICAgICByZXF1aXJlKHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5nZXQocXVlcnlJZCkgPT0gbnVsbCwgIlF1ZXJ5SWQgYWxyZWFkeSBleGlzdHMiKTsKICAgICAgICBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuc2V0KHF1ZXJ5SWQsIHNhdmVDb250ZXh0KTsKICAgICAgICBzZWxmLmZldGNoUHJpY2UocXVlcnlJZCwgb3JhY2xlQXNzZXREYXRhLCBvcmFjbGVUb2tlbkRhdGEpOwogICAgfQoKICAgIG92ZXJyaWRlIGZ1biBvblByaWNlUmVjZWl2ZWQocXVlcnlJZDogSW50LCBmZWVkSWQ6IEludCwgcHJpY2U6IEludCwgdGltZXN0YW1wOiBJbnQsIGZlZWRJZDI6IEludCwgcHJpY2UyOiBJbnQsIHRpbWVzdGFtcDI6IEludCkgewogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIGxldCBxdWVyeTogU2xpY2UgPSBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZ2V0KHF1ZXJ5SWQpISEuYmVnaW5QYXJzZSgpOwogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5kZWwocXVlcnlJZCk7CgogICAgICAgIGxldCBvcGNvZGU6IEludCA9IHF1ZXJ5LmxvYWRVaW50KDgpOwoKICAgICAgICBpZiAob3Bjb2RlID09IElOTkVSX09QX0NPREVfVEFLRV9ERUFMX0FGVEVSX1BSSUNFX1JFQ0VJVkVEKSB7IAogICAgICAgICAgICBzZWxmLnRha2VEZWFsQWZ0ZXJSZWNpZXZlZFByaWNlKHF1ZXJ5LmxvYWRSZWYoKSwgY3R4LCBxdWVyeUlkLCBmZWVkSWQsIHByaWNlLCB0aW1lc3RhbXAsIGZlZWRJZDIsIHByaWNlMiwgdGltZXN0YW1wMik7CiAgICAgICAgfSBlbHNlIGlmIChvcGNvZGUgPT0gSU5ORVJfT1BfQ09ERV9QUk9DRVNTX0RFQUxfQUZURVJfUFJJQ0VfUkVDRUlWRUQpIHsKICAgICAgICAgICAgc2VsZi5wcm9jZXNzRGVhbEFmdGVyUmVjaWV2ZWRQcmljZShxdWVyeS5sb2FkUmVmKCksIGN0eCwgcXVlcnlJZCwgZmVlZElkLCBwcmljZSwgdGltZXN0YW1wLCBmZWVkSWQyLCBwcmljZTIsIHRpbWVzdGFtcDIpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW4gZmV0Y2hEZWFsKHF1ZXJ5SWQ6IEludCwgZGVhbElkOiBJbnQsIHNhdmVDb250ZXh0OiBDZWxsKSB7IAogICAgICAgIHJlcXVpcmUoc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmdldChxdWVyeUlkKSA9PSBudWxsLCAiUXVlcnlJZCBhbHJlYWR5IGV4aXN0cyIpOwoKICAgICAgICBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuc2V0KHF1ZXJ5SWQsIHNhdmVDb250ZXh0KTsKICAgICAgICBsZXQgd2luaXQ6IFN0YXRlSW5pdCA9IGluaXRPZiBEZWFsKGRlYWxJZCwgbXlBZGRyZXNzKCkpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBjb250cmFjdEFkZHJlc3Mod2luaXQpLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogR2V0RGF0YXsKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IHF1ZXJ5SWQsIAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFJlcG9ydERhdGEpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICBsZXQgd2luaXQ6IFN0YXRlSW5pdCA9IGluaXRPZiBEZWFsKG1zZy5pZCwgbXlBZGRyZXNzKCkpOwogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBjb250cmFjdEFkZHJlc3Mod2luaXQpLCAiUmVwb3J0RGF0YSBtdXN0IGJlIGZyb20gRGVhbCBjb250cmFjdCIpOwogICAgICAgIGxldCBkZWFsOiBEZWFsRGF0YSA9IERlYWxEYXRhLmZyb21DZWxsKG1zZy5kYXRhKTsKICAgICAgICBsZXQgcXVlcnk6IFNsaWNlID0gc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmdldChtc2cucXVlcnlJZCkhIS5iZWdpblBhcnNlKCk7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChtc2cucXVlcnlJZCk7CgogICAgICAgIGxldCBvcGNvZGU6IEludCA9IHF1ZXJ5LmxvYWRVaW50KDgpOwogICAgICAgIGlmIChvcGNvZGUgPT0gSU5ORVJfT1BfQ09ERV9UQUtFX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRCkgeyAKICAgICAgICAgICAgc2VsZi50YWtlRGVhbEFmdGVyUmVjaWV2ZWREZWFsKGRlYWwsIHF1ZXJ5LmxvYWRSZWYoKSwgY3R4LCBtc2cucXVlcnlJZCwgbXNnLmlkKTsKICAgICAgICB9IGVsc2UgaWYgKG9wY29kZSA9PSBJTk5FUl9PUF9DT0RFX0NBTkNFTF9ERUFMX0FGVEVSX0RFQUxfUkVDRUlWRUQpIHsKICAgICAgICAgICAgc2VsZi5jYW5jZWxEZWFsQWZ0ZXJSZWNpZXZlZERlYWwoZGVhbCwgcXVlcnkubG9hZFJlZigpLCBjdHgsIG1zZy5xdWVyeUlkLCBtc2cuaWQpOwogICAgICAgIH0gZWxzZSBpZiAob3Bjb2RlID09IElOTkVSX09QX0NPREVfUFJPQ0VTU19ERUFMX0FGVEVSX0RFQUxfUkVDRUlWRUQpIHsKICAgICAgICAgICAgc2VsZi5wcm9jZXNzRGVhbEFmdGVyUmVjaWV2ZWREZWFsKGRlYWwsIHF1ZXJ5LmxvYWRSZWYoKSwgY3R4LCBtc2cucXVlcnlJZCwgbXNnLmlkKTsKICAgICAgICB9ICAgCiAgICB9CiAKICAgIGZ1biByZXR1cm5Ub2tlbnMocXVlcnlJZDogSW50LCBhbW91bnQ6SW50LCB0bzogQWRkcmVzcywgcmVhc29uOiBJbnQpIHsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5qZXR0b25XYWxsZXQsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQsCiAgICAgICAgICAgICAgICByZWNpcGllbnQ6IHRvLAogICAgICAgICAgICAgICAgcXVlcnlfaWQ6IHF1ZXJ5SWQsCiAgICAgICAgICAgICAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogdG8sCiAgICAgICAgICAgICAgICBjdXN0b21fcGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgIGZvcndhcmRfdG9uX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgIGZvcndhcmRfcGF5bG9hZDogYmVnaW5DZWxsKCkuc3RvcmVVaW50KHJlYXNvbiwgOCkuYXNTbGljZSgpCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KICAgIAogICAgb3ZlcnJpZGUgZnVuIG9uT3JhY2xlRXJyb3JSZWNlaXZlZChxdWVyeUlkOiBJbnQsIGVycm9yOiBTbGljZSkgewogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5kZWwocXVlcnlJZCk7CiAgICB9CgogICAgb3ZlcnJpZGUgZnVuIG9uQm91bmNlZEdldE93bmVyKHF1ZXJ5SWQ6IEludCkgewogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5kZWwocXVlcnlJZCk7CiAgICB9ICAgCiAgICAKICAgIGJvdW5jZWQobXNnOiBHZXREYXRhKSB7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChtc2cucXVlcnlJZCk7CiAgICB9CgogICAgZ2V0IGZ1biBpZCgpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLmlkOwogICAgfQoKICAgIGdldCBmdW4gYW1tKCk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBzZWxmLmFtbTsKICAgIH0KCiAgICBnZXQgZnVuIGpldHRvbldhbGxldCgpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gc2VsZi5qZXR0b25XYWxsZXQ7CiAgICB9CiAgICAKICAgIGdldCBmdW4gdW5kZXJseWluZ0Fzc2V0TmFtZSgpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnVuZGVybHlpbmdBc3NldE5hbWU7CiAgICB9CgogICAgZ2V0IGZ1biBkdXJhdGlvbigpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLmR1cmF0aW9uOwogICAgfQoKICAgIGdldCBmdW4gb3BlcmF0b3JGZWUoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5vcGVyYXRvckZlZTsKICAgIH0KICAgIAogICAgZ2V0IGZ1biBiYWxhbmNlKCk6IEludCB7CiAgICAgICAgcmV0dXJuIG15QmFsYW5jZSgpOwogICAgfQoKICAgIGdldCBmdW4gc2VydmljZUZlZSgpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLnNlcnZpY2VGZWU7CiAgICB9CgogICAgZ2V0IGZ1biBjb3VudERlYWwoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5jb3VudERlYWw7CiAgICB9CgogICAgZ2V0IGZ1biBuZXh0X2l0ZW1faW5kZXgoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5uZXh0X2l0ZW1faW5kZXg7CiAgICB9CgogICAgZ2V0IGZ1biBjb2xsZWN0aW9uX2NvbnRlbnQoKTogQ2VsbCB7CiAgICAgICAgcmV0dXJuIHNlbGYuY29sbGVjdGlvbl9jb250ZW50OwogICAgfQoKICAgIGdldCBmdW4gb3JhY2xlKCk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBzZWxmLm9yYWNsZTsKICAgIH0KCiAgICBnZXQgZnVuIGZhY3RvcnkoKTogQWRkcmVzcyB7CiAgICAgICAgcmV0dXJuIHNlbGYuZmFjdG9yeTsKICAgIH0KCiAgICBnZXQgZnVuIGZlZWRJZEFzc2V0KCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuZmVlZElkQXNzZXQ7CiAgICB9CgogICAgZ2V0IGZ1biBmZWVkSWRUb2tlbigpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLmZlZWRJZFRva2VuOwogICAgfQoKICAgIGdldCBmdW4gb3BlcmF0b3JGZWVTdW0oKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5vcGVyYXRvckZlZVN1bTsKICAgIH0KCiAgICBnZXQgZnVuIHNlcnZpY2VGZWVTdW0oKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5zZXJ2aWNlRmVlU3VtOwogICAgfQoKICAgIGdldCBmdW4gb3BlcmF0b3JGZWVBZGRyZXNzKCk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBzZWxmLm9wZXJhdG9yRmVlQWRkcmVzczsKICAgIH0KICAgIAogICAgZ2V0IGZ1biBtYXBRdWVyaWVzVG9Db250ZXh0KCk6IG1hcDxJbnQsIENlbGw+IHsKICAgICAgICByZXR1cm4gc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0OwogICAgfQp9","contracts/market_ton.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9zdG9wcGFibGUiOwppbXBvcnQgIi4vbWFya2V0X21lc3NhZ2VzLnRhY3QiOwppbXBvcnQgIi4vbmZ0L25mdF9jb2xsZWN0aW9uLnRhY3QiOwppbXBvcnQgIi4vamV0dG9uL2pldHRvbl9tZXNzYWdlcy50YWN0IjsKaW1wb3J0ICIuL2RlYWwudGFjdCI7CmltcG9ydCAiLi9vcmFjbGUvcmVkc3RvbnRlX29yYWNsZV9jb25zdW1lcl9iYXNlLnRhY3QiOwppbXBvcnQgIi4vaW1wb3J0cy9jb25zdGFudHMudGFjdCI7CmNvbnRyYWN0IE1hcmtldFRvbiB3aXRoIFJlc3VtYWJsZSwgTmZ0Q29sbGVjdGlvbiwgUmVkc3RvbmVPcmFjbGVDb25zdW1lckJhc2UgewogICAgaWQ6IEludCBhcyB1aW50MzI7CiAgICBvd25lcjogQWRkcmVzczsKICAgIGFtbTogQWRkcmVzczsKICAgIHVuZGVybHlpbmdBc3NldE5hbWU6IFN0cmluZzsKICAgIGR1cmF0aW9uOiBJbnQgYXMgdWludDMyOwogICAgb3BlcmF0b3JGZWU6IEludCBhcyB1aW50MzI7CiAgICBzZXJ2aWNlRmVlOiBJbnQgYXMgdWludDMyOwogICAgZmFjdG9yeTogQWRkcmVzczsKICAgIHN0b3BwZWQ6IEJvb2wgPSBmYWxzZTsKICAgIGNvdW50RGVhbDogSW50IGFzIHVpbnQzMiA9IDA7CiAgICBuZXh0X2l0ZW1faW5kZXg6IEludCBhcyB1aW50MzIgPSAwOwogICAgY29sbGVjdGlvbl9jb250ZW50OiBDZWxsOwogICAgbWFwUXVlcmllc1RvQ29udGV4dDogbWFwPEludCwgQ2VsbD4gPSBlbXB0eU1hcCgpOwogICAgb3JhY2xlOiBBZGRyZXNzOwogICAgZmVlZElkQXNzZXQ6IEludCBhcyB1aW50MjU2OwogICAgZmVlZElkVG9rZW46IEludCBhcyB1aW50MjU2OwogICAgb3BlcmF0b3JGZWVTdW06IEludCBhcyBjb2lucyA9IDA7CiAgICBzZXJ2aWNlRmVlU3VtOiBJbnQgYXMgY29pbnMgPSAwOwogICAgdG9uRGVwb3NpdEJhbGFuY2U6IEludCBhcyBjb2lucyA9IDA7CiAgICBvcGVyYXRvckZlZUFkZHJlc3M6IEFkZHJlc3M7CgoKICAgIGluaXQoaWQ6IEludCwKICAgICAgICBvd25lcjogQWRkcmVzcywKICAgICAgICBhbW06IEFkZHJlc3MsCiAgICAgICAgZmFjdG9yeTogQWRkcmVzcywKICAgICAgICB1bmRlcmx5aW5nQXNzZXROYW1lOiBTdHJpbmcsCiAgICAgICAgZHVyYXRpb246IEludCwKICAgICAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGwsCiAgICAgICAgb3BlcmF0b3JGZWU6IEludCwKICAgICAgICBzZXJ2aWNlRmVlOiBJbnQsCiAgICAgICAgb3JhY2xlOiBBZGRyZXNzLAogICAgICAgIGZlZWRJZEFzc2V0OiBJbnQsCiAgICAgICAgZmVlZElkVG9rZW46IEludCwKICAgICAgICBvcGVyYXRvckZlZUFkZHJlc3M6IEFkZHJlc3MpewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gZmFjdG9yeSwgIk9ubHkgZmFjdG9yeSBjYW4gZGVwbG95Iik7CiAgICAgICAgc2VsZi5pZCA9IGlkOwogICAgICAgIHNlbGYub3duZXIgPSBvd25lcjsKICAgICAgICBzZWxmLmFtbSA9IGFtbTsKICAgICAgICBzZWxmLmZhY3RvcnkgPSBmYWN0b3J5OwogICAgICAgIHNlbGYudW5kZXJseWluZ0Fzc2V0TmFtZSA9IHVuZGVybHlpbmdBc3NldE5hbWU7CiAgICAgICAgc2VsZi5kdXJhdGlvbiA9IGR1cmF0aW9uOwogICAgICAgIHNlbGYub3BlcmF0b3JGZWUgPSBvcGVyYXRvckZlZTsKICAgICAgICBzZWxmLnNlcnZpY2VGZWUgPSBzZXJ2aWNlRmVlOwogICAgICAgIHNlbGYuY29sbGVjdGlvbl9jb250ZW50ID0gY29sbGVjdGlvbl9jb250ZW50OwogICAgICAgIHNlbGYub3JhY2xlID0gb3JhY2xlOwogICAgICAgIHNlbGYuZmVlZElkQXNzZXQgPSBmZWVkSWRBc3NldDsKICAgICAgICBzZWxmLmZlZWRJZFRva2VuID0gZmVlZElkVG9rZW47CiAgICAgICAgc2VsZi5vcGVyYXRvckZlZUFkZHJlc3MgPSBvcGVyYXRvckZlZUFkZHJlc3M7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IElubmVyRGVwbG95TWFya2V0VG9uKSB7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShzZWxmLnRvbkRlcG9zaXRCYWxhbmNlICsgU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogbXNnLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgYm9keTogRGVwbG95T2t7CiAgICAgICAgICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBXaXRoZHJhd1NlcnZpY2VGZWUpIHsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwogICAgICAgIHJlcXVpcmUobXNnLmFtb3VudCA+IDAsICJBbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpOwogICAgICAgIHJlcXVpcmUobXNnLmFtb3VudCA8PSBzZWxmLnNlcnZpY2VGZWVTdW0sICJJbnN1ZmZpY2llbnQgc2VydmljZSBmZWUiKTsKICAgICAgICBzZWxmLnNlcnZpY2VGZWVTdW0gLT0gbXNnLmFtb3VudDsKICAgICAgICBzZWxmLnRvbkRlcG9zaXRCYWxhbmNlIC09IG1zZy5hbW91bnQ7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShzZWxmLnRvbkRlcG9zaXRCYWxhbmNlICsgU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IG1zZy50bywKICAgICAgICAgICAgdmFsdWU6IG1zZy5hbW91bnQsCiAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgIH0pOwoKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgIH0pOwogICAgfSAgIAoKICAgIHJlY2VpdmUobXNnOiBXaXRoZHJhd09wZXJhdG9yRmVlKSB7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYub3BlcmF0b3JGZWVBZGRyZXNzLCAiT25seSBvcGVyYXRvciBmZWUgYWRkcmVzcyBjYW4gd2l0aGRyYXcgb3BlcmF0b3IgZmVlIik7CiAgICAgICAgcmVxdWlyZShtc2cuYW1vdW50ID4gMCwgIkFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIik7CiAgICAgICAgcmVxdWlyZShtc2cuYW1vdW50IDw9IHNlbGYub3BlcmF0b3JGZWVTdW0sICJJbnN1ZmZpY2llbnQgb3BlcmF0b3IgZmVlIik7CiAgICAgICAgc2VsZi5vcGVyYXRvckZlZVN1bSAtPSBtc2cuYW1vdW50OwogICAgICAgIHNlbGYudG9uRGVwb3NpdEJhbGFuY2UgLT0gbXNnLmFtb3VudDsKICAgICAgICBuYXRpdmVSZXNlcnZlKHNlbGYudG9uRGVwb3NpdEJhbGFuY2UgKyBTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBtc2cudG8sCiAgICAgICAgICAgIHZhbHVlOiBtc2cuYW1vdW50LAogICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICB9KTsKCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogQ3JlYXRlRGVhbFRvbikgewogICAgICAgIG5hdGl2ZVJlc2VydmUoc2VsZi50b25EZXBvc2l0QmFsYW5jZSArIFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKHNlbGYuYW1tID09IFpFUk9fQUREUkVTUyAmJiBjdHgudmFsdWUgPj0gR0FTX01JTl9WQUxVRV9DUkVBVEVfREVBTCB8fCBjdHgudmFsdWUgPj0gR0FTX01JTl9WQUxVRV9DUkVBVEVfREVBTF9XSVRIX0FNTSwgIkludmFsaWQgdmFsdWUiKTsKICAgICAgICBzZWxmLmhhbmRsZUNyZWF0ZURlYWwobXNnLnF1ZXJ5SWQsIG1zZy5kZWFsLCBjdHgudmFsdWUsIGN0eC5zZW5kZXIpOyAgICAKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVGFrZURlYWxUb24pIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKHNlbGYudG9uRGVwb3NpdEJhbGFuY2UgKyBTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gR0FTX01JTl9WQUxVRV9UQUtFX0RFQUwsICJJbnZhbGlkIHZhbHVlIik7CiAgICAgICAgc2VsZi5oYW5kbGVUYWtlRGVhbChtc2cucXVlcnlJZCwgbXNnLmRlYWwsIGN0eC52YWx1ZSwgY3R4LnNlbmRlciwgY3R4LnNlbmRlcik7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFRha2VEZWFsV2l0aE9yaWdpbmFsR2FzVG9Ub24pIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKHNlbGYudG9uRGVwb3NpdEJhbGFuY2UgKyBTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gR0FTX01JTl9WQUxVRV9UQUtFX0RFQUwsICJJbnZhbGlkIHZhbHVlIik7CiAgICAgICAgc2VsZi5oYW5kbGVUYWtlRGVhbCgKICAgICAgICAgICAgbXNnLnF1ZXJ5SWQsIAogICAgICAgICAgICBUYWtlRGVhbERhdGF7CiAgICAgICAgICAgICAgICBkZWFsSWQ6IG1zZy5kZWFsLmRlYWxJZCwKICAgICAgICAgICAgICAgIG9yYWNsZUFzc2V0RGF0YTogbXNnLmRlYWwub3JhY2xlQXNzZXREYXRhLAogICAgICAgICAgICAgICAgb3JhY2xlVG9rZW5EYXRhOiBtc2cuZGVhbC5vcmFjbGVUb2tlbkRhdGEsCiAgICAgICAgICAgIH0sIAogICAgICAgICAgICBtc2cuYW1vdW50LCAKICAgICAgICAgICAgY3R4LnNlbmRlciwgCiAgICAgICAgICAgIG1zZy5kZWFsLm9yaWdpbmFsR2FzVG8KICAgICAgICApOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBDYW5jZWxEZWFsKSB7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShzZWxmLnRvbkRlcG9zaXRCYWxhbmNlICsgU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IEdBU19NSU5fVkFMVUVfQ0FOQ0VMX0RFQUwsICJJbnZhbGlkIHZhbHVlIik7CgogICAgICAgIGxldCBjb250ZXh0Q2FuY2VsRGVhbDogQ2VsbCA9IGJlZ2luQ2VsbCgpLnN0b3JlVWludChJTk5FUl9PUF9DT0RFX0NBTkNFTF9ERUFMX0FGVEVSX0RFQUxfUkVDRUlWRUQsIDgpLnN0b3JlUmVmKENvbnRleHRDYW5jZWxEZWFsRm9yRGVhbFJlY2VpdmVke2Zyb206IGN0eC5zZW5kZXJ9LnRvQ2VsbCgpKS5lbmRDZWxsKCk7ICAgCiAgICAgICAgc2VsZi5mZXRjaERlYWwobXNnLnF1ZXJ5SWQsIG1zZy5kZWFsSWQsIGNvbnRleHRDYW5jZWxEZWFsKTsgICAgCiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFByb2Nlc3NEZWFsKSB7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShzZWxmLnRvbkRlcG9zaXRCYWxhbmNlICsgU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHJlcXVpcmUoY3R4LnZhbHVlID49IEdBU19NSU5fVkFMVUVfUFJPQ0VTU19ERUFMLCAiSW52YWxpZCB2YWx1ZSIpOwoKICAgICAgICBsZXQgY29udGV4dFByb2Nlc3NEZWFsOiBDZWxsID0gYmVnaW5DZWxsKCkKICAgICAgICAgICAgLnN0b3JlVWludChJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9QUklDRV9SRUNFSVZFRCwgOCkKICAgICAgICAgICAgLnN0b3JlUmVmKENvbnRleHRQcm9jZXNzRGVhbEZvclByaWNlUmVjZWl2ZWR7ZnJvbTogY3R4LnNlbmRlciwgZGVhbElkOiBtc2cuZGVhbElkfS50b0NlbGwoKSkKICAgICAgICAgICAgLmVuZENlbGwoKTsgICAKICAgICAgICBzZWxmLmZldGNoUHJpY2VXaXRoU2F2ZUNvbnRleHQobXNnLnF1ZXJ5SWQsIG1zZy5vcmFjbGVBc3NldERhdGEsIG1zZy5vcmFjbGVUb2tlbkRhdGEsIGNvbnRleHRQcm9jZXNzRGVhbCk7ICAgIAogICAgfQogICAgCiAgICBmdW4gaGFuZGxlQ3JlYXRlRGVhbChxdWVyeUlkOiBJbnQsIGRlYWw6IENyZWF0ZURlYWxEYXRhLCBhbW91bnQ6IEludCwgZnJvbTogQWRkcmVzcykgewogICAgICAgIGxldCBkZWFsSWQ6IEludCA9IHNlbGYuY291bnREZWFsOwoKICAgICAgICBsZXQgc2xpcHBhZ2VBbW91bnQ6IEludCA9IChkZWFsLnJhdGVBc3NldCAqIGRlYWwucmF0ZVRva2VuICogZGVhbC5wZXJjZW50ICogZGVhbC5zbGlwcGFnZSkgLyBTTElQUEFHRV9ERU5PTUlOQVRPUjsKICAgICAgICBsZXQgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBJbnQgPSAoZGVhbC5yYXRlQXNzZXQgKiBkZWFsLnJhdGVUb2tlbiAqIGRlYWwucGVyY2VudCkgLyBDT0xMQVRFUkFMX0RFTk9NSU5BVE9SICsgc2xpcHBhZ2VBbW91bnQ7CiAgICAgICAKICAgICAgICBpZiAoYW1vdW50IDwgY29sbGF0ZXJhbEFtb3VudE1ha2VyICsgQ1JFQVRFX0RFQUxfVE9OX0dBU19BTU9VTlQpIHsKICAgICAgICAgICAgc2VsZi5yZXR1cm5Ub24ocXVlcnlJZCwgZnJvbSwgU01BTExfVE9LRU5fQU1PVU5UKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgc2VsZi5hZGRUb25EZXBvc2l0QmFsYW5jZShjb2xsYXRlcmFsQW1vdW50TWFrZXIpOwoKICAgICAgICBzZWxmLmNvdW50RGVhbCArPSAxOwogICAgICAgIGlmIChzZWxmLmFtbSAhPSBaRVJPX0FERFJFU1MpIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBzZWxmLmFtbSwKICAgICAgICAgICAgICAgIHZhbHVlOiBUT19UQUtFX0FNTSwKICAgICAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiBUYWtlRGVhbEFtbXsKICAgICAgICAgICAgICAgICAgICBkZWFsSWQ6IGRlYWxJZCwKICAgICAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogY29sbGF0ZXJhbEFtb3VudE1ha2VyLAogICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsR2FzVG86IGZyb20sCiAgICAgICAgICAgICAgICAgICAgb3JhY2xlQXNzZXREYXRhOiBkZWFsLm9yYWNsZUFzc2V0RGF0YSEhLAogICAgICAgICAgICAgICAgICAgIG9yYWNsZVRva2VuRGF0YTogZGVhbC5vcmFjbGVUb2tlbkRhdGEhIQogICAgICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGxldCBuZXdEZWFsOiBEZWFsRGF0YSA9IERlYWxEYXRhewogICAgICAgICAgICByYXRlOiAwLAogICAgICAgICAgICByYXRlTWFrZXI6IGRlYWwucmF0ZUFzc2V0LAogICAgICAgICAgICBwZXJjZW50OiBkZWFsLnBlcmNlbnQsCiAgICAgICAgICAgIHNsaXBwYWdlTWFrZXI6IGRlYWwuc2xpcHBhZ2UsCiAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogY29sbGF0ZXJhbEFtb3VudE1ha2VyLAogICAgICAgICAgICBkYXRlT3JkZXJDcmVhdGlvbjogbm93KCksCiAgICAgICAgICAgIGRhdGVPcmRlckV4cGlyYXRpb246IG5vdygpICsgZGVhbC5leHBpcmF0aW9uLAogICAgICAgICAgICBkYXRlU3RhcnQ6IDAsCiAgICAgICAgICAgIGRhdGVTdG9wOiAwLAogICAgICAgICAgICBidXllclRva2VuSWQ6IDAsCiAgICAgICAgICAgIHNlbGxlclRva2VuSWQ6IDAsCiAgICAgICAgICAgIG1ha2VyOiBmcm9tLAogICAgICAgICAgICBpc1NlbGxlcjogIWRlYWwubWFrZXJQb3NpdGlvbiwKICAgICAgICAgICAgc3RhdHVzOiBERUFMX1NUQVRVU19DUkVBVEVECiAgICAgICAgfTsKCiAgICAgICAgZW1pdChEZWFsQ3JlYXRlZEV2ZW50ewogICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICBkZWFsSWQ6IGRlYWxJZCwKICAgICAgICAgICAgbWFrZXI6IGZyb20sCiAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIHNlbGYuc2F2ZURlYWwocXVlcnlJZCwgZGVhbElkLCBuZXdEZWFsLCBmcm9tKTsKICAgIH0KCiAgICBmdW4gaGFuZGxlVGFrZURlYWwocXVlcnlJZDogSW50LCB0YWtlRGVhbDogVGFrZURlYWxEYXRhLCBhbW91bnQ6IEludCwgZnJvbTogQWRkcmVzcywgb3JpZ2luYWxHYXNUbzogQWRkcmVzcykgewogICAgICAgIGxldCBjb250ZXh0UHJvY2Vzc0RlYWw6IENlbGwgPSBiZWdpbkNlbGwoKQogICAgICAgICAgICAuc3RvcmVVaW50KElOTkVSX09QX0NPREVfVEFLRV9ERUFMX0FGVEVSX1BSSUNFX1JFQ0VJVkVELCA4KQogICAgICAgICAgICAuc3RvcmVSZWYoQ29udGV4dFRha2VEZWFsRm9yUHJpY2VSZWNlaXZlZHsKICAgICAgICAgICAgICAgIGZyb206IGZyb20sCiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIGRlYWxJZDogdGFrZURlYWwuZGVhbElkLAogICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogb3JpZ2luYWxHYXNUbwogICAgICAgICAgICB9LnRvQ2VsbCgpKQogICAgICAgICAgICAuZW5kQ2VsbCgpOwogICAgICAgIAogICAgICAgIHNlbGYuZmV0Y2hQcmljZVdpdGhTYXZlQ29udGV4dChxdWVyeUlkLCB0YWtlRGVhbC5vcmFjbGVBc3NldERhdGEsIHRha2VEZWFsLm9yYWNsZVRva2VuRGF0YSwgY29udGV4dFByb2Nlc3NEZWFsKTsKICAgIH0KCiAgICBmdW4gdGFrZURlYWxBZnRlclJlY2lldmVkUHJpY2UocXVlcnk6IENlbGwsIGN0eDogQ29udGV4dCwgcXVlcnlJZDogSW50LCBmZWVkSWQ6IEludCwgcHJpY2U6IEludCwgdGltZXN0YW1wOiBJbnQsIGZlZWRJZDI6IEludCwgcHJpY2UyOiBJbnQsIHRpbWVzdGFtcDI6IEludCkgewogICAgICAgIGxldCBjb250ZXh0VGFrZURlYWxBZnRlclByaWNlOiBDb250ZXh0VGFrZURlYWxGb3JQcmljZVJlY2VpdmVkID0gQ29udGV4dFRha2VEZWFsRm9yUHJpY2VSZWNlaXZlZC5mcm9tQ2VsbChxdWVyeSk7CiAgICAgICAgbGV0IGNvbnRleHRQcm9jZXNzRGVhbDogQ2VsbCA9IGJlZ2luQ2VsbCgpCiAgICAgICAgICAgIC5zdG9yZVVpbnQoSU5ORVJfT1BfQ09ERV9UQUtFX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRCwgOCkKICAgICAgICAgICAgLnN0b3JlUmVmKENvbnRleHRUYWtlRGVhbEZvckRlYWxSZWNlaXZlZHsKICAgICAgICAgICAgICAgIGZyb206IGNvbnRleHRUYWtlRGVhbEFmdGVyUHJpY2UuZnJvbSwKICAgICAgICAgICAgICAgIGFtb3VudDogY29udGV4dFRha2VEZWFsQWZ0ZXJQcmljZS5hbW91bnQsCiAgICAgICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBjb250ZXh0VGFrZURlYWxBZnRlclByaWNlLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgICAgICBmZWVkSWQ6IGZlZWRJZCwKICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wIC8gMTAwMCwKICAgICAgICAgICAgICAgIGZlZWRJZDI6IGZlZWRJZDIsCiAgICAgICAgICAgICAgICBwcmljZTI6IHByaWNlMiwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDI6IHRpbWVzdGFtcDIgLyAxMDAwLAogICAgICAgICAgICB9LnRvQ2VsbCgpKQogICAgICAgICAgICAuZW5kQ2VsbCgpOwogICAgICAgIHNlbGYuZmV0Y2hEZWFsKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyUHJpY2UuZGVhbElkLCBjb250ZXh0UHJvY2Vzc0RlYWwpOwogICAgfQoKICAgIGZ1biBwcm9jZXNzRGVhbEFmdGVyUmVjaWV2ZWRQcmljZShxdWVyeTogQ2VsbCwgY3R4OiBDb250ZXh0LCBxdWVyeUlkOiBJbnQsIGZlZWRJZDogSW50LCBwcmljZTogSW50LCB0aW1lc3RhbXA6IEludCwgZmVlZElkMjogSW50LCBwcmljZTI6IEludCwgdGltZXN0YW1wMjogSW50KSB7CiAgICAgICAgbGV0IGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyUHJpY2U6IENvbnRleHRQcm9jZXNzRGVhbEZvclByaWNlUmVjZWl2ZWQgPSBDb250ZXh0UHJvY2Vzc0RlYWxGb3JQcmljZVJlY2VpdmVkLmZyb21DZWxsKHF1ZXJ5KTsKICAgICAgICBsZXQgY29udGV4dFByb2Nlc3NEZWFsOiBDZWxsID0gYmVnaW5DZWxsKCkKICAgICAgICAgICAgLnN0b3JlVWludChJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9ERUFMX1JFQ0VJVkVELCA4KQogICAgICAgICAgICAuc3RvcmVSZWYoQ29udGV4dFByb2Nlc3NEZWFsRm9yRGVhbFJlY2VpdmVkewogICAgICAgICAgICAgICAgZnJvbTogY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJQcmljZS5mcm9tLAogICAgICAgICAgICAgICAgZmVlZElkOiBmZWVkSWQsCiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UsCiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCAvIDEwMDAsCiAgICAgICAgICAgICAgICBmZWVkSWQyOiBmZWVkSWQyLAogICAgICAgICAgICAgICAgcHJpY2UyOiBwcmljZTIsCiAgICAgICAgICAgICAgICB0aW1lc3RhbXAyOiB0aW1lc3RhbXAyIC8gMTAwMCwKICAgICAgICAgICAgfS50b0NlbGwoKSkKICAgICAgICAgICAgLmVuZENlbGwoKTsKICAgICAgICBzZWxmLmZldGNoRGVhbChxdWVyeUlkLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlclByaWNlLmRlYWxJZCwgY29udGV4dFByb2Nlc3NEZWFsKTsgICAgCiAgICB9ICAgCgoKICAgIGZ1biB0YWtlRGVhbEFmdGVyUmVjaWV2ZWREZWFsKGRlYWw6IERlYWxEYXRhLCBxdWVyeTogQ2VsbCwgY3R4OiBDb250ZXh0LCBxdWVyeUlkOiBJbnQsIGRlYWxJZDogSW50KSB7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShzZWxmLnRvbkRlcG9zaXRCYWxhbmNlICsgU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsOiBDb250ZXh0VGFrZURlYWxGb3JEZWFsUmVjZWl2ZWQgPSBDb250ZXh0VGFrZURlYWxGb3JEZWFsUmVjZWl2ZWQuZnJvbUNlbGwocXVlcnkpOwogICAgICAgIAogICAgICAgIGlmIChkZWFsLm1ha2VyID09IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9uKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBUUkFOU0FDVElPTl9GUk9NX01BS0VSKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoZGVhbC5zdGF0dXMgIT0gREVBTF9TVEFUVVNfQ1JFQVRFRCkgewogICAgICAgICAgICBzZWxmLnJldHVyblRvbihxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgQkFEX1NUQVRVUyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mZWVkSWQgIT0gc2VsZi5mZWVkSWRBc3NldCB8fCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZmVlZElkMiAhPSBzZWxmLmZlZWRJZFRva2VuKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9uKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBCQURfRkVFRF9JRCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC50aW1lc3RhbXAgPCBub3coKSAtIFRJTUVfU0xJUFBBR0UpIHsKICAgICAgICAgICAgc2VsZi5yZXR1cm5Ub24ocXVlcnlJZCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZyb20sIE9SQUNMRV9QUklDRV9UT09fT0xEKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgY29sbGF0ZXJhbEFtb3VudDogSW50ID0gKGRlYWwucGVyY2VudCAqIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5wcmljZSAqIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5wcmljZTIpIC8gQ09MTEFURVJBTF9ERU5PTUlOQVRPUjsgCgogICAgICAgIGlmICgoY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlIDw9CiAgICAgICAgICAgICAgICAoZGVhbC5yYXRlTWFrZXIgLQogICAgICAgICAgICAgICAgICAgIChkZWFsLnJhdGVNYWtlciAqIGRlYWwuc2xpcHBhZ2VNYWtlcikgLwogICAgICAgICAgICAgICAgICAgIFJBVEVfREVOT01JTkFUT1IpKSAmJgogICAgICAgICAgICAoY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlID49CiAgICAgICAgICAgICAgICAoZGVhbC5yYXRlTWFrZXIgKwogICAgICAgICAgICAgICAgICAgIChkZWFsLnJhdGVNYWtlciAqIGRlYWwuc2xpcHBhZ2VNYWtlcikgLwogICAgICAgICAgICAgICAgICAgIFJBVEVfREVOT01JTkFUT1IpKSkgewogICAgICAgICAgICBzZWxmLnJldHVyblRvbihxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgTUFLRVJfT1VUX09GX1JBTkdFKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgIAogICAgICAgIGxldCByZXR1cm5BbW91bnRUb1Rha2VyOiBJbnQgPSBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuYW1vdW50IC0gY29sbGF0ZXJhbEFtb3VudDsKCiAgICAgICAgaWYgKHJldHVybkFtb3VudFRvVGFrZXIgPCBUT19UQUtFX1RPX01BUktFVF9NSU5fR0FTICYmIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvID09IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tIHx8CiAgICAgICAgICAgIHJldHVybkFtb3VudFRvVGFrZXIgPCAwICYmIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvICE9IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9uKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBTTUFMTF9BTU9VTlQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBsZXQgcmV0dXJuQW1vdW50VG9NYWtlcjogSW50ID0gZGVhbC5jb2xsYXRlcmFsQW1vdW50TWFrZXIgLSBjb2xsYXRlcmFsQW1vdW50OwogICAgICAgIGlmKHJldHVybkFtb3VudFRvTWFrZXIgPCAwKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9uKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBTTUFMTF9BTU9VTlRfT0ZfTUFLRVIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHNlbGYuYWRkVG9uRGVwb3NpdEJhbGFuY2UoY29sbGF0ZXJhbEFtb3VudCAtIHJldHVybkFtb3VudFRvTWFrZXIpOwoKICAgICAgICBpZihyZXR1cm5BbW91bnRUb01ha2VyID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IGRlYWwubWFrZXIsCiAgICAgICAgICAgICAgICB2YWx1ZTogcmV0dXJuQW1vdW50VG9NYWtlciwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICB9KTsgCiAgICAgICAgfQogICAgICAgIGlmKHJldHVybkFtb3VudFRvVGFrZXIgPiAwICYmIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvICE9IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tKSB7CiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZyb20sCiAgICAgICAgICAgICAgICB2YWx1ZTogcmV0dXJuQW1vdW50VG9UYWtlciwKICAgICAgICAgICAgICAgIG1vZGU6IFNlbmRQYXlHYXNTZXBhcmF0ZWx5LAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICB9KTsgCiAgICAgICAgfQogICAgICAgIGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyID0gY29sbGF0ZXJhbEFtb3VudDsKICAgICAgICBkZWFsLnJhdGUgPSBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwucHJpY2U7CiAgICAgICAgZGVhbC5kYXRlU3RhcnQgPSBub3coKTsKICAgICAgICBkZWFsLmRhdGVTdG9wID0gbm93KCkgKyBzZWxmLmR1cmF0aW9uOwogICAgICAgIGRlYWwuc3RhdHVzID0gREVBTF9TVEFUVVNfQUNDRVBURUQ7CgogICAgICAgIGlmIChkZWFsLmlzU2VsbGVyKSB7CiAgICAgICAgICAgIGRlYWwuYnV5ZXJUb2tlbklkID0gc2VsZi5taW50KHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBtaW5Ub25zRm9yU3RvcmFnZSArIGdhc0NvbnN1bXB0aW9uLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwub3JpZ2luYWxHYXNUbyk7CiAgICAgICAgICAgIGRlYWwuc2VsbGVyVG9rZW5JZCA9IHNlbGYubWludChxdWVyeUlkLCBkZWFsLm1ha2VyLCBtaW5Ub25zRm9yU3RvcmFnZSArIGdhc0NvbnN1bXB0aW9uLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwub3JpZ2luYWxHYXNUbyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGVhbC5zZWxsZXJUb2tlbklkID0gc2VsZi5taW50KHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBtaW5Ub25zRm9yU3RvcmFnZSArIGdhc0NvbnN1bXB0aW9uLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwub3JpZ2luYWxHYXNUbyk7CiAgICAgICAgICAgIGRlYWwuYnV5ZXJUb2tlbklkID0gc2VsZi5taW50KHF1ZXJ5SWQsIGRlYWwubWFrZXIsIG1pblRvbnNGb3JTdG9yYWdlICsgZ2FzQ29uc3VtcHRpb24sIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvKTsKICAgICAgICB9CgogICAgICAgIGVtaXQoRGVhbEFjY2VwdGVkRXZlbnR7CiAgICAgICAgICAgIHF1ZXJ5SWQ6IHF1ZXJ5SWQsCiAgICAgICAgICAgIGRlYWxJZDogZGVhbElkLAogICAgICAgICAgICBtYWtlcjogZGVhbC5tYWtlciwKICAgICAgICAgICAgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBkZWFsLmNvbGxhdGVyYWxBbW91bnRNYWtlcgogICAgICAgIH0udG9DZWxsKCkpOwoKICAgICAgICBzZWxmLnNhdmVEZWFsKHF1ZXJ5SWQsIGRlYWxJZCwgZGVhbCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLm9yaWdpbmFsR2FzVG8pOwogICAgfQoKICAgIGZ1biBjYW5jZWxEZWFsQWZ0ZXJSZWNpZXZlZERlYWwoZGVhbDogRGVhbERhdGEsIHF1ZXJ5OiBDZWxsLCBjdHg6IENvbnRleHQsIHF1ZXJ5SWQ6IEludCwgZGVhbElkOiBJbnQpIHsKICAgICAgICBsZXQgY29udGV4dENhbmNlbERlYWxBZnRlckRlYWw6IENvbnRleHRDYW5jZWxEZWFsRm9yRGVhbFJlY2VpdmVkID0gQ29udGV4dENhbmNlbERlYWxGb3JEZWFsUmVjZWl2ZWQuZnJvbUNlbGwocXVlcnkpOwogICAgICAgIGlmIChkZWFsLm1ha2VyICE9IGNvbnRleHRDYW5jZWxEZWFsQWZ0ZXJEZWFsLmZyb20pIHsKICAgICAgICAgICAgbmF0aXZlUmVzZXJ2ZShzZWxmLnRvbkRlcG9zaXRCYWxhbmNlICsgU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICAgICAgc2VsZi5yZXR1cm5Ub24ocXVlcnlJZCwgY29udGV4dENhbmNlbERlYWxBZnRlckRlYWwuZnJvbSwgVFJBTlNBQ1RJT05fRlJPTV9NQUtFUik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZW1pdChDYW5jZWxFdmVudHsKICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgZGVhbElkOiBkZWFsSWQsCiAgICAgICAgICAgIG1ha2VyOiBkZWFsLm1ha2VyLAogICAgICAgICAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgfS50b0NlbGwoKSk7IAogICAgICAgIHNlbGYuX2NhbmNlbERlYWwoZGVhbCwgY29udGV4dENhbmNlbERlYWxBZnRlckRlYWwuZnJvbSwgcXVlcnlJZCwgZGVhbElkKTsKICAgIH0gICAgICAgCgogICAgZnVuIHByb2Nlc3NEZWFsQWZ0ZXJSZWNpZXZlZERlYWwoZGVhbDogRGVhbERhdGEsIHF1ZXJ5OiBDZWxsLCBjdHg6IENvbnRleHQsIHF1ZXJ5SWQ6IEludCwgZGVhbElkOiBJbnQpIHsKICAgICAgICBsZXQgY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsOiBDb250ZXh0UHJvY2Vzc0RlYWxGb3JEZWFsUmVjZWl2ZWQgPSBDb250ZXh0UHJvY2Vzc0RlYWxGb3JEZWFsUmVjZWl2ZWQuZnJvbUNlbGwocXVlcnkpOwogICAgICAgIGlmIChkZWFsLnN0YXR1cyA9PSBERUFMX1NUQVRVU19DUkVBVEVEICYmIGRlYWwuZGF0ZU9yZGVyRXhwaXJhdGlvbiA8PSBub3coKSkgewogICAgICAgICAgICBlbWl0KERlYWxFeHBpcmVkRXZlbnR7CiAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgZGVhbElkOiBkZWFsSWQsCiAgICAgICAgICAgICAgICBtYWtlcjogZGVhbC5tYWtlciwKICAgICAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogZGVhbC5jb2xsYXRlcmFsQW1vdW50TWFrZXIKICAgICAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgICAgIHNlbGYuX2NhbmNlbERlYWwoZGVhbCwgY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLmZyb20sIHF1ZXJ5SWQsIGRlYWxJZCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9ICAKICAgICAgICBuYXRpdmVSZXNlcnZlKHNlbGYudG9uRGVwb3NpdEJhbGFuY2UgKyBTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwoKICAgICAgICBpZiAoIShkZWFsLnN0YXR1cyA9PSBERUFMX1NUQVRVU19BQ0NFUFRFRCAmJiBkZWFsLmRhdGVTdG9wIDw9IG5vdygpKSkgewogICAgICAgICAgICBzZWxmLnJldHVyblRvbihxdWVyeUlkLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwuZnJvbSwgQkFEX1NUQVRVUyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5mZWVkSWQgIT0gc2VsZi5mZWVkSWRBc3NldCB8fCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwuZmVlZElkMiAhPSBzZWxmLmZlZWRJZFRva2VuKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9uKHF1ZXJ5SWQsIGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5mcm9tLCBCQURfRkVFRF9JRCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC50aW1lc3RhbXAgPCBkZWFsLmRhdGVTdG9wIC0gVElNRV9TTElQUEFHRSB8fCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwudGltZXN0YW1wID4gZGVhbC5kYXRlU3RvcCkgewogICAgICAgICAgICBzZWxmLnJldHVyblRvbihxdWVyeUlkLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwuZnJvbSwgT1JBQ0xFX1BSSUNFX1RPT19PTEQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwudGltZXN0YW1wMiA8IGRlYWwuZGF0ZVN0b3AgLSBUSU1FX1NMSVBQQUdFIHx8IGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC50aW1lc3RhbXAyID4gZGVhbC5kYXRlU3RvcCkgewogICAgICAgICAgICBzZWxmLnJldHVyblRvbihxdWVyeUlkLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwuZnJvbSwgT1JBQ0xFX1BSSUNFX1RPT19PTERfMik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IGNvbGxhdGVyYWxBbW91bnQ6IEludCA9IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyOwogICAgICAgIGxldCBwYXlvdXRCdXllcjogSW50ID0gMDsKICAgICAgICBsZXQgcGF5b3V0U2VsbGVyOiBJbnQgPSAwOwoKICAgICAgICBsZXQgZGVsdGEgPSAoZGVhbC5yYXRlIC0gY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLnByaWNlKSAqIGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5wcmljZTIgLyBSQVRFX0RFTk9NSU5BVE9SOwoKICAgICAgICBpZihhYnMoZGVsdGEpID49IGNvbGxhdGVyYWxBbW91bnQpIHsKICAgICAgICAgICAgaWYgKGRlbHRhID4gMCkgewogICAgICAgICAgICAgICAgcGF5b3V0U2VsbGVyID0gY29sbGF0ZXJhbEFtb3VudCAqIDI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwYXlvdXRCdXllciA9IGNvbGxhdGVyYWxBbW91bnQgKiAyOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGF5b3V0U2VsbGVyID0gY29sbGF0ZXJhbEFtb3VudCArIGRlbHRhOwogICAgICAgICAgICBwYXlvdXRCdXllciA9IGNvbGxhdGVyYWxBbW91bnQgLSBkZWx0YTsKICAgICAgICB9CgogICAgICAgIGxldCBvcGVyYXRvckZlZTogSW50ID0gMDsKICAgICAgICBsZXQgc2VydmljZUZlZTogSW50ID0gMDsKCiAgICAgICAgaWYgKHBheW91dEJ1eWVyID4gMCkgewogICAgICAgICAgICBpZiAocGF5b3V0QnV5ZXIgPiBjb2xsYXRlcmFsQW1vdW50KSB7CiAgICAgICAgICAgICAgICBvcGVyYXRvckZlZSA9ICgocGF5b3V0QnV5ZXIgLSBjb2xsYXRlcmFsQW1vdW50KSAqIHNlbGYub3BlcmF0b3JGZWUpIC8gRkVFX0RFTk9NSU5BVE9SOwogICAgICAgICAgICAgICAgc2VydmljZUZlZSA9ICgocGF5b3V0QnV5ZXIgLSBjb2xsYXRlcmFsQW1vdW50KSAqIHNlbGYuc2VydmljZUZlZSkgLyBGRUVfREVOT01JTkFUT1I7CiAgICAgICAgICAgICAgICBwYXlvdXRCdXllciA9IHBheW91dEJ1eWVyIC0gb3BlcmF0b3JGZWUgLSBzZXJ2aWNlRmVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbGYuc2VuZFJld2FyZChkZWFsLmJ1eWVyVG9rZW5JZCwgcGF5b3V0QnV5ZXIsIHF1ZXJ5SWQsIGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5mcm9tKTsKICAgICAgICB9CgogICAgICAgIGlmIChwYXlvdXRTZWxsZXIgPiAwKSB7CiAgICAgICAgICAgIGlmIChwYXlvdXRTZWxsZXIgPiBjb2xsYXRlcmFsQW1vdW50KSB7CiAgICAgICAgICAgICAgICBvcGVyYXRvckZlZSA9ICgocGF5b3V0U2VsbGVyIC0gY29sbGF0ZXJhbEFtb3VudCkgKiBzZWxmLm9wZXJhdG9yRmVlKSAvIEZFRV9ERU5PTUlOQVRPUjsKICAgICAgICAgICAgICAgIHNlcnZpY2VGZWUgPSAoKHBheW91dFNlbGxlciAtIGNvbGxhdGVyYWxBbW91bnQpICogc2VsZi5zZXJ2aWNlRmVlKSAvIEZFRV9ERU5PTUlOQVRPUjsKICAgICAgICAgICAgICAgIHBheW91dFNlbGxlciA9IHBheW91dFNlbGxlciAtIG9wZXJhdG9yRmVlIC0gc2VydmljZUZlZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLnNlbmRSZXdhcmQoZGVhbC5zZWxsZXJUb2tlbklkLCBwYXlvdXRTZWxsZXIsIHF1ZXJ5SWQgKyAxLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwuZnJvbSk7CiAgICAgICAgfQoKICAgICAgICBzZWxmLm9wZXJhdG9yRmVlU3VtICs9IG9wZXJhdG9yRmVlOwogICAgICAgIHNlbGYuc2VydmljZUZlZVN1bSArPSBzZXJ2aWNlRmVlOwogICAgICAgIC8vIHNlbGYuYWRkVG9uRGVwb3NpdEJhbGFuY2Uob3BlcmF0b3JGZWUgKyBzZXJ2aWNlRmVlKTsgLy90b2RvOiBjaGVjayBpdAoKICAgICAgICBlbWl0KERlYWxDb21wbGV0ZWRFdmVudHsKICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgZGVhbElkOiBkZWFsSWQsCiAgICAgICAgICAgIG1ha2VyOiBkZWFsLm1ha2VyLAogICAgICAgICAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgc2VsZi5kZWxldGVEZWFsKHF1ZXJ5SWQsIGRlYWxJZCwgY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLmZyb20pOyAgIAogICAgfQoKICAgIGZ1biBfY2FuY2VsRGVhbChkZWFsOiBEZWFsRGF0YSwgb3JpZ2luYWxHYXNUbzogQWRkcmVzcywgcXVlcnlJZDogSW50LCBkZWFsSWQ6IEludCkgewogICAgICAgIHJlcXVpcmUoZGVhbC5zdGF0dXMgPT0gREVBTF9TVEFUVVNfQ1JFQVRFRCwgIkRlYWwgaXMgbm90IGNyZWF0ZWQiKTsKICAgICAgICBzZWxmLnRvbkRlcG9zaXRCYWxhbmNlIC09IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyOwogICAgICAgIG5hdGl2ZVJlc2VydmUoc2VsZi50b25EZXBvc2l0QmFsYW5jZSArIFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGRlYWwubWFrZXIsCiAgICAgICAgICAgIHZhbHVlOiBkZWFsLmNvbGxhdGVyYWxBbW91bnRNYWtlciwKICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHksCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICB9KTsKICAgICAgICBzZWxmLmRlbGV0ZURlYWwocXVlcnlJZCwgZGVhbElkLCBvcmlnaW5hbEdhc1RvKTsgICAKICAgIH0KCiAgICBmdW4gc2VuZFJld2FyZCh0b2tlbklkOiBJbnQsIGFtb3VudDogSW50LCBxdWVyeUlkOiBJbnQsIG9yaWdpbmFsR2FzVG86IEFkZHJlc3MpIHsKICAgICAgICByZXF1aXJlKHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5nZXQocXVlcnlJZCkgPT0gbnVsbCwgIlF1ZXJ5SWQgYWxyZWFkeSBleGlzdHMiKTsKCiAgICAgICAgbGV0IGNvbnRleHRGb3JHZXRPd25lcjogQ29udGV4dEZvckdldE93bmVyID0gQ29udGV4dEZvckdldE93bmVyewogICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogb3JpZ2luYWxHYXNUbywKICAgICAgICB9OwogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5zZXQocXVlcnlJZCwgY29udGV4dEZvckdldE93bmVyLnRvQ2VsbCgpKTsKCiAgICAgICAgc2VsZi5mZXRjaE93bmVyQnlJbmRleChxdWVyeUlkLCB0b2tlbklkLCBHQVNfVE9fRkVUQ0hfT1dORVIpOwogICAgfSAgICAgICAKCiAgICByZWNlaXZlKG1zZzogUmVwb3J0T3duZXIpIHsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIE5mdEl0ZW0obXlBZGRyZXNzKCksIG1zZy5pbmRleF9pZCk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksICJSZXBvcnRPd25lciBtdXN0IGJlIGZyb20gbmZ0IGNvbnRyYWN0Iik7CiAgICAgICAgbGV0IGNvbnRleHRGb3JHZXRPd25lcjogQ29udGV4dEZvckdldE93bmVyID0gQ29udGV4dEZvckdldE93bmVyLmZyb21DZWxsKHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5nZXQobXNnLnF1ZXJ5X2lkKSk7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChtc2cucXVlcnlfaWQpOwogICAgICAgIHNlbGYudG9uRGVwb3NpdEJhbGFuY2UgLT0gY29udGV4dEZvckdldE93bmVyLmFtb3VudDsKICAgICAgICBuYXRpdmVSZXNlcnZlKHNlbGYudG9uRGVwb3NpdEJhbGFuY2UgKyBTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwoKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogbXNnLm93bmVyLAogICAgICAgICAgICB2YWx1ZTogY29udGV4dEZvckdldE93bmVyLmFtb3VudCwKICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHksIAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgfSk7CgogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBjb250ZXh0Rm9yR2V0T3duZXIub3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlfFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW4gc2F2ZURlYWwocXVlcnlJZDogSW50LCBkZWFsSWQ6IEludCwgZGVhbDogRGVhbERhdGEsIG9yaWdpbmFsR2FzVG86IEFkZHJlc3MpIHsgCiAgICAgICAgbGV0IHdpbml0OiBTdGF0ZUluaXQgPSBpbml0T2YgRGVhbChkZWFsSWQsIG15QWRkcmVzcygpKTsKCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgYm9keTogU2F2ZURhdGF7CiAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogb3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgICAgIGRhdGE6IGRlYWwudG9DZWxsKCksCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgICAgIGNvZGU6IHdpbml0LmNvZGUsCiAgICAgICAgICAgIGRhdGE6IHdpbml0LmRhdGEKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW4gZGVsZXRlRGVhbChxdWVyeUlkOiBJbnQsIGRlYWxJZDogSW50LCBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzKSB7IAogICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIERlYWwoZGVhbElkLCBteUFkZHJlc3MoKSk7CgogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBjb250cmFjdEFkZHJlc3Mod2luaXQpLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIGJvZHk6IERlbGV0ZURhdGF7CiAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogb3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgY29kZTogd2luaXQuY29kZSwKICAgICAgICAgICAgZGF0YTogd2luaXQuZGF0YQogICAgICAgIH0pOwogICAgfQoKICAgIGZ1biBmZXRjaFByaWNlV2l0aFNhdmVDb250ZXh0KHF1ZXJ5SWQ6IEludCwgb3JhY2xlQXNzZXREYXRhOiBDZWxsLCBvcmFjbGVUb2tlbkRhdGE6IENlbGwsIHNhdmVDb250ZXh0OiBDZWxsKSB7CiAgICAgICAgcmVxdWlyZShzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZ2V0KHF1ZXJ5SWQpID09IG51bGwsICJRdWVyeUlkIGFscmVhZHkgZXhpc3RzIik7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LnNldChxdWVyeUlkLCBzYXZlQ29udGV4dCk7CiAgICAgICAgc2VsZi5mZXRjaFByaWNlKHF1ZXJ5SWQsIG9yYWNsZUFzc2V0RGF0YSwgb3JhY2xlVG9rZW5EYXRhKTsKICAgIH0KCiAgICBvdmVycmlkZSBmdW4gb25QcmljZVJlY2VpdmVkKHF1ZXJ5SWQ6IEludCwgZmVlZElkOiBJbnQsIHByaWNlOiBJbnQsIHRpbWVzdGFtcDogSW50LCBmZWVkSWQyOiBJbnQsIHByaWNlMjogSW50LCB0aW1lc3RhbXAyOiBJbnQpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKHNlbGYudG9uRGVwb3NpdEJhbGFuY2UgKyBTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgbGV0IHF1ZXJ5OiBTbGljZSA9IHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5nZXQocXVlcnlJZCkhIS5iZWdpblBhcnNlKCk7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChxdWVyeUlkKTsKCiAgICAgICAgbGV0IG9wY29kZTogSW50ID0gcXVlcnkubG9hZFVpbnQoOCk7CgogICAgICAgIGlmIChvcGNvZGUgPT0gSU5ORVJfT1BfQ09ERV9UQUtFX0RFQUxfQUZURVJfUFJJQ0VfUkVDRUlWRUQpIHsgCiAgICAgICAgICAgIHNlbGYudGFrZURlYWxBZnRlclJlY2lldmVkUHJpY2UocXVlcnkubG9hZFJlZigpLCBjdHgsIHF1ZXJ5SWQsIGZlZWRJZCwgcHJpY2UsIHRpbWVzdGFtcCwgZmVlZElkMiwgcHJpY2UyLCB0aW1lc3RhbXAyKTsKICAgICAgICB9IGVsc2UgaWYgKG9wY29kZSA9PSBJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9QUklDRV9SRUNFSVZFRCkgewogICAgICAgICAgICBzZWxmLnByb2Nlc3NEZWFsQWZ0ZXJSZWNpZXZlZFByaWNlKHF1ZXJ5LmxvYWRSZWYoKSwgY3R4LCBxdWVyeUlkLCBmZWVkSWQsIHByaWNlLCB0aW1lc3RhbXAsIGZlZWRJZDIsIHByaWNlMiwgdGltZXN0YW1wMik7CiAgICAgICAgfQogICAgfQoKICAgIGZ1biBmZXRjaERlYWwocXVlcnlJZDogSW50LCBkZWFsSWQ6IEludCwgc2F2ZUNvbnRleHQ6IENlbGwpIHsgCiAgICAgICAgcmVxdWlyZShzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZ2V0KHF1ZXJ5SWQpID09IG51bGwsICJRdWVyeUlkIGFscmVhZHkgZXhpc3RzIik7CgogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5zZXQocXVlcnlJZCwgc2F2ZUNvbnRleHQpOwogICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIERlYWwoZGVhbElkLCBteUFkZHJlc3MoKSk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBHZXREYXRhewogICAgICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwgCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogUmVwb3J0RGF0YSkgewogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgbGV0IHdpbml0OiBTdGF0ZUluaXQgPSBpbml0T2YgRGVhbChtc2cuaWQsIG15QWRkcmVzcygpKTsKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gY29udHJhY3RBZGRyZXNzKHdpbml0KSwgIlJlcG9ydERhdGEgbXVzdCBiZSBmcm9tIERlYWwgY29udHJhY3QiKTsKICAgICAgICBsZXQgZGVhbDogRGVhbERhdGEgPSBEZWFsRGF0YS5mcm9tQ2VsbChtc2cuZGF0YSk7CiAgICAgICAgbGV0IHF1ZXJ5OiBTbGljZSA9IHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5nZXQobXNnLnF1ZXJ5SWQpISEuYmVnaW5QYXJzZSgpOwogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5kZWwobXNnLnF1ZXJ5SWQpOwoKICAgICAgICBsZXQgb3Bjb2RlOiBJbnQgPSBxdWVyeS5sb2FkVWludCg4KTsKICAgICAgICBpZiAob3Bjb2RlID09IElOTkVSX09QX0NPREVfVEFLRV9ERUFMX0FGVEVSX0RFQUxfUkVDRUlWRUQpIHsgCiAgICAgICAgICAgIHNlbGYudGFrZURlYWxBZnRlclJlY2lldmVkRGVhbChkZWFsLCBxdWVyeS5sb2FkUmVmKCksIGN0eCwgbXNnLnF1ZXJ5SWQsIG1zZy5pZCk7CiAgICAgICAgfSBlbHNlIGlmIChvcGNvZGUgPT0gSU5ORVJfT1BfQ09ERV9DQU5DRUxfREVBTF9BRlRFUl9ERUFMX1JFQ0VJVkVEKSB7CiAgICAgICAgICAgIHNlbGYuY2FuY2VsRGVhbEFmdGVyUmVjaWV2ZWREZWFsKGRlYWwsIHF1ZXJ5LmxvYWRSZWYoKSwgY3R4LCBtc2cucXVlcnlJZCwgbXNnLmlkKTsKICAgICAgICB9IGVsc2UgaWYgKG9wY29kZSA9PSBJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9ERUFMX1JFQ0VJVkVEKSB7CiAgICAgICAgICAgIHNlbGYucHJvY2Vzc0RlYWxBZnRlclJlY2lldmVkRGVhbChkZWFsLCBxdWVyeS5sb2FkUmVmKCksIGN0eCwgbXNnLnF1ZXJ5SWQsIG1zZy5pZCk7CiAgICAgICAgfSAgIAogICAgfQogCiAgICBmdW4gcmV0dXJuVG9uKHF1ZXJ5SWQ6IEludCwgdG86IEFkZHJlc3MsIHJlYXNvbjogSW50KSB7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHRvLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogYmVnaW5DZWxsKCkuc3RvcmVVaW50KHJlYXNvbiwgOCkuZW5kQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuIGFkZFRvbkRlcG9zaXRCYWxhbmNlKHZhbHVlOiBJbnQpIHsKICAgICAgICByZXF1aXJlKHZhbHVlID4gMCwgIlZhbHVlIG11c3QgYmUgcG9zaXRpdmUiKTsKICAgICAgICBzZWxmLnRvbkRlcG9zaXRCYWxhbmNlICs9IHZhbHVlOwogICAgICAgIG5hdGl2ZVJlc2VydmUodmFsdWUsIDApOwogICAgfQogICAgCiAgICBvdmVycmlkZSBmdW4gb25PcmFjbGVFcnJvclJlY2VpdmVkKHF1ZXJ5SWQ6IEludCwgZXJyb3I6IFNsaWNlKSB7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChxdWVyeUlkKTsKICAgIH0KCiAgICBvdmVycmlkZSBmdW4gb25Cb3VuY2VkR2V0T3duZXIocXVlcnlJZDogSW50KSB7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChxdWVyeUlkKTsKICAgIH0gICAKICAgIAogICAgYm91bmNlZChtc2c6IEdldERhdGEpIHsKICAgICAgICBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZGVsKG1zZy5xdWVyeUlkKTsKICAgIH0KCiAgICBnZXQgZnVuIGlkKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuaWQ7CiAgICB9CgogICAgZ2V0IGZ1biBhbW0oKTogQWRkcmVzcyB7CiAgICAgICAgcmV0dXJuIHNlbGYuYW1tOwogICAgfQogICAgCiAgICBnZXQgZnVuIHVuZGVybHlpbmdBc3NldE5hbWUoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi51bmRlcmx5aW5nQXNzZXROYW1lOwogICAgfQoKICAgIGdldCBmdW4gZHVyYXRpb24oKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5kdXJhdGlvbjsKICAgIH0KCiAgICBnZXQgZnVuIG9wZXJhdG9yRmVlKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYub3BlcmF0b3JGZWU7CiAgICB9CiAgICAKICAgIGdldCBmdW4gYmFsYW5jZSgpOiBJbnQgewogICAgICAgIHJldHVybiBteUJhbGFuY2UoKTsKICAgIH0KCiAgICBnZXQgZnVuIHNlcnZpY2VGZWUoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5zZXJ2aWNlRmVlOwogICAgfQoKICAgIGdldCBmdW4gY291bnREZWFsKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuY291bnREZWFsOwogICAgfQoKICAgIGdldCBmdW4gbmV4dF9pdGVtX2luZGV4KCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYubmV4dF9pdGVtX2luZGV4OwogICAgfQoKICAgIGdldCBmdW4gY29sbGVjdGlvbl9jb250ZW50KCk6IENlbGwgewogICAgICAgIHJldHVybiBzZWxmLmNvbGxlY3Rpb25fY29udGVudDsKICAgIH0KCiAgICBnZXQgZnVuIG9yYWNsZSgpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gc2VsZi5vcmFjbGU7CiAgICB9CgogICAgZ2V0IGZ1biBmYWN0b3J5KCk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBzZWxmLmZhY3Rvcnk7CiAgICB9CgogICAgZ2V0IGZ1biBmZWVkSWRBc3NldCgpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLmZlZWRJZEFzc2V0OwogICAgfQoKICAgIGdldCBmdW4gZmVlZElkVG9rZW4oKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5mZWVkSWRUb2tlbjsKICAgIH0KCiAgICBnZXQgZnVuIG9wZXJhdG9yRmVlU3VtKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYub3BlcmF0b3JGZWVTdW07CiAgICB9CgogICAgZ2V0IGZ1biBzZXJ2aWNlRmVlU3VtKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuc2VydmljZUZlZVN1bTsKICAgIH0KCiAgICBnZXQgZnVuIG9wZXJhdG9yRmVlQWRkcmVzcygpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gc2VsZi5vcGVyYXRvckZlZUFkZHJlc3M7CiAgICB9CiAgICAKICAgIGdldCBmdW4gbWFwUXVlcmllc1RvQ29udGV4dCgpOiBtYXA8SW50LCBDZWxsPiB7CiAgICAgICAgcmV0dXJuIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dDsKICAgIH0KCiAgICBnZXQgZnVuIHRvbkRlcG9zaXRCYWxhbmNlKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYudG9uRGVwb3NpdEJhbGFuY2U7CiAgICB9Cn0=","contracts/amm.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21hcmtldF9tZXNzYWdlcy50YWN0IjsKaW1wb3J0ICIuL2pldHRvbi9qZXR0b25fbWVzc2FnZXMudGFjdCI7CmltcG9ydCAiLi9pbXBvcnRzL2NvbnN0YW50cy50YWN0IjsKCm1lc3NhZ2UgSW5uZXJEZXBsb3lBbW0gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGpldHRvbldhbGxldDogQWRkcmVzczsKICAgIG9yaWdpbmFsR2FzVG86IEFkZHJlc3M7CiAgICBtYXJrZXQ6IEFkZHJlc3M7Cn0KbWVzc2FnZSBXaXRoZHJhd1Rva2VuIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIG9yaWdpbmFsR2FzVG86IEFkZHJlc3M7Cn0KCmNvbnRyYWN0IEFtbSB3aXRoIE93bmFibGVUcmFuc2ZlcmFibGUgewogICAgaWQ6IEludCBhcyB1aW50MzI7CiAgICBmYWN0b3J5OiBBZGRyZXNzOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICBtYXJrZXQ6IEFkZHJlc3MgPSBhZGRyZXNzKCJVUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFKS1oiKTsgLy8gWkVST19BRERSRVNTCiAgICBqZXR0b25XYWxsZXQ6IEFkZHJlc3MgPSBhZGRyZXNzKCJVUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFKS1oiKTsgLy8gWkVST19BRERSRVNTCgogICAgaW5pdChpZDogSW50LCBmYWN0b3J5OiBBZGRyZXNzLCBvd25lcjogQWRkcmVzcykgewogICAgICAgIHNlbGYuaWQgPSBpZDsKICAgICAgICBzZWxmLmZhY3RvcnkgPSBmYWN0b3J5OwogICAgICAgIHNlbGYub3duZXIgPSBvd25lcjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogSW5uZXJEZXBsb3lBbW0pIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYuZmFjdG9yeSwgIk9ubHkgZmFjdG9yeSBjYW4gY2FsbCB0aGlzIGZ1bmN0aW9uIik7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwogICAgICAgIHJlcXVpcmUoc2VsZi5tYXJrZXQgPT0gWkVST19BRERSRVNTLCAiTWFya2V0IGFscmVhZHkgc2V0Iik7CiAgICAgICAgcmVxdWlyZShzZWxmLmpldHRvbldhbGxldCA9PSBaRVJPX0FERFJFU1MsICJKZXR0b24gd2FsbGV0IGFscmVhZHkgc2V0Iik7CiAgICAgICAgc2VsZi5qZXR0b25XYWxsZXQgPSBtc2cuamV0dG9uV2FsbGV0OwogICAgICAgIHNlbGYubWFya2V0ID0gbXNnLm1hcmtldDsgICAKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogbXNnLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgYm9keTogRGVwbG95T2t7CiAgICAgICAgICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBUYWtlRGVhbEFtbSkgewogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYubWFya2V0LCAiT25seSBtYXJrZXQgY2FuIGNhbGwgdGhpcyBmdW5jdGlvbiIpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLmpldHRvbldhbGxldCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQsCiAgICAgICAgICAgICAgICByZWNpcGllbnQ6IHNlbmRlcigpLAogICAgICAgICAgICAgICAgcXVlcnlfaWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgcmVzcG9uc2VfZGVzdGluYXRpb246IG1zZy5vcmlnaW5hbEdhc1RvLAogICAgICAgICAgICAgICAgY3VzdG9tX3BheWxvYWQ6IG51bGwsCiAgICAgICAgICAgICAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IFRPX1RBS0VfVE9fTUFSS0VULAogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBUYWtlRGVhbFdpdGhPcmlnaW5hbEdhc1RvewogICAgICAgICAgICAgICAgICAgIGRhdGE6IFRha2VEZWFsRGF0YVdpdGhPcmlnaW5hbEdhc1RvewogICAgICAgICAgICAgICAgICAgICAgICBkZWFsSWQ6IG1zZy5kZWFsSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG9yYWNsZUFzc2V0RGF0YTogbXNnLm9yYWNsZUFzc2V0RGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgb3JhY2xlVG9rZW5EYXRhOiBtc2cub3JhY2xlVG9rZW5EYXRhLAogICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBtc2cub3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgICAgICAgICAgfS50b0NlbGwoKS5iZWdpblBhcnNlKCksCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFdpdGhkcmF3VG9rZW4pIHsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5qZXR0b25XYWxsZXQsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgICAgICAgICAgcmVjaXBpZW50OiBzZW5kZXIoKSwKICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBtc2cub3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiAwLAogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBlbXB0eVNsaWNlKCksCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgfSk7CiAgICB9CiAgICBnZXQgZnVuIGlkKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuaWQ7CiAgICB9CiAgICBnZXQgZnVuIG1hcmtldCgpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gc2VsZi5tYXJrZXQ7CiAgICB9CiAgICAKICAgIGdldCBmdW4gYmFsYW5jZSgpOiBJbnQgewogICAgICAgIHJldHVybiBteUJhbGFuY2UoKTsKICAgIH0KfQo=","contracts/amm_ton.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9vd25hYmxlIjsKaW1wb3J0ICIuL21hcmtldF9tZXNzYWdlcy50YWN0IjsKaW1wb3J0ICIuL2pldHRvbi9qZXR0b25fbWVzc2FnZXMudGFjdCI7CmltcG9ydCAiLi9pbXBvcnRzL2NvbnN0YW50cy50YWN0IjsKCm1lc3NhZ2UgSW5uZXJEZXBsb3lBbW1Ub24gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIG9yaWdpbmFsR2FzVG86IEFkZHJlc3M7CiAgICBtYXJrZXQ6IEFkZHJlc3M7Cn0KbWVzc2FnZSBXaXRoZHJhd1RvbiB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7Cn0KCmNvbnRyYWN0IEFtbVRvbiB3aXRoIE93bmFibGVUcmFuc2ZlcmFibGUgewogICAgaWQ6IEludCBhcyB1aW50MzI7CiAgICBmYWN0b3J5OiBBZGRyZXNzOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICBtYXJrZXQ6IEFkZHJlc3MgPSBhZGRyZXNzKCJVUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFKS1oiKTsgLy8gWkVST19BRERSRVNTCiAgICBkZXBvc2l0ZWQ6IEludCBhcyBjb2lucyA9IDA7CgogICAgaW5pdChpZDogSW50LCBmYWN0b3J5OiBBZGRyZXNzLCBvd25lcjogQWRkcmVzcykgewogICAgICAgIHNlbGYuaWQgPSBpZDsKICAgICAgICBzZWxmLmZhY3RvcnkgPSBmYWN0b3J5OwogICAgICAgIHNlbGYub3duZXIgPSBvd25lcjsKICAgIH0KICAgIAogICAgcmVjZWl2ZSgpIHsKICAgICAgICBzZWxmLmRlcG9zaXRlZCArPSBjb250ZXh0KCkudmFsdWU7CiAgICB9CiAgICByZWNlaXZlKHNsaWNlOiBTbGljZSkgewogICAgICAgIHNlbGYuZGVwb3NpdGVkICs9IGNvbnRleHQoKS52YWx1ZTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogSW5uZXJEZXBsb3lBbW1Ub24pIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYuZmFjdG9yeSwgIk9ubHkgZmFjdG9yeSBjYW4gY2FsbCB0aGlzIGZ1bmN0aW9uIik7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShTVE9SQUdFX0lOSVRfVkFMVUUgKyBzZWxmLmRlcG9zaXRlZCwgMCk7CiAgICAgICAgcmVxdWlyZShzZWxmLm1hcmtldCA9PSBaRVJPX0FERFJFU1MsICJNYXJrZXQgYWxyZWFkeSBzZXQiKTsKICAgICAgICBzZWxmLm1hcmtldCA9IG1zZy5tYXJrZXQ7ICAgCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IG1zZy5vcmlnaW5hbEdhc1RvLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIGJvZHk6IERlcGxveU9rewogICAgICAgICAgICAgICAgcXVlcnlJZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVGFrZURlYWxBbW0pIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYubWFya2V0LCAiT25seSBtYXJrZXQgY2FuIGNhbGwgdGhpcyBmdW5jdGlvbiIpOwogICAgICAgIHNlbGYuZGVwb3NpdGVkIC09IG1zZy5hbW91bnQ7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShTVE9SQUdFX0lOSVRfVkFMVUUgKyBzZWxmLmRlcG9zaXRlZCwgMCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbGYubWFya2V0LAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogVGFrZURlYWxXaXRoT3JpZ2luYWxHYXNUb1RvbnsKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgICAgICAgICAgZGVhbDogVGFrZURlYWxEYXRhV2l0aE9yaWdpbmFsR2FzVG97CiAgICAgICAgICAgICAgICAgICAgZGVhbElkOiBtc2cuZGVhbElkLAogICAgICAgICAgICAgICAgICAgIG9yYWNsZUFzc2V0RGF0YTogbXNnLm9yYWNsZUFzc2V0RGF0YSwKICAgICAgICAgICAgICAgICAgICBvcmFjbGVUb2tlbkRhdGE6IG1zZy5vcmFjbGVUb2tlbkRhdGEsCiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogbXNnLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBXaXRoZHJhd1RvbikgewogICAgICAgIHNlbGYucmVxdWlyZU93bmVyKCk7CiAgICAgICAgc2VsZi5kZXBvc2l0ZWQgLT0gbXNnLmFtb3VudDsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSArIHNlbGYuZGVwb3NpdGVkLCAwKTsKCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICB9KTsKICAgIH0KICAgIGdldCBmdW4gaWQoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5pZDsKICAgIH0KCiAgICBnZXQgZnVuIG1hcmtldCgpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gc2VsZi5tYXJrZXQ7CiAgICB9CgogICAgZ2V0IGZ1biBkZXBvc2l0ZWQoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5kZXBvc2l0ZWQ7CiAgICB9ICAgCiAgICAKICAgIGdldCBmdW4gYmFsYW5jZSgpOiBJbnQgewogICAgICAgIHJldHVybiBteUJhbGFuY2UoKTsKICAgIH0KCn0K","contracts/market_messages.tact":"Y29uc3QgT1BfQ09ERV9DUkVBVEVfREVBTDogSW50ID0gMHhkZmQ3NDUzMDsgLy8gc2hhMjU2KCJDcmVhdGVEZWFsIikuc2xpY2UoMCwgOCkKY29uc3QgT1BfQ09ERV9UQUtFX0RFQUw6IEludCA9IDB4MzhmMGI4ZjU7IC8vIHNoYTI1NigiVGFrZURlYWwiKS5zbGljZSgwLCA4KQpjb25zdCBPUF9DT0RFX1RBS0VfREVBTF9XSVRIX09SSUdJTkFMX0dBU19UTzogSW50ID0gMHg3OGQ4MzBiMjsgLy8gc2hhMjU2KCJUYWtlRGVhbFdpdGhPcmlnaW5hbEdhc1RvIikuc2xpY2UoMCwgOCkKCm1lc3NhZ2UoMHgzOGYwYjhmNSkgVGFrZURlYWwgewogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgb3JhY2xlQXNzZXREYXRhOiBDZWxsOwogICAgb3JhY2xlVG9rZW5EYXRhOiBDZWxsOwp9Cm1lc3NhZ2UgVGFrZURlYWxUb24gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGRlYWw6IFRha2VEZWFsRGF0YTsKfQpzdHJ1Y3QgVGFrZURlYWxEYXRhIHsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKICAgIG9yYWNsZUFzc2V0RGF0YTogQ2VsbDsKICAgIG9yYWNsZVRva2VuRGF0YTogQ2VsbDsKfQptZXNzYWdlKDB4NzhkODMwYjIpIFRha2VEZWFsV2l0aE9yaWdpbmFsR2FzVG8gewogICAgZGF0YTogQ2VsbDsKfQptZXNzYWdlIFRha2VEZWFsV2l0aE9yaWdpbmFsR2FzVG9Ub24gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgZGVhbDogVGFrZURlYWxEYXRhV2l0aE9yaWdpbmFsR2FzVG87Cn0Kc3RydWN0IFRha2VEZWFsRGF0YVdpdGhPcmlnaW5hbEdhc1RvIHsgIAogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKICAgIG9yYWNsZUFzc2V0RGF0YTogQ2VsbDsKICAgIG9yYWNsZVRva2VuRGF0YTogQ2VsbDsKfQptZXNzYWdlKDB4ZGZkNzQ1MzApIENyZWF0ZURlYWwgewogICAgbWFrZXJQb3NpdGlvbjogQm9vbDsKICAgIHJhdGVBc3NldDogSW50IGFzIGNvaW5zOwogICAgcmF0ZVRva2VuOiBJbnQgYXMgY29pbnM7CiAgICBwZXJjZW50OiBJbnQgYXMgY29pbnM7CiAgICBleHBpcmF0aW9uOiBJbnQgYXMgdWludDMyOwogICAgc2xpcHBhZ2U6IEludCBhcyBjb2luczsKICAgIG9yYWNsZUFzc2V0RGF0YTogQ2VsbD87CiAgICBvcmFjbGVUb2tlbkRhdGE6IENlbGw/Owp9Cm1lc3NhZ2UgSW5uZXJEZXBsb3lNYXJrZXQgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGpldHRvbldhbGxldDogQWRkcmVzczsKICAgIG9yaWdpbmFsR2FzVG86IEFkZHJlc3M7Cn0KbWVzc2FnZSBJbm5lckRlcGxveU1hcmtldFRvbiB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKfQptZXNzYWdlIFdpdGhkcmF3T3BlcmF0b3JGZWUgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgdG86IEFkZHJlc3M7Cn0KbWVzc2FnZSBXaXRoZHJhd1NlcnZpY2VGZWUgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgdG86IEFkZHJlc3M7Cn0KbWVzc2FnZSBDcmVhdGVEZWFsVG9uIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBkZWFsOiBDcmVhdGVEZWFsRGF0YTsKfQpzdHJ1Y3QgQ3JlYXRlRGVhbERhdGEgewogICAgbWFrZXJQb3NpdGlvbjogQm9vbDsKICAgIHJhdGVBc3NldDogSW50IGFzIGNvaW5zOwogICAgcmF0ZVRva2VuOiBJbnQgYXMgY29pbnM7CiAgICBwZXJjZW50OiBJbnQgYXMgY29pbnM7CiAgICBleHBpcmF0aW9uOiBJbnQgYXMgdWludDMyOwogICAgc2xpcHBhZ2U6IEludCBhcyBjb2luczsKICAgIG9yYWNsZUFzc2V0RGF0YTogQ2VsbD87CiAgICBvcmFjbGVUb2tlbkRhdGE6IENlbGw/Owp9Cm1lc3NhZ2UgQ2FuY2VsRGVhbCB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwp9Cm1lc3NhZ2UgUHJvY2Vzc0RlYWwgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKICAgIG9yYWNsZUFzc2V0RGF0YTogQ2VsbDsKICAgIG9yYWNsZVRva2VuRGF0YTogQ2VsbDsKfQpzdHJ1Y3QgRGVhbERhdGEgewogICAgc3RhdHVzOiBJbnQgYXMgdWludDg7CiAgICBpc1NlbGxlcjogQm9vbDsKICAgIHJhdGU6IEludCBhcyBjb2luczsKICAgIHJhdGVNYWtlcjogSW50IGFzIGNvaW5zOwogICAgcGVyY2VudDogSW50IGFzIGNvaW5zOwogICAgc2xpcHBhZ2VNYWtlcjogSW50IGFzIGNvaW5zOwogICAgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBJbnQgYXMgY29pbnM7CiAgICBkYXRlT3JkZXJDcmVhdGlvbjogSW50IGFzIHVpbnQzMjsKICAgIGRhdGVPcmRlckV4cGlyYXRpb246IEludCBhcyB1aW50MzI7CiAgICBkYXRlU3RhcnQ6IEludCBhcyB1aW50MzI7CiAgICBkYXRlU3RvcDogSW50IGFzIHVpbnQzMjsKICAgIGJ1eWVyVG9rZW5JZDogSW50IGFzIHVpbnQzMjsKICAgIHNlbGxlclRva2VuSWQ6IEludCBhcyB1aW50MzI7CiAgICBtYWtlcjogQWRkcmVzczsKfQoKLy8gZXZlbnRzCm1lc3NhZ2UgQ2FuY2VsRXZlbnQgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKICAgIG1ha2VyOiBBZGRyZXNzOwogICAgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBJbnQgYXMgY29pbnM7Cn0KbWVzc2FnZSBEZWFsQWNjZXB0ZWRFdmVudCB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgbWFrZXI6IEFkZHJlc3M7CiAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IEludCBhcyBjb2luczsKfQptZXNzYWdlIERlYWxDcmVhdGVkRXZlbnQgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKICAgIG1ha2VyOiBBZGRyZXNzOwogICAgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBJbnQgYXMgY29pbnM7Cn0KbWVzc2FnZSBEZWFsQ29tcGxldGVkRXZlbnQgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKICAgIG1ha2VyOiBBZGRyZXNzOwogICAgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBJbnQgYXMgY29pbnM7Cn0KbWVzc2FnZSBEZWFsRXhwaXJlZEV2ZW50IHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBkZWFsSWQ6IEludCBhcyB1aW50MzI7CiAgICBtYWtlcjogQWRkcmVzczsKICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogSW50IGFzIGNvaW5zOwp9CgovLyBjb250ZXh0CgpzdHJ1Y3QgQ29udGV4dENhbmNlbERlYWxGb3JEZWFsUmVjZWl2ZWQgewogICAgZnJvbTogQWRkcmVzczsKfQpzdHJ1Y3QgQ29udGV4dFRha2VEZWFsRm9yRGVhbFJlY2VpdmVkIHsKICAgIGZyb206IEFkZHJlc3M7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIG9yaWdpbmFsR2FzVG86IEFkZHJlc3M7CiAgICBmZWVkSWQ6IEludCBhcyB1aW50MzI7CiAgICBwcmljZTogSW50IGFzIHVpbnQxMjg7CiAgICB0aW1lc3RhbXA6IEludCBhcyB1aW50MzI7CiAgICBmZWVkSWQyOiBJbnQgYXMgdWludDMyOwogICAgcHJpY2UyOiBJbnQgYXMgdWludDEyODsKICAgIHRpbWVzdGFtcDI6IEludCBhcyB1aW50MzI7Cn0KCnN0cnVjdCBDb250ZXh0UHJvY2Vzc0RlYWxGb3JEZWFsUmVjZWl2ZWQgewogICAgZnJvbTogQWRkcmVzczsKICAgIGZlZWRJZDogSW50IGFzIHVpbnQzMjsKICAgIHByaWNlOiBJbnQgYXMgdWludDEyODsKICAgIHRpbWVzdGFtcDogSW50IGFzIHVpbnQzMjsKICAgIGZlZWRJZDI6IEludCBhcyB1aW50MzI7CiAgICBwcmljZTI6IEludCBhcyB1aW50MTI4OwogICAgdGltZXN0YW1wMjogSW50IGFzIHVpbnQzMjsKfQpzdHJ1Y3QgQ29udGV4dFRha2VEZWFsRm9yUHJpY2VSZWNlaXZlZCB7CiAgICBmcm9tOiBBZGRyZXNzOwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBkZWFsSWQ6IEludCBhcyB1aW50MzI7CiAgICBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzOwp9CnN0cnVjdCBDb250ZXh0UHJvY2Vzc0RlYWxGb3JQcmljZVJlY2VpdmVkIHsKICAgIGZyb206IEFkZHJlc3M7CiAgICBkZWFsSWQ6IEludCBhcyB1aW50MzI7Cn0Kc3RydWN0IENvbnRleHRGb3JHZXRPd25lciB7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIG9yaWdpbmFsR2FzVG86IEFkZHJlc3M7Cn0KCm1lc3NhZ2UgVGFrZURlYWxBbW0gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKICAgIG9yYWNsZUFzc2V0RGF0YTogQ2VsbDsKICAgIG9yYWNsZVRva2VuRGF0YTogQ2VsbDsKfQ==","contracts/nft/nft_collection.tact":"aW1wb3J0ICIuL25mdF9pdGVtLnRhY3QiOwoKCnRyYWl0IE5mdENvbGxlY3Rpb24gewogICAgbmV4dF9pdGVtX2luZGV4OiBJbnQ7CiAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGw7CgogICAgLy8gcmVjZWl2ZSgiTWludCIpewogICAgLy8gICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAvLyAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjdHgudmFsdWU7CiAgICAvLyAgICAgbGV0IHRvbkJhbGFuY2VCZWZvcmVNc2c6IEludCA9IG15QmFsYW5jZSgpIC0gbXNnVmFsdWU7CiAgICAvLyAgICAgbGV0IHN0b3JhZ2VGZWU6IEludCA9IG1pblRvbnNGb3JTdG9yYWdlIC0gbWluKHRvbkJhbGFuY2VCZWZvcmVNc2csIG1pblRvbnNGb3JTdG9yYWdlKTsKICAgIC8vICAgICBtc2dWYWx1ZSA9IG1zZ1ZhbHVlIC0gKHN0b3JhZ2VGZWUgKyBnYXNDb25zdW1wdGlvbik7CiAgICAvLyAgICAgc2VsZi5taW50KGN0eC5zZW5kZXIsIG1zZ1ZhbHVlKTsKCiAgICAvLyAgICAgZW1pdChMb2dFdmVudE1pbnRSZWNvcmR7IG1pbnRlcjogc2VuZGVyKCksIGl0ZW1faWQ6IHNlbGYubmV4dF9pdGVtX2luZGV4LCBnZW5lcmF0ZV9udW1iZXI6IG5hdGl2ZVJhbmRvbSgpIH0udG9DZWxsKCkpOwogICAgLy8gfQoKICAgIGFic3RyYWN0IGZ1biBvbkJvdW5jZWRHZXRPd25lcihxdWVyeUlkOiBJbnQpOwoKICAgIHZpcnR1YWwgZnVuIG1pbnQocXVlcnlfaWQ6IEludCwgbmV3X293bmVyOiBBZGRyZXNzLCBtc2dWYWx1ZTogSW50LCByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcyk6IEludCB7CiAgICAgICAgLy8gcmVxdWlyZShzZWxmLm5leHRfaXRlbV9pbmRleCA+PSAwLCAibm9uLXNlcXVlbnRpYWwgTkZUcyIpOwogICAgICAgIGxldCBuZnRfaW5pdDogU3RhdGVJbml0ID0gc2VsZi5nZXROZnRJdGVtSW5pdChzZWxmLm5leHRfaXRlbV9pbmRleCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBjb250cmFjdEFkZHJlc3MobmZ0X2luaXQpLAogICAgICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHksCiAgICAgICAgICAgICAgICBib2R5OiBUcmFuc2ZlcnsKICAgICAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlfaWQsCiAgICAgICAgICAgICAgICAgICAgbmV3X293bmVyOiBuZXdfb3duZXIsCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfZGVzdGluYXRpb246IHJlc3BvbnNlX2Rlc3RpbmF0aW9uLAogICAgICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBzZWxmLmNvbGxlY3Rpb25fY29udGVudCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKQogICAgICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgICAgIGNvZGU6IG5mdF9pbml0LmNvZGUsCiAgICAgICAgICAgICAgICBkYXRhOiBuZnRfaW5pdC5kYXRhCiAgICAgICAgICAgIH0KICAgICAgICApOwogICAgICAgIHNlbGYubmV4dF9pdGVtX2luZGV4ID0gc2VsZi5uZXh0X2l0ZW1faW5kZXggKyAxOwogICAgICAgIHJldHVybiBzZWxmLm5leHRfaXRlbV9pbmRleCAtIDE7CiAgICB9CgoKICAgIGZ1biBmZXRjaE93bmVyQnlJbmRleChxdWVyeV9pZDogSW50LCBpdGVtX2luZGV4OiBJbnQsIHZhbHVlOiBJbnQpIHsKICAgICAgICBsZXQgaW5pdENvZGU6IFN0YXRlSW5pdCA9IHNlbGYuZ2V0TmZ0SXRlbUluaXQoaXRlbV9pbmRleCk7CiAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogY29udHJhY3RBZGRyZXNzKGluaXRDb2RlKSwKICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgICAgICBib2R5OiBHZXRPd25lcnsKICAgICAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlfaWQsCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgICAgICB9CiAgICAgICAgKTsKICAgIH0KCiAgICAKICAgIGJvdW5jZWQobXNnOiBHZXRPd25lcikgewogICAgICAgIHNlbGYub25Cb3VuY2VkR2V0T3duZXIobXNnLnF1ZXJ5X2lkKTsKICAgIH0KCiAgICBnZXQgZnVuIGdldF9jb2xsZWN0aW9uX2RhdGEoKTogQ29sbGVjdGlvbkRhdGEgewogICAgICAgIGxldCBiOiBTdHJpbmdCdWlsZGVyID0gYmVnaW5TdHJpbmcoKTsKICAgICAgICBsZXQgY29sbGVjdGlvbkRhdGFTdHJpbmc6IFN0cmluZyA9IHNlbGYuY29sbGVjdGlvbl9jb250ZW50LmFzU2xpY2UoKS5hc1N0cmluZygpOwogICAgICAgIGIuYXBwZW5kKGNvbGxlY3Rpb25EYXRhU3RyaW5nKTsKICAgICAgICBiLmFwcGVuZCgibWV0YS5qc29uIik7CiAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIENvbGxlY3Rpb25EYXRhewogICAgICAgICAgICAgICAgbmV4dF9pdGVtX2luZGV4OiBzZWxmLm5leHRfaXRlbV9pbmRleCwKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fY29udGVudDogYi50b0NlbGwoKSwKICAgICAgICAgICAgICAgIG93bmVyX2FkZHJlc3M6IGFkZHJlc3MoIlVRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUpLWiIpLAogICAgICAgICAgICB9OwogICAgfQoKICAgIGdldCBmdW4gZ2V0X25mdF9hZGRyZXNzX2J5X2luZGV4KGl0ZW1faW5kZXg6IEludCk6IEFkZHJlc3M/IHsKICAgICAgICBsZXQgaW5pdENvZGU6IFN0YXRlSW5pdCA9IHNlbGYuZ2V0TmZ0SXRlbUluaXQoaXRlbV9pbmRleCk7CiAgICAgICAgcmV0dXJuIGNvbnRyYWN0QWRkcmVzcyhpbml0Q29kZSk7CiAgICB9CgogICAgZ2V0IGZ1biBnZXROZnRJdGVtSW5pdChpdGVtX2luZGV4OiBJbnQpOiBTdGF0ZUluaXQgewogICAgICAgIHJldHVybiBpbml0T2YgTmZ0SXRlbShteUFkZHJlc3MoKSwgaXRlbV9pbmRleCk7CiAgICB9CgogICAgZ2V0IGZ1biBnZXRfbmZ0X2NvbnRlbnQoaW5kZXg6IEludCwgaW5kaXZpZHVhbF9jb250ZW50OiBDZWxsKTogQ2VsbCB7CiAgICAgICAgbGV0IGI6IFN0cmluZ0J1aWxkZXIgPSBiZWdpblN0cmluZygpOwogICAgICAgIGxldCBpYzogU3RyaW5nID0gaW5kaXZpZHVhbF9jb250ZW50LmFzU2xpY2UoKS5hc1N0cmluZygpOwogICAgICAgIGIuYXBwZW5kKGljKTsKICAgICAgICByZXR1cm4gYi50b0NlbGwoKTsKICAgIH0KfQ==","contracts/jetton/jetton_messages.tact":"c3RydWN0IEpldHRvbkRhdGEgewogICAgdG90YWxfc3VwcGx5OiBJbnQ7CiAgICBtaW50YWJsZTogQm9vbDsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgY29udGVudDogQ2VsbDsKICAgIHdhbGxldF9jb2RlOiBDZWxsOwp9CgpzdHJ1Y3QgSmV0dG9uV2FsbGV0RGF0YSB7CiAgICBiYWxhbmNlOiBJbnQ7CiAgICBvd25lcjogQWRkcmVzczsKICAgIG1hc3RlcjogQWRkcmVzczsKICAgIGNvZGU6IENlbGw7Cn0KCm1lc3NhZ2UoMHhmOGE3ZWE1KSBUb2tlblRyYW5zZmVyIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICByZWNpcGllbnQ6IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87CiAgICBjdXN0b21fcGF5bG9hZDogQ2VsbD87CiAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IEludCBhcyBjb2luczsKICAgIGZvcndhcmRfcGF5bG9hZDogU2xpY2UgYXMgcmVtYWluaW5nOyAKfQoKbWVzc2FnZSgweDE3OGQ0NTE5KSBUb2tlblRyYW5zZmVySW50ZXJuYWwgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIGZyb206IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87CiAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IEludCBhcyBjb2luczsKICAgIGZvcndhcmRfcGF5bG9hZDogU2xpY2UgYXMgcmVtYWluaW5nOwp9CgptZXNzYWdlKDB4NzM2MmQwOWMpIFRva2VuTm90aWZpY2F0aW9uIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBmcm9tOiBBZGRyZXNzOwogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7Cn0KCm1lc3NhZ2UoMHg1OTVmMDdiYykgVG9rZW5CdXJuIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87CiAgICBjdXN0b21fcGF5bG9hZDogQ2VsbD87Cn0KCm1lc3NhZ2UoMHg3YmRkOTdkZSkgVG9rZW5CdXJuTm90aWZpY2F0aW9uIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBzZW5kZXI6IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87Cn0KCm1lc3NhZ2UoMHhkNTMyNzZkYikgVG9rZW5FeGNlc3NlcyB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBUb2tlblVwZGF0ZUNvbnRlbnQgewogICAgY29udGVudDogQ2VsbDsKfQoKLy8gPT09PSBURVA4OTogSmV0dG9uIFdhbGxldCBEaXNjb3ZlcnkgPT09PQptZXNzYWdlKDB4MmM3NmI5NzMpIFByb3ZpZGVXYWxsZXRBZGRyZXNzIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgb3duZXJfYWRkcmVzczogQWRkcmVzczsKICAgIGluY2x1ZGVfYWRkcmVzczogQm9vbDsKfQoKLy8gdGFrZV93YWxsZXRfYWRkcmVzcyNkMTczNTQwMCAKLy8gcXVlcnlfaWQ6dWludDY0IHdhbGxldF9hZGRyZXNzOk1zZ0FkZHJlc3Mgb3duZXJfYWRkcmVzczooTWF5YmUgXk1zZ0FkZHJlc3MpID0gSW50ZXJuYWxNc2dCb2R5OwptZXNzYWdlKDB4ZDE3MzU0MDApIFRha2VXYWxsZXRBZGRyZXNzIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgd2FsbGV0X2FkZHJlc3M6IEFkZHJlc3M7CiAgICBvd25lcl9hZGRyZXNzOiBTbGljZSBhcyByZW1haW5pbmc7Cn0=","contracts/deal.tact":"aW1wb3J0ICJAc3RkbGliL293bmFibGUiOwppbXBvcnQgIi4vZGVhbF9tZXNzYWdlcyI7Cgpjb25zdCBERUFMX1JFU0VSVkVfVkFMVUUgOiBJbnQgPSB0b24oIjAuMDEiKTsKCmNvbnRyYWN0IERlYWwgd2l0aCBPd25hYmxlIHsKICAgIGlkOiBJbnQgYXMgdWludDMyOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICBkYXRhOiBDZWxsPzsKICAgIGluaXQoaWQ6IEludCwgb3duZXI6IEFkZHJlc3MpewogICAgICAgIHNlbGYuaWQgPSBpZDsKICAgICAgICBzZWxmLm93bmVyID0gb3duZXI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFNhdmVEYXRhKXsKICAgICAgICBuYXRpdmVSZXNlcnZlKERFQUxfUkVTRVJWRV9WQUxVRSwgMCk7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKICAgICAgICBzZWxmLmRhdGEgPSBtc2cuZGF0YTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJze3RvOiBtc2cub3JpZ2luYWxHYXNUbywgdmFsdWU6IDAsIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLCBib3VuY2U6IGZhbHNlfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IERlbGV0ZURhdGEpewogICAgICAgIG5hdGl2ZVJlc2VydmUoMCwgMCk7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJze3RvOiBtc2cub3JpZ2luYWxHYXNUbywgdmFsdWU6IDAsIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlfFNlbmREZXN0cm95SWZaZXJvLCBib3VuY2U6IGZhbHNlfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEdldERhdGEpewogICAgICAgIG5hdGl2ZVJlc2VydmUoREVBTF9SRVNFUlZFX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogY3R4LnNlbmRlciwKICAgICAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiBSZXBvcnREYXRhe3F1ZXJ5SWQ6IG1zZy5xdWVyeUlkLCBpZDogc2VsZi5pZCwgZGF0YTogc2VsZi5kYXRhISF9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0KICAgICAgICApOwogICAgfQoKICAgIGdldCBmdW4gaWQoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5pZDsKICAgIH0KCiAgICBnZXQgZnVuIGRhdGEoKTogQ2VsbD8gewogICAgICAgIHJldHVybiBzZWxmLmRhdGE7CiAgICB9Cn0=","contracts/oracle/redstonte_oracle_consumer_base.tact":"Y29uc3QgT1BfUkVEU1RPTkVfREFUQV9GRVRDSEVEOiBJbnQgPSAweDkzNWZhOWQxOyAvLzJjMzZmZTA0OTc3MTdkMjFiYjY0MGRhYjAzOTcwZWJmNDk1MmY1ODJkYmJhNDYyYTc2OTg1ODAyOyA7OyBzdWJzdHIoa2VjY2FrKFJlZFN0b25lX0RhdGFfRmV0Y2hlZCksIDgpCmNvbnN0IE9QX1JFRFNUT05FX0NIRUNLX0FORF9SRVRVUk5fUFJJQ0U6IEludCA9IDB4MDNkZjk0YWE7Cgp0cmFpdCBSZWRzdG9uZU9yYWNsZUNvbnN1bWVyQmFzZSB7CiAgICBvcmFjbGU6IEFkZHJlc3M7CgogICAgYWJzdHJhY3QgZnVuIG9uUHJpY2VSZWNlaXZlZChxdWVyeUlkOiBJbnQsIGZlZWRJZDogSW50LCBwcmljZTogSW50LCB0aW1lc3RhbXA6IEludCwgZmVlZElkXzI6IEludCwgcHJpY2VfMjogSW50LCB0aW1lc3RhbXBfMjogSW50KTsKCiAgICBhYnN0cmFjdCBmdW4gb25PcmFjbGVFcnJvclJlY2VpdmVkKHF1ZXJ5SWQ6IEludCwgZXJyb3I6IFNsaWNlKTsKCiAgICB2aXJ0dWFsIGZ1biBmZXRjaFByaWNlKHF1ZXJ5SWQ6IEludCwgZmlyc3RPcmFjbGVEYXRhOiBDZWxsLCBzZWNvbmRPcmFjbGVEYXRhOiBDZWxsKSB7CiAgICAgICAgbGV0IHNsaWNlID0gZmlyc3RPcmFjbGVEYXRhLmJlZ2luUGFyc2UoKTsKICAgICAgICBsZXQgc2xpY2VfMiA9IHNlY29uZE9yYWNsZURhdGEuYmVnaW5QYXJzZSgpOwogICAgICAgIHNsaWNlXzIubG9hZFVpbnQoMzIpOyAvLyBza2lwIG9wY29kZQogICAgICAgIGxldCBfb3JhY2xlRGF0YSA9IGJlZ2luQ2VsbCgpLnN0b3JlVWludChzbGljZS5sb2FkVWludCgzMiksIDMyKS5zdG9yZVVpbnQocXVlcnlJZCwgNjQpLnN0b3JlU2xpY2Uoc2xpY2UpLnN0b3JlU2xpY2Uoc2xpY2VfMikuc3RvcmVSZWYoYmVnaW5DZWxsKCkuZW5kQ2VsbCgpKS5lbmRDZWxsKCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3t0bzogc2VsZi5vcmFjbGUsIHZhbHVlOiAwLCBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwgYm9keTogX29yYWNsZURhdGF9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU2xpY2UpewogICAgICAgIGxldCBvcCA9IG1zZy5sb2FkVWludCgzMik7CiAgICAgICAgaWYgKG9wID09IE9QX1JFRFNUT05FX0RBVEFfRkVUQ0hFRCkgewogICAgICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYub3JhY2xlLCAib25seSBvcmFjbGUgY2FuIHNlbmQgdGhpcyBtZXNzYWdlIik7CiAgICAgICAgICAgIGxldCBxdWVyeUlkID0gbXNnLmxvYWRVaW50KDY0KTsKICAgICAgICAgICAgbGV0IHNsaWNlID0gbXNnLmxvYWRSZWYoKS5iZWdpblBhcnNlKCk7CiAgICAgICAgICAgIGxldCBzbGljZV8yID0gbXNnLmxvYWRSZWYoKS5iZWdpblBhcnNlKCk7CiAgICAgICAgICAgIHNlbGYub25QcmljZVJlY2VpdmVkKHF1ZXJ5SWQsIHNsaWNlLmxvYWRVaW50KDI1NiksIHNsaWNlLmxvYWRVaW50KDI1NiksIHNsaWNlLmxvYWRVaW50KDQ4KSwgc2xpY2VfMi5sb2FkVWludCgyNTYpLCBzbGljZV8yLmxvYWRVaW50KDI1NiksIHNsaWNlXzIubG9hZFVpbnQoNDgpKTsKICAgICAgICB9CiAgICB9CgogICAgYm91bmNlZChtc2c6IFNsaWNlKXsKICAgICAgICBsZXQgb3AgPSBtc2cubG9hZFVpbnQoMzIpOwogICAgICAgIGlmIChvcCA9PSBPUF9SRURTVE9ORV9DSEVDS19BTkRfUkVUVVJOX1BSSUNFKSB7CiAgICAgICAgICAgIGxldCBxdWVyeUlkID0gbXNnLmxvYWRVaW50KDY0KTsKICAgICAgICAgICAgc2VsZi5vbk9yYWNsZUVycm9yUmVjZWl2ZWQocXVlcnlJZCwgbXNnKTsKICAgICAgICB9CiAgICB9Cn0=","contracts/imports/constants.tact":"CmNvbnN0IFNMSVBQQUdFX0RFTk9NSU5BVE9SOiBJbnQgPSBwb3coMTAsIDI1KTsKY29uc3QgQ09MTEFURVJBTF9ERU5PTUlOQVRPUjogSW50ID0gcG93KDEwLCAxNik7CmNvbnN0IFJBVEVfREVOT01JTkFUT1I6IEludCA9IHBvdygxMCwgOCk7CmNvbnN0IEZFRV9ERU5PTUlOQVRPUjogSW50ID0gcG93KDEwLCA5KTsKY29uc3QgWkVST19BRERSRVNTOiBBZGRyZXNzID0gYWRkcmVzcygiVVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBSktaIik7CmNvbnN0IFNUT1JBR0VfSU5JVF9WQUxVRTogSW50ID0gdG9uKCIwLjEiKTsKY29uc3QgVE9fVEFLRV9BTU06IEludCA9IHRvbigiMC40Iik7CmNvbnN0IFRPX1RBS0VfVE9fTUFSS0VUOiBJbnQgPSB0b24oIjAuMyIpOwpjb25zdCBHQVNfVE9fU0VORF9KRVRUT046IEludCA9IHRvbigiMC4wNDgiKTsKY29uc3QgR0FTX1RPX0ZFVENIX09XTkVSOiBJbnQgPSB0b24oIjAuMDIiKSArIEdBU19UT19TRU5EX0pFVFRPTjsKY29uc3QgR0FTX01JTl9WQUxVRTogSW50ID0gdG9uKCIwLjA1IikgKyBHQVNfVE9fU0VORF9KRVRUT047CmNvbnN0IEdBU19NSU5fVkFMVUVfQ0FOQ0VMX0RFQUw6IEludCA9IHRvbigiMC4wNSIpOwpjb25zdCBHQVNfTUlOX1ZBTFVFX1BST0NFU1NfREVBTDogSW50ID0gdG9uKCIwLjEiKTsKY29uc3QgR0FTX01JTl9WQUxVRV9UQUtFX0RFQUw6IEludCA9IHRvbigiMC4xIik7CmNvbnN0IEdBU19NSU5fVkFMVUVfQ1JFQVRFX0RFQUw6IEludCA9IHRvbigiMC4wNSIpOwpjb25zdCBDUkVBVEVfREVBTF9UT05fR0FTX0FNT1VOVDogSW50ID0gdG9uKCIwLjA1Iik7CmNvbnN0IFRPX1RBS0VfVE9fTUFSS0VUX01JTl9HQVM6IEludCA9IHRvbigiMC4wNSIpOwpjb25zdCBHQVNfTUlOX1ZBTFVFX0NSRUFURV9ERUFMX1dJVEhfQU1NOiBJbnQgPSBHQVNfTUlOX1ZBTFVFX1RBS0VfREVBTCArIENSRUFURV9ERUFMX1RPTl9HQVNfQU1PVU5UOwoKY29uc3QgVElNRV9TTElQUEFHRTogSW50ID0gNjAqNTsKCmNvbnN0IElOTkVSX09QX0NPREVfVEFLRV9ERUFMX0FGVEVSX1BSSUNFX1JFQ0VJVkVEOiBJbnQgPSAxMDsKY29uc3QgSU5ORVJfT1BfQ09ERV9UQUtFX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRDogSW50ID0gMjA7CmNvbnN0IElOTkVSX09QX0NPREVfQ0FOQ0VMX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRDogSW50ID0gMjE7CmNvbnN0IElOTkVSX09QX0NPREVfUFJPQ0VTU19ERUFMX0FGVEVSX1BSSUNFX1JFQ0VJVkVEOiBJbnQgPSAxMjsKY29uc3QgSU5ORVJfT1BfQ09ERV9QUk9DRVNTX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRDogSW50ID0gMjI7CgoKY29uc3QgREVBTF9TVEFUVVNfQ1JFQVRFRDogSW50ID0gMTsKY29uc3QgREVBTF9TVEFUVVNfQUNDRVBURUQ6IEludCA9IDI7CmNvbnN0IERFQUxfU1RBVFVTX0NBTkNFTExFRDogSW50ID0gMzsKY29uc3QgREVBTF9TVEFUVVNfQ09NUExFVEVEOiBJbnQgPSA0Owpjb25zdCBERUFMX1NUQVRVU19FWFBJUkVEOiBJbnQgPSA1OwoKCmNvbnN0IFNNQUxMX1ZBTFVFOiBJbnQgPSAxOwpjb25zdCBTTUFMTF9UT0tFTl9BTU9VTlQ6IEludCA9IDI7CmNvbnN0IE9SQUNMRV9QUklDRV9UT09fT0xEOiBJbnQgPSAzOwpjb25zdCBNQUtFUl9PVVRfT0ZfUkFOR0U6IEludCA9IDQ7CmNvbnN0IFNNQUxMX0FNT1VOVDogSW50ID0gNTsKY29uc3QgQkFEX0ZFRURfSUQ6IEludCA9IDY7CmNvbnN0IEJBRF9TVEFUVVM6IEludCA9IDc7CmNvbnN0IFRSQU5TQUNUSU9OX0ZST01fTUFLRVI6IEludCA9IDg7CmNvbnN0IFNNQUxMX0FNT1VOVF9PRl9NQUtFUjogSW50ID0gOTsKY29uc3QgT1JBQ0xFX1BSSUNFX1RPT19PTERfMjogSW50ID0gMTA7","contracts/nft/nft_item.tact":"aW1wb3J0ICIuL25mdF9tZXNzZ2VzLnRhY3QiOwppbXBvcnQgIi4uL2pldHRvbi9qZXR0b25fbWVzc2FnZXMudGFjdCI7Cgpjb25zdCBtaW5Ub25zRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAxIik7CmNvbnN0IGdhc0NvbnN1bXB0aW9uOiBJbnQgPSB0b24oIjAuMDIiKTsKCmNvbnRyYWN0IE5mdEl0ZW0gewogICAgY29sbGVjdGlvbl9hZGRyZXNzOiBBZGRyZXNzOwogICAgaXRlbV9pbmRleDogSW50OyAKICAgIGlzX2luaXRpYWxpemVkOiBCb29sOwoKICAgIG93bmVyOiBBZGRyZXNzPzsKICAgIGluZGl2aWR1YWxfY29udGVudDogQ2VsbD87CgogICAgaW5pdChjb2xsZWN0aW9uX2FkZHJlc3M6IEFkZHJlc3MsIGl0ZW1faW5kZXg6IEludCl7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBjb2xsZWN0aW9uX2FkZHJlc3MsICJub3QgZnJvbSBjb2xsZWN0aW9uIik7CiAgICAgICAgc2VsZi5jb2xsZWN0aW9uX2FkZHJlc3MgPSBjb2xsZWN0aW9uX2FkZHJlc3M7CiAgICAgICAgc2VsZi5pdGVtX2luZGV4ID0gaXRlbV9pbmRleDsKICAgICAgICBzZWxmLmlzX2luaXRpYWxpemVkID0gZmFsc2U7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFRyYW5zZmVyKXsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOyAKICAgICAgICBsZXQgbXNnVmFsdWU6IEludCA9IHNlbGYubXNnVmFsdWUoY3R4LnZhbHVlKTsKICAgICAgICAKICAgICAgICBpZiAoc2VsZi5pc19pbml0aWFsaXplZCA9PSBmYWxzZSkgeyAgCiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLmNvbGxlY3Rpb25fYWRkcmVzcywgImluaXRpYWxpemVkIHR4IG5lZWQgZnJvbSBjb2xsZWN0aW9uIik7CiAgICAgICAgICAgIG5hdGl2ZVJlc2VydmUobWluVG9uc0ZvclN0b3JhZ2UsIDApOwogICAgICAgICAgICBzZWxmLmlzX2luaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgICAgc2VsZi5vd25lciA9IG1zZy5uZXdfb3duZXI7CiAgICAgICAgICAgIHNlbGYuaW5kaXZpZHVhbF9jb250ZW50ID0gbXNnLmN1c3RvbV9wYXlsb2FkOwogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IG1zZy5yZXNwb25zZV9kZXN0aW5hdGlvbiEhLAogICAgICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgICAgICBib2R5OiBFeGNlc3NlcyB7IHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQgfS50b0NlbGwoKQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5vd25lciEhLCAibm90IG93bmVyIik7CiAgICAgICAgICAgIHNlbGYub3duZXIgPSBtc2cubmV3X293bmVyOyAgCiAgICAgICAgICAgIGlmIChtc2cuZm9yd2FyZF9hbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgICAgIHRvOiBtc2cubmV3X293bmVyLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtc2cuZm9yd2FyZF9hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgbW9kZTogIFNlbmRQYXlHYXNTZXBhcmF0ZWx5LCAKICAgICAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYm9keTogT3duZXJzaGlwQXNzaWduZWR7CiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZfb3duZXI6IGN0eC5zZW5kZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcndhcmRfcGF5bG9hZDogbXNnLmZvcndhcmRfcGF5bG9hZAogICAgICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgICAgIH0pOyAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbXNnVmFsdWUgPSBtc2dWYWx1ZSAtIGN0eC5yZWFkRm9yd2FyZEZlZSgpOyAKICAgICAgICAgICAgaWYgKG1zZy5yZXNwb25zZV9kZXN0aW5hdGlvbiAhPSBudWxsKSB7IAogICAgICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sgCiAgICAgICAgICAgICAgICAgICAgdG86IG1zZy5yZXNwb25zZV9kZXN0aW5hdGlvbiEhLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtc2dWYWx1ZSAtIG1zZy5mb3J3YXJkX2Ftb3VudCwKICAgICAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYm9keTogRXhjZXNzZXMgeyBxdWVyeV9pZDogbXNnLnF1ZXJ5X2lkIH0udG9DZWxsKCkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IAogICAgICAgIH0KICAgIH0KCiAgICAvLyByZWNlaXZlKG1zZzogVG9rZW5Ob3RpZmljYXRpb24pIHsKICAgIC8vICAgICByZXF1aXJlKG1zZy5mcm9tID09IHNlbGYuY29sbGVjdGlvbl9hZGRyZXNzLCAiVHJhbnNmZXIgamV0dG9uIG11c3QgYmUgZnJvbSBjb2xsZWN0aW9uIik7CiAgICAvLyAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgIC8vICAgICAgICAgdG86IHNlbmRlcigpLAogICAgLy8gICAgICAgICB2YWx1ZTogMCwKICAgIC8vICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAvLyAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7cXVlcnlfaWQ6IG1zZy5xdWVyeV9pZCwgYW1vdW50OiBtc2cuYW1vdW50LCByZWNpcGllbnQ6IHNlbGYub3duZXIhISwgcmVzcG9uc2VfZGVzdGluYXRpb246IHNlbGYub3duZXIsIGN1c3RvbV9wYXlsb2FkOiBudWxsLCBmb3J3YXJkX3Rvbl9hbW91bnQ6IDAsIGZvcndhcmRfcGF5bG9hZDogZW1wdHlTbGljZSgpfS50b0NlbGwoKQogICAgLy8gICAgIH0pOwogICAgLy8gfQogICAgCiAgICByZWNlaXZlKG1zZzogR2V0U3RhdGljRGF0YSl7IAogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVycyB7CiAgICAgICAgICAgIHRvOiBjdHguc2VuZGVyLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlLCAgCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogUmVwb3J0U3RhdGljRGF0YXsKICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQsCiAgICAgICAgICAgICAgICBpbmRleF9pZDogc2VsZi5pdGVtX2luZGV4LAogICAgICAgICAgICAgICAgY29sbGVjdGlvbjogc2VsZi5jb2xsZWN0aW9uX2FkZHJlc3MKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBHZXRPd25lcil7IAogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVycyB7CiAgICAgICAgICAgIHRvOiBjdHguc2VuZGVyLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsICAKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBSZXBvcnRPd25lcnsKICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQsCiAgICAgICAgICAgICAgICBpbmRleF9pZDogc2VsZi5pdGVtX2luZGV4LAogICAgICAgICAgICAgICAgb3duZXI6IHNlbGYub3duZXIhIQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuIG1zZ1ZhbHVlKHZhbHVlOiBJbnQpOiBJbnQgewogICAgICAgIGxldCB0b25CYWxhbmNlQmVmb3JlTXNnOiBJbnQgPSBteUJhbGFuY2UoKSAtIHZhbHVlOwogICAgICAgIGxldCBzdG9yYWdlRmVlOiBJbnQgPSBtaW5Ub25zRm9yU3RvcmFnZSAtIG1pbih0b25CYWxhbmNlQmVmb3JlTXNnLCBtaW5Ub25zRm9yU3RvcmFnZSk7CiAgICAgICAgcmV0dXJuIHZhbHVlIC0gKHN0b3JhZ2VGZWUgKyBnYXNDb25zdW1wdGlvbik7CiAgICB9CgogICAgCiAgICBnZXQgZnVuIGdldF9uZnRfZGF0YSgpOiBHZXROZnREYXRhIHsKICAgICAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luU3RyaW5nKCk7CiAgICAgICAgbGV0IGNvbGxlY3Rpb25EYXRhOiBTdHJpbmcgPSAoc2VsZi5pbmRpdmlkdWFsX2NvbnRlbnQhISkuYXNTbGljZSgpLmFzU3RyaW5nKCk7CiAgICAgICAgYi5hcHBlbmQoY29sbGVjdGlvbkRhdGEpOwogICAgICAgIGIuYXBwZW5kKHNlbGYuaXRlbV9pbmRleC50b1N0cmluZygpKTsKICAgICAgICBiLmFwcGVuZCgiLmpzb24iKTsKCiAgICAgICAgcmV0dXJuIEdldE5mdERhdGEgewogICAgICAgICAgICBpc19pbml0aWFsaXplZDogc2VsZi5pc19pbml0aWFsaXplZCwgCiAgICAgICAgICAgIGluZGV4OiBzZWxmLml0ZW1faW5kZXgsIAogICAgICAgICAgICBjb2xsZWN0aW9uX2FkZHJlc3M6IHNlbGYuY29sbGVjdGlvbl9hZGRyZXNzLCAKICAgICAgICAgICAgb3duZXJfYWRkcmVzczogc2VsZi5vd25lciEhLAogICAgICAgICAgICBpbmRpdmlkdWFsX2NvbnRlbnQ6IGIudG9DZWxsKCkKICAgICAgICB9OwogICAgfQp9","contracts/deal_messages.tact":"bWVzc2FnZSBHZXREYXRhIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7Cn0KbWVzc2FnZSBSZXBvcnREYXRhIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBpZDogSW50IGFzIHVpbnQzMjsKICAgIGRhdGE6IENlbGw7Cn0KbWVzc2FnZSBTYXZlRGF0YSB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKICAgIGRhdGE6IENlbGw7Cn0KbWVzc2FnZSBEZWxldGVEYXRhIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzOwp9","contracts/nft/nft_messges.tact":"bWVzc2FnZSBMb2dFdmVudE1pbnRSZWNvcmQgewogICAgbWludGVyOiBBZGRyZXNzOwogICAgaXRlbV9pZDogSW50OwogICAgZ2VuZXJhdGVfbnVtYmVyOiBJbnQ7Cn0KCgptZXNzYWdlKDB4NjkzZDM5NTApIEdldFJveWFsdHlQYXJhbXMgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7Cn0KbWVzc2FnZSgweGE4Y2IwMGFkKSBSZXBvcnRSb3lhbHR5UGFyYW1zIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgbnVtZXJhdG9yOiBJbnQgYXMgdWludDE2OwogICAgZGVub21pbmF0b3I6IEludCBhcyB1aW50MTY7CiAgICBkZXN0aW5hdGlvbjogQWRkcmVzczsKfQpzdHJ1Y3QgQ29sbGVjdGlvbkRhdGEgewogICAgbmV4dF9pdGVtX2luZGV4OiBJbnQ7CiAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGw7CiAgICBvd25lcl9hZGRyZXNzOiBBZGRyZXNzOwp9CnN0cnVjdCBSb3lhbHR5UGFyYW1zIHsKICAgIG51bWVyYXRvcjogSW50OwogICAgZGVub21pbmF0b3I6IEludDsKICAgIGRlc3RpbmF0aW9uOiBBZGRyZXNzOwp9Cm1lc3NhZ2UoMHg1ZmNjM2QxNCkgVHJhbnNmZXIgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBuZXdfb3duZXI6IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87CiAgICBjdXN0b21fcGF5bG9hZDogQ2VsbD87CiAgICBmb3J3YXJkX2Ftb3VudDogSW50IGFzIGNvaW5zOwogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7Cn0KbWVzc2FnZSgweDA1MTM4ZDkxKSBPd25lcnNoaXBBc3NpZ25lZCB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKICAgIHByZXZfb3duZXI6IEFkZHJlc3M7CiAgICBmb3J3YXJkX3BheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsKfQptZXNzYWdlKDB4ZDUzMjc2ZGIpIEV4Y2Vzc2VzIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0Owp9Cm1lc3NhZ2UoMHgyZmNiMjZhMikgR2V0U3RhdGljRGF0YSB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKfQptZXNzYWdlKDB4OGI3NzE3MzUpIFJlcG9ydFN0YXRpY0RhdGEgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBpbmRleF9pZDogSW50OwogICAgY29sbGVjdGlvbjogQWRkcmVzczsKfQoKbWVzc2FnZSBHZXRPd25lciB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKfQptZXNzYWdlIFJlcG9ydE93bmVyewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBpbmRleF9pZDogSW50OwogICAgb3duZXI6IEFkZHJlc3M7Cn0Kc3RydWN0IEdldE5mdERhdGEgewogICAgaXNfaW5pdGlhbGl6ZWQ6IEJvb2w7CiAgICBpbmRleDogSW50OwogICAgY29sbGVjdGlvbl9hZGRyZXNzOiBBZGRyZXNzOwogICAgb3duZXJfYWRkcmVzczogQWRkcmVzczsKICAgIGluZGl2aWR1YWxfY29udGVudDogQ2VsbDsKfQ==","contracts/factory.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiLi9tYXJrZXQudGFjdCI7CmltcG9ydCAiLi9tYXJrZXRfdG9uLnRhY3QiOwppbXBvcnQgIi4vYW1tLnRhY3QiOwppbXBvcnQgIi4vYW1tX3Rvbi50YWN0IjsKCm1lc3NhZ2UgRGVwbG95VG9rZW5NYXJrZXQgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGlkOiBJbnQgYXMgdWludDMyOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICBjb2luOiBBZGRyZXNzOwogICAgamV0dG9uV2FsbGV0OiBBZGRyZXNzOwogICAgdW5kZXJseWluZ0Fzc2V0TmFtZTogU3RyaW5nOwogICAgZHVyYXRpb246IEludCBhcyB1aW50MzI7CiAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGw7CiAgICBvcGVyYXRvckZlZTogSW50IGFzIGNvaW5zOwogICAgc2VydmljZUZlZTogSW50IGFzIGNvaW5zOwogICAgb3JhY2xlOiBBZGRyZXNzOwogICAgZmVlZElkQXNzZXQ6IEludCBhcyB1aW50MjU2OwogICAgZmVlZElkVG9rZW46IEludCBhcyB1aW50MjU2OwogICAgb3BlcmF0b3JGZWVBZGRyZXNzOiBBZGRyZXNzOwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKfQoKbWVzc2FnZSBNYXJrZXREZXBsb3llZEV2ZW50IHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBtYXJrZXRBZGRyZXNzOiBBZGRyZXNzOwogICAgaWQ6IEludCBhcyB1aW50MzI7CiAgICBvd25lcjogQWRkcmVzczsKICAgIGNvaW46IEFkZHJlc3M7CiAgICBqZXR0b25XYWxsZXQ6IEFkZHJlc3M7CiAgICB1bmRlcmx5aW5nQXNzZXROYW1lOiBTdHJpbmc7CiAgICBkdXJhdGlvbjogSW50IGFzIHVpbnQzMjsKICAgIGNvbGxlY3Rpb25fY29udGVudDogQ2VsbDsKICAgIG9wZXJhdG9yRmVlOiBJbnQgYXMgY29pbnM7CiAgICBzZXJ2aWNlRmVlOiBJbnQgYXMgY29pbnM7CiAgICBvcmFjbGU6IEFkZHJlc3M7CiAgICBmZWVkSWRBc3NldDogSW50IGFzIHVpbnQyNTY7CiAgICBmZWVkSWRUb2tlbjogSW50IGFzIHVpbnQyNTY7CiAgICBvcGVyYXRvckZlZUFkZHJlc3M6IEFkZHJlc3M7Cn0KCm1lc3NhZ2UgRGVwbG95VG9rZW5NYXJrZXRXaXRoQW1tIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBpZDogSW50IGFzIHVpbnQzMjsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgY29pbjogQWRkcmVzczsKICAgIGpldHRvbldhbGxldDogQWRkcmVzczsKICAgIGpldHRvbldhbGxldEFtbTogQWRkcmVzczsKICAgIHVuZGVybHlpbmdBc3NldE5hbWU6IFN0cmluZzsKICAgIGR1cmF0aW9uOiBJbnQgYXMgdWludDMyOwogICAgY29sbGVjdGlvbl9jb250ZW50OiBDZWxsOwogICAgb3BlcmF0b3JGZWU6IEludCBhcyBjb2luczsKICAgIHNlcnZpY2VGZWU6IEludCBhcyBjb2luczsKICAgIG9yYWNsZTogQWRkcmVzczsKICAgIGZlZWRJZEFzc2V0OiBJbnQgYXMgdWludDI1NjsKICAgIGZlZWRJZFRva2VuOiBJbnQgYXMgdWludDI1NjsKICAgIG9wZXJhdG9yRmVlQWRkcmVzczogQWRkcmVzczsKICAgIG9yaWdpbmFsR2FzVG86IEFkZHJlc3M7Cn0KCm1lc3NhZ2UgTWFya2V0RGVwbG95ZWRFdmVudFdpdGhBbW0gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIG1hcmtldEFkZHJlc3M6IEFkZHJlc3M7CiAgICBpZDogSW50IGFzIHVpbnQzMjsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgY29pbjogQWRkcmVzczsKICAgIGFtbTogQWRkcmVzczsKICAgIGpldHRvbldhbGxldDogQWRkcmVzczsKICAgIGpldHRvbldhbGxldEFtbTogQWRkcmVzczsKICAgIHVuZGVybHlpbmdBc3NldE5hbWU6IFN0cmluZzsKICAgIGR1cmF0aW9uOiBJbnQgYXMgdWludDMyOwogICAgY29sbGVjdGlvbl9jb250ZW50OiBDZWxsOwogICAgb3BlcmF0b3JGZWU6IEludCBhcyBjb2luczsKICAgIHNlcnZpY2VGZWU6IEludCBhcyBjb2luczsKICAgIG9yYWNsZTogQWRkcmVzczsKICAgIGZlZWRJZEFzc2V0OiBJbnQgYXMgdWludDI1NjsKICAgIGZlZWRJZFRva2VuOiBJbnQgYXMgdWludDI1NjsKICAgIG9wZXJhdG9yRmVlQWRkcmVzczogQWRkcmVzczsKfQoKCgoKbWVzc2FnZSBEZXBsb3lUb25NYXJrZXQgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGlkOiBJbnQgYXMgdWludDMyOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICB1bmRlcmx5aW5nQXNzZXROYW1lOiBTdHJpbmc7CiAgICBkdXJhdGlvbjogSW50IGFzIHVpbnQzMjsKICAgIGNvbGxlY3Rpb25fY29udGVudDogQ2VsbDsKICAgIG9wZXJhdG9yRmVlOiBJbnQgYXMgY29pbnM7CiAgICBzZXJ2aWNlRmVlOiBJbnQgYXMgY29pbnM7CiAgICBvcmFjbGU6IEFkZHJlc3M7CiAgICBmZWVkSWRBc3NldDogSW50IGFzIHVpbnQyNTY7CiAgICBmZWVkSWRUb2tlbjogSW50IGFzIHVpbnQyNTY7CiAgICBvcGVyYXRvckZlZUFkZHJlc3M6IEFkZHJlc3M7CiAgICBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzOwp9CgptZXNzYWdlIE1hcmtldFRvbkRlcGxveWVkRXZlbnQgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIG1hcmtldEFkZHJlc3M6IEFkZHJlc3M7CiAgICBpZDogSW50IGFzIHVpbnQzMjsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgdW5kZXJseWluZ0Fzc2V0TmFtZTogU3RyaW5nOwogICAgZHVyYXRpb246IEludCBhcyB1aW50MzI7CiAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGw7CiAgICBvcGVyYXRvckZlZTogSW50IGFzIGNvaW5zOwogICAgc2VydmljZUZlZTogSW50IGFzIGNvaW5zOwogICAgb3JhY2xlOiBBZGRyZXNzOwogICAgZmVlZElkQXNzZXQ6IEludCBhcyB1aW50MjU2OwogICAgZmVlZElkVG9rZW46IEludCBhcyB1aW50MjU2OwogICAgb3BlcmF0b3JGZWVBZGRyZXNzOiBBZGRyZXNzOwp9CgptZXNzYWdlIERlcGxveVRvbk1hcmtldFdpdGhBbW0gewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGlkOiBJbnQgYXMgdWludDMyOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICB1bmRlcmx5aW5nQXNzZXROYW1lOiBTdHJpbmc7CiAgICBkdXJhdGlvbjogSW50IGFzIHVpbnQzMjsKICAgIGNvbGxlY3Rpb25fY29udGVudDogQ2VsbDsKICAgIG9wZXJhdG9yRmVlOiBJbnQgYXMgY29pbnM7CiAgICBzZXJ2aWNlRmVlOiBJbnQgYXMgY29pbnM7CiAgICBvcmFjbGU6IEFkZHJlc3M7CiAgICBmZWVkSWRBc3NldDogSW50IGFzIHVpbnQyNTY7CiAgICBmZWVkSWRUb2tlbjogSW50IGFzIHVpbnQyNTY7CiAgICBvcGVyYXRvckZlZUFkZHJlc3M6IEFkZHJlc3M7CiAgICBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzOwp9CgptZXNzYWdlIE1hcmtldFRvbkRlcGxveWVkRXZlbnRXaXRoQW1tIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBtYXJrZXRBZGRyZXNzOiBBZGRyZXNzOwogICAgaWQ6IEludCBhcyB1aW50MzI7CiAgICBvd25lcjogQWRkcmVzczsKICAgIGFtbTogQWRkcmVzczsKICAgIHVuZGVybHlpbmdBc3NldE5hbWU6IFN0cmluZzsKICAgIGR1cmF0aW9uOiBJbnQgYXMgdWludDMyOwogICAgY29sbGVjdGlvbl9jb250ZW50OiBDZWxsOwogICAgb3BlcmF0b3JGZWU6IEludCBhcyBjb2luczsKICAgIHNlcnZpY2VGZWU6IEludCBhcyBjb2luczsKICAgIG9yYWNsZTogQWRkcmVzczsKICAgIGZlZWRJZEFzc2V0OiBJbnQgYXMgdWludDI1NjsKICAgIGZlZWRJZFRva2VuOiBJbnQgYXMgdWludDI1NjsKICAgIG9wZXJhdG9yRmVlQWRkcmVzczogQWRkcmVzczsKfQoKCmNvbnRyYWN0IEZhY3Rvcnkgd2l0aCBEZXBsb3lhYmxlIHsKICAgIGlkOiBJbnQgYXMgdWludDMyOwoKICAgIGluaXQoaWQ6IEludCkgewogICAgICAgIHNlbGYuaWQgPSBpZDsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogRGVwbG95VG9rZW5NYXJrZXQpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IHdpbml0ID0gaW5pdE9mIE1hcmtldCgKICAgICAgICAgICAgbXNnLmlkLAogICAgICAgICAgICBtc2cub3duZXIsCiAgICAgICAgICAgIG1zZy5jb2luLAogICAgICAgICAgICBaRVJPX0FERFJFU1MsCiAgICAgICAgICAgIG15QWRkcmVzcygpLAogICAgICAgICAgICBtc2cudW5kZXJseWluZ0Fzc2V0TmFtZSwKICAgICAgICAgICAgbXNnLmR1cmF0aW9uLAogICAgICAgICAgICBtc2cuY29sbGVjdGlvbl9jb250ZW50LAogICAgICAgICAgICBtc2cub3BlcmF0b3JGZWUsCiAgICAgICAgICAgIG1zZy5zZXJ2aWNlRmVlLAogICAgICAgICAgICBtc2cub3JhY2xlLAogICAgICAgICAgICBtc2cuZmVlZElkQXNzZXQsCiAgICAgICAgICAgIG1zZy5mZWVkSWRUb2tlbiwKICAgICAgICAgICAgbXNnLm9wZXJhdG9yRmVlQWRkcmVzcwogICAgICAgICk7CiAgICAgICAgCiAgICAgICAgZW1pdChNYXJrZXREZXBsb3llZEV2ZW50ewogICAgICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgbWFya2V0QWRkcmVzczogY29udHJhY3RBZGRyZXNzKHdpbml0KSwKICAgICAgICAgICAgaWQ6IG1zZy5pZCwKICAgICAgICAgICAgb3duZXI6IG1zZy5vd25lciwKICAgICAgICAgICAgY29pbjogbXNnLmNvaW4sCiAgICAgICAgICAgIGpldHRvbldhbGxldDogbXNnLmpldHRvbldhbGxldCwKICAgICAgICAgICAgdW5kZXJseWluZ0Fzc2V0TmFtZTogbXNnLnVuZGVybHlpbmdBc3NldE5hbWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiBtc2cuZHVyYXRpb24sCiAgICAgICAgICAgIGNvbGxlY3Rpb25fY29udGVudDogbXNnLmNvbGxlY3Rpb25fY29udGVudCwKICAgICAgICAgICAgb3BlcmF0b3JGZWU6IG1zZy5vcGVyYXRvckZlZSwKICAgICAgICAgICAgc2VydmljZUZlZTogbXNnLnNlcnZpY2VGZWUsCiAgICAgICAgICAgIG9yYWNsZTogbXNnLm9yYWNsZSwKICAgICAgICAgICAgZmVlZElkQXNzZXQ6IG1zZy5mZWVkSWRBc3NldCwKICAgICAgICAgICAgZmVlZElkVG9rZW46IG1zZy5mZWVkSWRUb2tlbiwKICAgICAgICAgICAgb3BlcmF0b3JGZWVBZGRyZXNzOiBtc2cub3BlcmF0b3JGZWVBZGRyZXNzCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBJbm5lckRlcGxveU1hcmtldHsKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgamV0dG9uV2FsbGV0OiBtc2cuamV0dG9uV2FsbGV0LAogICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogbXNnLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgICAgIGNvZGU6IHdpbml0LmNvZGUsCiAgICAgICAgICAgIGRhdGE6IHdpbml0LmRhdGEsCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IERlcGxveVRva2VuTWFya2V0V2l0aEFtbSkgewogICAgICAgIGxldCBhbW1XaW5pdCA9IGluaXRPZiBBbW0obXNnLmlkLCBteUFkZHJlc3MoKSwgbXNnLm93bmVyKTsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IHdpbml0ID0gaW5pdE9mIE1hcmtldCgKICAgICAgICAgICAgbXNnLmlkLAogICAgICAgICAgICBtc2cub3duZXIsCiAgICAgICAgICAgIG1zZy5jb2luLAogICAgICAgICAgICBjb250cmFjdEFkZHJlc3MoYW1tV2luaXQpLAogICAgICAgICAgICBteUFkZHJlc3MoKSwKICAgICAgICAgICAgbXNnLnVuZGVybHlpbmdBc3NldE5hbWUsCiAgICAgICAgICAgIG1zZy5kdXJhdGlvbiwKICAgICAgICAgICAgbXNnLmNvbGxlY3Rpb25fY29udGVudCwKICAgICAgICAgICAgbXNnLm9wZXJhdG9yRmVlLAogICAgICAgICAgICBtc2cuc2VydmljZUZlZSwKICAgICAgICAgICAgbXNnLm9yYWNsZSwKICAgICAgICAgICAgbXNnLmZlZWRJZEFzc2V0LAogICAgICAgICAgICBtc2cuZmVlZElkVG9rZW4sCiAgICAgICAgICAgIG1zZy5vcGVyYXRvckZlZUFkZHJlc3MKICAgICAgICApOwogICAgICAgIAogICAgICAgIGVtaXQoTWFya2V0RGVwbG95ZWRFdmVudFdpdGhBbW17CiAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICBtYXJrZXRBZGRyZXNzOiBjb250cmFjdEFkZHJlc3Mod2luaXQpLAogICAgICAgICAgICBpZDogbXNnLmlkLAogICAgICAgICAgICBvd25lcjogbXNnLm93bmVyLAogICAgICAgICAgICBjb2luOiBtc2cuY29pbiwKICAgICAgICAgICAgYW1tOiBjb250cmFjdEFkZHJlc3MoYW1tV2luaXQpLAogICAgICAgICAgICBqZXR0b25XYWxsZXQ6IG1zZy5qZXR0b25XYWxsZXQsCiAgICAgICAgICAgIGpldHRvbldhbGxldEFtbTogbXNnLmpldHRvbldhbGxldEFtbSwKICAgICAgICAgICAgdW5kZXJseWluZ0Fzc2V0TmFtZTogbXNnLnVuZGVybHlpbmdBc3NldE5hbWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiBtc2cuZHVyYXRpb24sCiAgICAgICAgICAgIGNvbGxlY3Rpb25fY29udGVudDogbXNnLmNvbGxlY3Rpb25fY29udGVudCwKICAgICAgICAgICAgb3BlcmF0b3JGZWU6IG1zZy5vcGVyYXRvckZlZSwKICAgICAgICAgICAgc2VydmljZUZlZTogbXNnLnNlcnZpY2VGZWUsCiAgICAgICAgICAgIG9yYWNsZTogbXNnLm9yYWNsZSwKICAgICAgICAgICAgZmVlZElkQXNzZXQ6IG1zZy5mZWVkSWRBc3NldCwKICAgICAgICAgICAgZmVlZElkVG9rZW46IG1zZy5mZWVkSWRUb2tlbiwKICAgICAgICAgICAgb3BlcmF0b3JGZWVBZGRyZXNzOiBtc2cub3BlcmF0b3JGZWVBZGRyZXNzCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGNvbnRyYWN0QWRkcmVzcyhhbW1XaW5pdCksCiAgICAgICAgICAgIHZhbHVlOiBTVE9SQUdFX0lOSVRfVkFMVUUgKiAyLAogICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBib2R5OiBJbm5lckRlcGxveUFtbXsKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgamV0dG9uV2FsbGV0OiBtc2cuamV0dG9uV2FsbGV0QW1tLAogICAgICAgICAgICAgICAgbWFya2V0OiBjb250cmFjdEFkZHJlc3Mod2luaXQpLAogICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogbXNnLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgICAgIGNvZGU6IGFtbVdpbml0LmNvZGUsCiAgICAgICAgICAgIGRhdGE6IGFtbVdpbml0LmRhdGEsCiAgICAgICAgfSk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBJbm5lckRlcGxveU1hcmtldHsKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgamV0dG9uV2FsbGV0OiBtc2cuamV0dG9uV2FsbGV0LAogICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogbXNnLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgICAgIGNvZGU6IHdpbml0LmNvZGUsCiAgICAgICAgICAgIGRhdGE6IHdpbml0LmRhdGEsCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IERlcGxveVRvbk1hcmtldCkgewogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgd2luaXQgPSBpbml0T2YgTWFya2V0VG9uKAogICAgICAgICAgICBtc2cuaWQsCiAgICAgICAgICAgIG1zZy5vd25lciwKICAgICAgICAgICAgWkVST19BRERSRVNTLAogICAgICAgICAgICBteUFkZHJlc3MoKSwKICAgICAgICAgICAgbXNnLnVuZGVybHlpbmdBc3NldE5hbWUsCiAgICAgICAgICAgIG1zZy5kdXJhdGlvbiwKICAgICAgICAgICAgbXNnLmNvbGxlY3Rpb25fY29udGVudCwKICAgICAgICAgICAgbXNnLm9wZXJhdG9yRmVlLAogICAgICAgICAgICBtc2cuc2VydmljZUZlZSwKICAgICAgICAgICAgbXNnLm9yYWNsZSwKICAgICAgICAgICAgbXNnLmZlZWRJZEFzc2V0LAogICAgICAgICAgICBtc2cuZmVlZElkVG9rZW4sCiAgICAgICAgICAgIG1zZy5vcGVyYXRvckZlZUFkZHJlc3MKICAgICAgICApOwogICAgICAgIAogICAgICAgIGVtaXQoTWFya2V0VG9uRGVwbG95ZWRFdmVudHsKICAgICAgICAgICAgcXVlcnlJZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgIG1hcmtldEFkZHJlc3M6IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksCiAgICAgICAgICAgIGlkOiBtc2cuaWQsCiAgICAgICAgICAgIG93bmVyOiBtc2cub3duZXIsCiAgICAgICAgICAgIHVuZGVybHlpbmdBc3NldE5hbWU6IG1zZy51bmRlcmx5aW5nQXNzZXROYW1lLAogICAgICAgICAgICBkdXJhdGlvbjogbXNnLmR1cmF0aW9uLAogICAgICAgICAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IG1zZy5jb2xsZWN0aW9uX2NvbnRlbnQsCiAgICAgICAgICAgIG9wZXJhdG9yRmVlOiBtc2cub3BlcmF0b3JGZWUsCiAgICAgICAgICAgIHNlcnZpY2VGZWU6IG1zZy5zZXJ2aWNlRmVlLAogICAgICAgICAgICBvcmFjbGU6IG1zZy5vcmFjbGUsCiAgICAgICAgICAgIGZlZWRJZEFzc2V0OiBtc2cuZmVlZElkQXNzZXQsCiAgICAgICAgICAgIGZlZWRJZFRva2VuOiBtc2cuZmVlZElkVG9rZW4sCiAgICAgICAgICAgIG9wZXJhdG9yRmVlQWRkcmVzczogbXNnLm9wZXJhdG9yRmVlQWRkcmVzcwogICAgICAgIH0udG9DZWxsKCkpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBjb250cmFjdEFkZHJlc3Mod2luaXQpLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogSW5uZXJEZXBsb3lNYXJrZXRUb257CiAgICAgICAgICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgICAgIG9yaWdpbmFsR2FzVG86IG1zZy5vcmlnaW5hbEdhc1RvLAogICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgICAgICBjb2RlOiB3aW5pdC5jb2RlLAogICAgICAgICAgICBkYXRhOiB3aW5pdC5kYXRhLAogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBEZXBsb3lUb25NYXJrZXRXaXRoQW1tKSB7CiAgICAgICAgbGV0IGFtbVdpbml0ID0gaW5pdE9mIEFtbVRvbihtc2cuaWQsIG15QWRkcmVzcygpLCBtc2cub3duZXIpOwogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgd2luaXQgPSBpbml0T2YgTWFya2V0VG9uKAogICAgICAgICAgICBtc2cuaWQsCiAgICAgICAgICAgIG1zZy5vd25lciwKICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzKGFtbVdpbml0KSwKICAgICAgICAgICAgbXlBZGRyZXNzKCksCiAgICAgICAgICAgIG1zZy51bmRlcmx5aW5nQXNzZXROYW1lLAogICAgICAgICAgICBtc2cuZHVyYXRpb24sCiAgICAgICAgICAgIG1zZy5jb2xsZWN0aW9uX2NvbnRlbnQsCiAgICAgICAgICAgIG1zZy5vcGVyYXRvckZlZSwKICAgICAgICAgICAgbXNnLnNlcnZpY2VGZWUsCiAgICAgICAgICAgIG1zZy5vcmFjbGUsCiAgICAgICAgICAgIG1zZy5mZWVkSWRBc3NldCwKICAgICAgICAgICAgbXNnLmZlZWRJZFRva2VuLAogICAgICAgICAgICBtc2cub3BlcmF0b3JGZWVBZGRyZXNzCiAgICAgICAgKTsKICAgICAgICAKICAgICAgICBlbWl0KE1hcmtldFRvbkRlcGxveWVkRXZlbnRXaXRoQW1tewogICAgICAgICAgICBxdWVyeUlkOiBtc2cucXVlcnlJZCwKICAgICAgICAgICAgbWFya2V0QWRkcmVzczogY29udHJhY3RBZGRyZXNzKHdpbml0KSwKICAgICAgICAgICAgaWQ6IG1zZy5pZCwKICAgICAgICAgICAgb3duZXI6IG1zZy5vd25lciwKICAgICAgICAgICAgYW1tOiBjb250cmFjdEFkZHJlc3MoYW1tV2luaXQpLAogICAgICAgICAgICB1bmRlcmx5aW5nQXNzZXROYW1lOiBtc2cudW5kZXJseWluZ0Fzc2V0TmFtZSwKICAgICAgICAgICAgZHVyYXRpb246IG1zZy5kdXJhdGlvbiwKICAgICAgICAgICAgY29sbGVjdGlvbl9jb250ZW50OiBtc2cuY29sbGVjdGlvbl9jb250ZW50LAogICAgICAgICAgICBvcGVyYXRvckZlZTogbXNnLm9wZXJhdG9yRmVlLAogICAgICAgICAgICBzZXJ2aWNlRmVlOiBtc2cuc2VydmljZUZlZSwKICAgICAgICAgICAgb3JhY2xlOiBtc2cub3JhY2xlLAogICAgICAgICAgICBmZWVkSWRBc3NldDogbXNnLmZlZWRJZEFzc2V0LAogICAgICAgICAgICBmZWVkSWRUb2tlbjogbXNnLmZlZWRJZFRva2VuLAogICAgICAgICAgICBvcGVyYXRvckZlZUFkZHJlc3M6IG1zZy5vcGVyYXRvckZlZUFkZHJlc3MKICAgICAgICB9LnRvQ2VsbCgpKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogY29udHJhY3RBZGRyZXNzKGFtbVdpbml0KSwKICAgICAgICAgICAgdmFsdWU6IFNUT1JBR0VfSU5JVF9WQUxVRSAqIDIsCiAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIGJvZHk6IElubmVyRGVwbG95QW1tVG9uewogICAgICAgICAgICAgICAgcXVlcnlJZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgICAgICBtYXJrZXQ6IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksCiAgICAgICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBtc2cub3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgY29kZTogYW1tV2luaXQuY29kZSwKICAgICAgICAgICAgZGF0YTogYW1tV2luaXQuZGF0YSwKICAgICAgICB9KTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogY29udHJhY3RBZGRyZXNzKHdpbml0KSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IElubmVyRGVwbG95TWFya2V0VG9uewogICAgICAgICAgICAgICAgcXVlcnlJZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBtc2cub3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgY29kZTogd2luaXQuY29kZSwKICAgICAgICAgICAgZGF0YTogd2luaXQuZGF0YSwKICAgICAgICB9KTsKICAgIH0KCiAgICBnZXQgZnVuIGlkKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuaWQ7CiAgICB9Cn0K"},"compiler":{"name":"tact","version":"1.4.4","parameters":"{\"entrypoint\":\"contracts/factory.tact\",\"options\":{\"debug\":true}}"}}