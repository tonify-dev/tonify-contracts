{"name":"NftItem","code":"te6ccgECGQEABi4AART/APSkE/S88sgLAQIBYgIDA3rQAdDTAwFxsKMB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFRQUwNvBPhhAvhi2zxVFNs88uCCEgQFAgFYEBEEZgGSMH/gcCHXScIflTAg1wsf3iCCEF/MPRS6jwUw2zxsFuAgghAvyyaiuuMCghC8JvTIugYHCAkA3sj4QwHMfwHKAFVAUFQg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYSgQEBzwDKAFggbpUwcAHLAY4eINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8W4iFus5V/AcoAzJRwMsoA4sntVADc0x8BghBfzD0UuvLggdM/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAEg1wsBwwCOH/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiUctchbeIB0gABkdSSbQHi+gBRVRUUQzADpPhBbyQQThA9TLor2zwjwACOujZfAzc3ODgkgWtrB8cFFvL0ggiYloBw+wJ/BSBu8tCAgwYDyAGCENUydttYyx/LP8lHMH9VMG1t2zzjDlAzBH8KDgsBxDDTHwGCEC/LJqK68uCB0z8BMfhBbyQQI18DcIBAf1Q0ichVIIIQi3cXNVAEyx8Syz+BAQHPAAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbJEDRBMBRDMG1t2zx/DgHYjufTHwGCELwm9Mi68uCB0z8BMfhBbyQQI18DcIMGfyYgbvLQgFQlkMhVIIIQKgBKBVAEyx8Syz+BAQHPAAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbJEDRBMBRDMG1t2zx/4DBwDgAs+CdvECGhggiYloBmtgihggkxLQCgoQPqN4IAwIACIG7y0IAtxwUS8vRTdMIAjslxU61/ERLIVSCCEAUTjZFQBMsfEss/ASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFgHPFsknEEsDEREBFEMwbW3bPBBskjg94hA7SpjbPKEhbrOTWzUw4w1ZDgwNAGRsMfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4Igw+gAxcdch+gAx+gAwpwOrAAFKASBu8tCAB6FxfwTIAYIQ1TJ221jLH8s/yRBIQTAYFEMwbW3bPA4ByshxAcoBUAcBygBwAcoCUAUg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZQA/oCcAHKaCNus5F/kyRus+KXMzMBcAHKAOMNIW6znH8BygABIG7y0IABzJUxcAHKAOLJAfsADwCYfwHKAMhwAcoAcAHKACRus51/AcoABCBu8tCAUATMljQDcAHKAOIkbrOdfwHKAAQgbvLQgFAEzJY0A3ABygDicAHKAAJ/AcoAAslYzAIRuPz9s82zxsVYEhMAEbgr7tRNDSAAGAH07UTQ1AH4Y9IAAY5i+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXANIAINcLAcMAjh/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIlHLXIW3iAdIAAZHUkm0B4lVAbBXg+CjXCwqDCbry4IkUBDzIbwABb4xtb4whIG7y0IDQ2zwk2zzbPItS5qc29ugYFhgXAVb6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAYEBAdcAWQLRAds8FQAgbW2CAME9+EJSUMcF8vRwWQDeyCHBAJiALQHLBwGjAd4hgjgyfLJzQRnTt6mqHbmOIHAgcY4UBHqpDKYwJagSoASqBwKkIcAARTDmMDOqAs8BjitvAHCOESN6qQgSb4wBpAN6qQQgwAAU5jMipQOcUwJvgaYwWMsHAqVZ5DAx4snQAUDbPCIgbvLQgAFvIgHJkyFus5YBbyJZzMnoMSRURjAoWRgAuiDXSiHXSZcgwgAiwgCxjkoDbyKAfyLPMasCoQWrAlFVtgggwgCcIKoCFdcYUDPPFkAU3llvAlNBocIAmcgBbwJQRKGqAo4SMTPCAJnUMNAg10oh10mScCDi4uhfAw==","abi":"{\"name\":\"NftItem\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TakeDeal\",\"header\":955300085,\"fields\":[{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TakeDealData\",\"header\":null,\"fields\":[{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TakeDealWithOriginalGasTo\",\"header\":2027434162,\"fields\":[{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TakeDealDataWithOriginalGasTo\",\"header\":null,\"fields\":[{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"CreateDeal\",\"header\":3755427120,\"fields\":[{\"name\":\"makerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"rateAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"rateToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"percent\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"expiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"slippage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"InnerDeployMarket\",\"header\":1762492384,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"WithdrawOperatorFee\",\"header\":3542167315,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"WithdrawServiceFee\",\"header\":3909931163,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CreateDealData\",\"header\":null,\"fields\":[{\"name\":\"makerPosition\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"rateAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"rateToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"percent\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"expiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"slippage\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"CancelDeal\",\"header\":2166842366,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ProcessDeal\",\"header\":3915542458,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"DealData\",\"header\":null,\"fields\":[{\"name\":\"status\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":8}},{\"name\":\"isSeller\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"rate\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"rateMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"percent\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"slippageMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"dateOrderCreation\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"dateOrderExpiration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"dateStart\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"dateStop\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"buyerTokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"sellerTokenId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CancelEvent\",\"header\":3409203741,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"DealAcceptedEvent\",\"header\":73313137,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"DealCreatedEvent\",\"header\":17345355,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"DealCompletedEvent\",\"header\":2339190802,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"DealExpiredEvent\",\"header\":292536636,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"maker\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"collateralAmountMaker\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}}]},{\"name\":\"ContextCancelDealForDealReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ContextTakeDealForDealReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"timestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"feedId2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"price2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"timestamp2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ContextProcessDealForDealReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"price\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"timestamp\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"feedId2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"price2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":128}},{\"name\":\"timestamp2\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ContextTakeDealForPriceReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ContextProcessDealForPriceReceived\",\"header\":null,\"fields\":[{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}}]},{\"name\":\"ContextForGetOwner\",\"header\":null,\"fields\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"TakeDealAmm\",\"header\":1895074275,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"dealId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"oracleAssetData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"oracleTokenData\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"JettonData\",\"header\":null,\"fields\":[{\"name\":\"total_supply\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mintable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"wallet_code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"JettonWalletData\",\"header\":null,\"fields\":[{\"name\":\"balance\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"master\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"TokenTransfer\",\"header\":260734629,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"recipient\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forward_ton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenTransferInternal\",\"header\":395134233,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"forward_ton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"from\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"TokenBurn\",\"header\":1499400124,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"TokenBurnNotification\",\"header\":2078119902,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"TokenExcesses\",\"header\":3576854235,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"TokenUpdateContent\",\"header\":2937889386,\"fields\":[{\"name\":\"content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"ProvideWalletAddress\",\"header\":745978227,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"include_address\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"TakeWalletAddress\",\"header\":3513996288,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"wallet_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"Deal$Data\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"NftItem$Data\",\"header\":null,\"fields\":[{\"name\":\"collection_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"is_initialized\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"individual_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"GetData\",\"header\":3858888933,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportData\",\"header\":3062344471,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"SaveData\",\"header\":2951296309,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"DeleteData\",\"header\":3097733652,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"originalGasTo\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"LogEventMintRecord\",\"header\":2743565669,\"fields\":[{\"name\":\"minter\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"item_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"generate_number\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"GetRoyaltyParams\",\"header\":1765620048,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportRoyaltyParams\",\"header\":2831876269,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"numerator\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"denominator\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":16}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"CollectionData\",\"header\":null,\"fields\":[{\"name\":\"next_item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"RoyaltyParams\",\"header\":null,\"fields\":[{\"name\":\"numerator\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"denominator\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"Transfer\",\"header\":1607220500,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"new_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forward_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"OwnershipAssigned\",\"header\":85167505,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"prev_owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"Excesses\",\"header\":3576854235,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"GetStaticData\",\"header\":801842850,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportStaticData\",\"header\":2339837749,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"index_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"GetOwner\",\"header\":3156669640,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ReportOwner\",\"header\":704662021,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"index_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"GetNftData\",\"header\":null,\"fields\":[{\"name\":\"is_initialized\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"index\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"collection_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"owner_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"individual_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Market$Data\",\"header\":null,\"fields\":[{\"name\":\"id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amm\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"jettonWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"underlyingAssetName\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"duration\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"operatorFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"serviceFee\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"factory\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"stopped\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"countDeal\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"next_item_index\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":32}},{\"name\":\"collection_content\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"mapQueriesToContext\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"cell\",\"valueFormat\":\"ref\"}},{\"name\":\"oracle\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"feedIdAsset\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"feedIdToken\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}},{\"name\":\"operatorFeeSum\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"serviceFeeSum\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"operatorFeeAddress\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Transfer\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"GetStaticData\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"GetOwner\"}}],\"getters\":[{\"name\":\"get_nft_data\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"GetNftData\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"3607\":{\"message\":\"QueryId already exists\"},\"4321\":{\"message\":\"Only factory can deploy\"},\"7021\":{\"message\":\"only oracle can send this message\"},\"14154\":{\"message\":\"ReportOwner must be from nft contract\"},\"16059\":{\"message\":\"Invalid value\"},\"27499\":{\"message\":\"initialized tx need from collection\"},\"40368\":{\"message\":\"Contract stopped\"},\"40476\":{\"message\":\"Amount must be greater than 0\"},\"44278\":{\"message\":\"Insufficient service fee\"},\"45223\":{\"message\":\"Transfer jetton must be from jetton wallet\"},\"48542\":{\"message\":\"ReportData must be from Deal contract\"},\"49280\":{\"message\":\"not owner\"},\"49469\":{\"message\":\"not from collection\"},\"51559\":{\"message\":\"Only operator fee address can withdraw operator fee\"},\"53296\":{\"message\":\"Contract not stopped\"},\"57951\":{\"message\":\"Deal is not created\"},\"59867\":{\"message\":\"Insufficient operator fee\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\",\"org.ton.chain.workchain.v0\"]}","init":{"kind":"direct","args":[{"name":"collection_address","type":{"kind":"simple","type":"address","optional":false}},{"name":"item_index","type":{"kind":"simple","type":"int","optional":false,"format":257}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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"}},"sources":{"contracts/market_messages.tact":"Y29uc3QgT1BfQ09ERV9DUkVBVEVfREVBTDogSW50ID0gMHhkZmQ3NDUzMDsgLy8gc2hhMjU2KCJDcmVhdGVEZWFsIikuc2xpY2UoMCwgOCkKY29uc3QgT1BfQ09ERV9UQUtFX0RFQUw6IEludCA9IDB4MzhmMGI4ZjU7IC8vIHNoYTI1NigiVGFrZURlYWwiKS5zbGljZSgwLCA4KQpjb25zdCBPUF9DT0RFX1RBS0VfREVBTF9XSVRIX09SSUdJTkFMX0dBU19UTzogSW50ID0gMHg3OGQ4MzBiMjsgLy8gc2hhMjU2KCJUYWtlRGVhbFdpdGhPcmlnaW5hbEdhc1RvIikuc2xpY2UoMCwgOCkKCm1lc3NhZ2UoMHgzOGYwYjhmNSkgVGFrZURlYWwgewogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgb3JhY2xlQXNzZXREYXRhOiBDZWxsOwogICAgb3JhY2xlVG9rZW5EYXRhOiBDZWxsOwp9CnN0cnVjdCBUYWtlRGVhbERhdGEgewogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgb3JhY2xlQXNzZXREYXRhOiBDZWxsOwogICAgb3JhY2xlVG9rZW5EYXRhOiBDZWxsOwp9Cm1lc3NhZ2UoMHg3OGQ4MzBiMikgVGFrZURlYWxXaXRoT3JpZ2luYWxHYXNUbyB7CiAgICBkYXRhOiBDZWxsOwp9CnN0cnVjdCBUYWtlRGVhbERhdGFXaXRoT3JpZ2luYWxHYXNUbyB7CiAgICBkZWFsSWQ6IEludCBhcyB1aW50MzI7CiAgICBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzOwogICAgb3JhY2xlQXNzZXREYXRhOiBDZWxsOwogICAgb3JhY2xlVG9rZW5EYXRhOiBDZWxsOwp9Cm1lc3NhZ2UoMHhkZmQ3NDUzMCkgQ3JlYXRlRGVhbCB7CiAgICBtYWtlclBvc2l0aW9uOiBCb29sOwogICAgcmF0ZUFzc2V0OiBJbnQgYXMgY29pbnM7CiAgICByYXRlVG9rZW46IEludCBhcyBjb2luczsKICAgIHBlcmNlbnQ6IEludCBhcyBjb2luczsKICAgIGV4cGlyYXRpb246IEludCBhcyB1aW50MzI7CiAgICBzbGlwcGFnZTogSW50IGFzIGNvaW5zOwogICAgb3JhY2xlQXNzZXREYXRhOiBDZWxsPzsKICAgIG9yYWNsZVRva2VuRGF0YTogQ2VsbD87Cn0KbWVzc2FnZSBJbm5lckRlcGxveU1hcmtldCB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgamV0dG9uV2FsbGV0OiBBZGRyZXNzOwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKfQptZXNzYWdlIFdpdGhkcmF3T3BlcmF0b3JGZWUgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgdG86IEFkZHJlc3M7Cn0KbWVzc2FnZSBXaXRoZHJhd1NlcnZpY2VGZWUgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgdG86IEFkZHJlc3M7Cn0KCnN0cnVjdCBDcmVhdGVEZWFsRGF0YSB7CiAgICBtYWtlclBvc2l0aW9uOiBCb29sOwogICAgcmF0ZUFzc2V0OiBJbnQgYXMgY29pbnM7CiAgICByYXRlVG9rZW46IEludCBhcyBjb2luczsKICAgIHBlcmNlbnQ6IEludCBhcyBjb2luczsKICAgIGV4cGlyYXRpb246IEludCBhcyB1aW50MzI7CiAgICBzbGlwcGFnZTogSW50IGFzIGNvaW5zOwogICAgb3JhY2xlQXNzZXREYXRhOiBDZWxsPzsKICAgIG9yYWNsZVRva2VuRGF0YTogQ2VsbD87Cn0KbWVzc2FnZSBDYW5jZWxEZWFsIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBkZWFsSWQ6IEludCBhcyB1aW50MzI7Cn0KbWVzc2FnZSBQcm9jZXNzRGVhbCB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgb3JhY2xlQXNzZXREYXRhOiBDZWxsOwogICAgb3JhY2xlVG9rZW5EYXRhOiBDZWxsOwp9CnN0cnVjdCBEZWFsRGF0YSB7CiAgICBzdGF0dXM6IEludCBhcyB1aW50ODsKICAgIGlzU2VsbGVyOiBCb29sOwogICAgcmF0ZTogSW50IGFzIGNvaW5zOwogICAgcmF0ZU1ha2VyOiBJbnQgYXMgY29pbnM7CiAgICBwZXJjZW50OiBJbnQgYXMgY29pbnM7CiAgICBzbGlwcGFnZU1ha2VyOiBJbnQgYXMgY29pbnM7CiAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IEludCBhcyBjb2luczsKICAgIGRhdGVPcmRlckNyZWF0aW9uOiBJbnQgYXMgdWludDMyOwogICAgZGF0ZU9yZGVyRXhwaXJhdGlvbjogSW50IGFzIHVpbnQzMjsKICAgIGRhdGVTdGFydDogSW50IGFzIHVpbnQzMjsKICAgIGRhdGVTdG9wOiBJbnQgYXMgdWludDMyOwogICAgYnV5ZXJUb2tlbklkOiBJbnQgYXMgdWludDMyOwogICAgc2VsbGVyVG9rZW5JZDogSW50IGFzIHVpbnQzMjsKICAgIG1ha2VyOiBBZGRyZXNzOwp9CgovLyBldmVudHMKbWVzc2FnZSBDYW5jZWxFdmVudCB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgbWFrZXI6IEFkZHJlc3M7CiAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IEludCBhcyBjb2luczsKfQptZXNzYWdlIERlYWxBY2NlcHRlZEV2ZW50IHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBkZWFsSWQ6IEludCBhcyB1aW50MzI7CiAgICBtYWtlcjogQWRkcmVzczsKICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogSW50IGFzIGNvaW5zOwp9Cm1lc3NhZ2UgRGVhbENyZWF0ZWRFdmVudCB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgbWFrZXI6IEFkZHJlc3M7CiAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IEludCBhcyBjb2luczsKfQptZXNzYWdlIERlYWxDb21wbGV0ZWRFdmVudCB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgbWFrZXI6IEFkZHJlc3M7CiAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IEludCBhcyBjb2luczsKfQptZXNzYWdlIERlYWxFeHBpcmVkRXZlbnQgewogICAgcXVlcnlJZDogSW50IGFzIHVpbnQ2NDsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKICAgIG1ha2VyOiBBZGRyZXNzOwogICAgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBJbnQgYXMgY29pbnM7Cn0KCi8vIGNvbnRleHQKCnN0cnVjdCBDb250ZXh0Q2FuY2VsRGVhbEZvckRlYWxSZWNlaXZlZCB7CiAgICBmcm9tOiBBZGRyZXNzOwp9CnN0cnVjdCBDb250ZXh0VGFrZURlYWxGb3JEZWFsUmVjZWl2ZWQgewogICAgZnJvbTogQWRkcmVzczsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKICAgIGZlZWRJZDogSW50IGFzIHVpbnQzMjsKICAgIHByaWNlOiBJbnQgYXMgdWludDEyODsKICAgIHRpbWVzdGFtcDogSW50IGFzIHVpbnQzMjsKICAgIGZlZWRJZDI6IEludCBhcyB1aW50MzI7CiAgICBwcmljZTI6IEludCBhcyB1aW50MTI4OwogICAgdGltZXN0YW1wMjogSW50IGFzIHVpbnQzMjsKfQoKc3RydWN0IENvbnRleHRQcm9jZXNzRGVhbEZvckRlYWxSZWNlaXZlZCB7CiAgICBmcm9tOiBBZGRyZXNzOwogICAgZmVlZElkOiBJbnQgYXMgdWludDMyOwogICAgcHJpY2U6IEludCBhcyB1aW50MTI4OwogICAgdGltZXN0YW1wOiBJbnQgYXMgdWludDMyOwogICAgZmVlZElkMjogSW50IGFzIHVpbnQzMjsKICAgIHByaWNlMjogSW50IGFzIHVpbnQxMjg7CiAgICB0aW1lc3RhbXAyOiBJbnQgYXMgdWludDMyOwp9CnN0cnVjdCBDb250ZXh0VGFrZURlYWxGb3JQcmljZVJlY2VpdmVkIHsKICAgIGZyb206IEFkZHJlc3M7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKICAgIG9yaWdpbmFsR2FzVG86IEFkZHJlc3M7Cn0Kc3RydWN0IENvbnRleHRQcm9jZXNzRGVhbEZvclByaWNlUmVjZWl2ZWQgewogICAgZnJvbTogQWRkcmVzczsKICAgIGRlYWxJZDogSW50IGFzIHVpbnQzMjsKfQpzdHJ1Y3QgQ29udGV4dEZvckdldE93bmVyIHsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKfQoKbWVzc2FnZSBUYWtlRGVhbEFtbSB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgZGVhbElkOiBJbnQgYXMgdWludDMyOwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzOwogICAgb3JhY2xlQXNzZXREYXRhOiBDZWxsOwogICAgb3JhY2xlVG9rZW5EYXRhOiBDZWxsOwp9","contracts/nft/nft_collection.tact":"aW1wb3J0ICIuL25mdF9pdGVtLnRhY3QiOwoKCnRyYWl0IE5mdENvbGxlY3Rpb24gewogICAgbmV4dF9pdGVtX2luZGV4OiBJbnQ7CiAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGw7CgogICAgLy8gcmVjZWl2ZSgiTWludCIpewogICAgLy8gICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAvLyAgICAgbGV0IG1zZ1ZhbHVlOiBJbnQgPSBjdHgudmFsdWU7CiAgICAvLyAgICAgbGV0IHRvbkJhbGFuY2VCZWZvcmVNc2c6IEludCA9IG15QmFsYW5jZSgpIC0gbXNnVmFsdWU7CiAgICAvLyAgICAgbGV0IHN0b3JhZ2VGZWU6IEludCA9IG1pblRvbnNGb3JTdG9yYWdlIC0gbWluKHRvbkJhbGFuY2VCZWZvcmVNc2csIG1pblRvbnNGb3JTdG9yYWdlKTsKICAgIC8vICAgICBtc2dWYWx1ZSA9IG1zZ1ZhbHVlIC0gKHN0b3JhZ2VGZWUgKyBnYXNDb25zdW1wdGlvbik7CiAgICAvLyAgICAgc2VsZi5taW50KGN0eC5zZW5kZXIsIG1zZ1ZhbHVlKTsKCiAgICAvLyAgICAgZW1pdChMb2dFdmVudE1pbnRSZWNvcmR7IG1pbnRlcjogc2VuZGVyKCksIGl0ZW1faWQ6IHNlbGYubmV4dF9pdGVtX2luZGV4LCBnZW5lcmF0ZV9udW1iZXI6IG5hdGl2ZVJhbmRvbSgpIH0udG9DZWxsKCkpOwogICAgLy8gfQoKICAgIGFic3RyYWN0IGZ1biBvbkJvdW5jZWRHZXRPd25lcihxdWVyeUlkOiBJbnQpOwoKICAgIHZpcnR1YWwgZnVuIG1pbnQocXVlcnlfaWQ6IEludCwgbmV3X293bmVyOiBBZGRyZXNzLCBtc2dWYWx1ZTogSW50LCByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcyk6IEludCB7CiAgICAgICAgLy8gcmVxdWlyZShzZWxmLm5leHRfaXRlbV9pbmRleCA+PSAwLCAibm9uLXNlcXVlbnRpYWwgTkZUcyIpOwogICAgICAgIGxldCBuZnRfaW5pdDogU3RhdGVJbml0ID0gc2VsZi5nZXROZnRJdGVtSW5pdChzZWxmLm5leHRfaXRlbV9pbmRleCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBjb250cmFjdEFkZHJlc3MobmZ0X2luaXQpLAogICAgICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZFBheUdhc1NlcGFyYXRlbHksCiAgICAgICAgICAgICAgICBib2R5OiBUcmFuc2ZlcnsKICAgICAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlfaWQsCiAgICAgICAgICAgICAgICAgICAgbmV3X293bmVyOiBuZXdfb3duZXIsCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfZGVzdGluYXRpb246IHJlc3BvbnNlX2Rlc3RpbmF0aW9uLAogICAgICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBzZWxmLmNvbGxlY3Rpb25fY29udGVudCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKQogICAgICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgICAgIGNvZGU6IG5mdF9pbml0LmNvZGUsCiAgICAgICAgICAgICAgICBkYXRhOiBuZnRfaW5pdC5kYXRhCiAgICAgICAgICAgIH0KICAgICAgICApOwogICAgICAgIHNlbGYubmV4dF9pdGVtX2luZGV4ID0gc2VsZi5uZXh0X2l0ZW1faW5kZXggKyAxOwogICAgICAgIHJldHVybiBzZWxmLm5leHRfaXRlbV9pbmRleCAtIDE7CiAgICB9CgoKICAgIGZ1biBmZXRjaE93bmVyQnlJbmRleChxdWVyeV9pZDogSW50LCBpdGVtX2luZGV4OiBJbnQsIHZhbHVlOiBJbnQpIHsKICAgICAgICBsZXQgaW5pdENvZGU6IFN0YXRlSW5pdCA9IHNlbGYuZ2V0TmZ0SXRlbUluaXQoaXRlbV9pbmRleCk7CiAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogY29udHJhY3RBZGRyZXNzKGluaXRDb2RlKSwKICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgICAgICBib2R5OiBHZXRPd25lcnsKICAgICAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlfaWQsCiAgICAgICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgICAgICB9CiAgICAgICAgKTsKICAgIH0KCiAgICAKICAgIGJvdW5jZWQobXNnOiBHZXRPd25lcikgewogICAgICAgIHNlbGYub25Cb3VuY2VkR2V0T3duZXIobXNnLnF1ZXJ5X2lkKTsKICAgIH0KCiAgICBnZXQgZnVuIGdldF9jb2xsZWN0aW9uX2RhdGEoKTogQ29sbGVjdGlvbkRhdGEgewogICAgICAgIGxldCBiOiBTdHJpbmdCdWlsZGVyID0gYmVnaW5TdHJpbmcoKTsKICAgICAgICBsZXQgY29sbGVjdGlvbkRhdGFTdHJpbmc6IFN0cmluZyA9IHNlbGYuY29sbGVjdGlvbl9jb250ZW50LmFzU2xpY2UoKS5hc1N0cmluZygpOwogICAgICAgIGIuYXBwZW5kKGNvbGxlY3Rpb25EYXRhU3RyaW5nKTsKICAgICAgICBiLmFwcGVuZCgibWV0YS5qc29uIik7CiAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIENvbGxlY3Rpb25EYXRhewogICAgICAgICAgICAgICAgbmV4dF9pdGVtX2luZGV4OiBzZWxmLm5leHRfaXRlbV9pbmRleCwKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fY29udGVudDogYi50b0NlbGwoKSwKICAgICAgICAgICAgICAgIG93bmVyX2FkZHJlc3M6IGFkZHJlc3MoIlVRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUpLWiIpLAogICAgICAgICAgICB9OwogICAgfQoKICAgIGdldCBmdW4gZ2V0X25mdF9hZGRyZXNzX2J5X2luZGV4KGl0ZW1faW5kZXg6IEludCk6IEFkZHJlc3M/IHsKICAgICAgICBsZXQgaW5pdENvZGU6IFN0YXRlSW5pdCA9IHNlbGYuZ2V0TmZ0SXRlbUluaXQoaXRlbV9pbmRleCk7CiAgICAgICAgcmV0dXJuIGNvbnRyYWN0QWRkcmVzcyhpbml0Q29kZSk7CiAgICB9CgogICAgZ2V0IGZ1biBnZXROZnRJdGVtSW5pdChpdGVtX2luZGV4OiBJbnQpOiBTdGF0ZUluaXQgewogICAgICAgIHJldHVybiBpbml0T2YgTmZ0SXRlbShteUFkZHJlc3MoKSwgaXRlbV9pbmRleCk7CiAgICB9CgogICAgZ2V0IGZ1biBnZXRfbmZ0X2NvbnRlbnQoaW5kZXg6IEludCwgaW5kaXZpZHVhbF9jb250ZW50OiBDZWxsKTogQ2VsbCB7CiAgICAgICAgbGV0IGI6IFN0cmluZ0J1aWxkZXIgPSBiZWdpblN0cmluZygpOwogICAgICAgIGxldCBpYzogU3RyaW5nID0gaW5kaXZpZHVhbF9jb250ZW50LmFzU2xpY2UoKS5hc1N0cmluZygpOwogICAgICAgIGIuYXBwZW5kKGljKTsKICAgICAgICByZXR1cm4gYi50b0NlbGwoKTsKICAgIH0KfQ==","contracts/jetton/jetton_messages.tact":"c3RydWN0IEpldHRvbkRhdGEgewogICAgdG90YWxfc3VwcGx5OiBJbnQ7CiAgICBtaW50YWJsZTogQm9vbDsKICAgIG93bmVyOiBBZGRyZXNzOwogICAgY29udGVudDogQ2VsbDsKICAgIHdhbGxldF9jb2RlOiBDZWxsOwp9CgpzdHJ1Y3QgSmV0dG9uV2FsbGV0RGF0YSB7CiAgICBiYWxhbmNlOiBJbnQ7CiAgICBvd25lcjogQWRkcmVzczsKICAgIG1hc3RlcjogQWRkcmVzczsKICAgIGNvZGU6IENlbGw7Cn0KCm1lc3NhZ2UoMHhmOGE3ZWE1KSBUb2tlblRyYW5zZmVyIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICByZWNpcGllbnQ6IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87CiAgICBjdXN0b21fcGF5bG9hZDogQ2VsbD87CiAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IEludCBhcyBjb2luczsKICAgIGZvcndhcmRfcGF5bG9hZDogU2xpY2UgYXMgcmVtYWluaW5nOyAKfQoKbWVzc2FnZSgweDE3OGQ0NTE5KSBUb2tlblRyYW5zZmVySW50ZXJuYWwgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIGZyb206IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87CiAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IEludCBhcyBjb2luczsKICAgIGZvcndhcmRfcGF5bG9hZDogU2xpY2UgYXMgcmVtYWluaW5nOwp9CgptZXNzYWdlKDB4NzM2MmQwOWMpIFRva2VuTm90aWZpY2F0aW9uIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBmcm9tOiBBZGRyZXNzOwogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7Cn0KCm1lc3NhZ2UoMHg1OTVmMDdiYykgVG9rZW5CdXJuIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87CiAgICBjdXN0b21fcGF5bG9hZDogQ2VsbD87Cn0KCm1lc3NhZ2UoMHg3YmRkOTdkZSkgVG9rZW5CdXJuTm90aWZpY2F0aW9uIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBzZW5kZXI6IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87Cn0KCm1lc3NhZ2UoMHhkNTMyNzZkYikgVG9rZW5FeGNlc3NlcyB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKfQoKbWVzc2FnZSBUb2tlblVwZGF0ZUNvbnRlbnQgewogICAgY29udGVudDogQ2VsbDsKfQoKLy8gPT09PSBURVA4OTogSmV0dG9uIFdhbGxldCBEaXNjb3ZlcnkgPT09PQptZXNzYWdlKDB4MmM3NmI5NzMpIFByb3ZpZGVXYWxsZXRBZGRyZXNzIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgb3duZXJfYWRkcmVzczogQWRkcmVzczsKICAgIGluY2x1ZGVfYWRkcmVzczogQm9vbDsKfQoKLy8gdGFrZV93YWxsZXRfYWRkcmVzcyNkMTczNTQwMCAKLy8gcXVlcnlfaWQ6dWludDY0IHdhbGxldF9hZGRyZXNzOk1zZ0FkZHJlc3Mgb3duZXJfYWRkcmVzczooTWF5YmUgXk1zZ0FkZHJlc3MpID0gSW50ZXJuYWxNc2dCb2R5OwptZXNzYWdlKDB4ZDE3MzU0MDApIFRha2VXYWxsZXRBZGRyZXNzIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgd2FsbGV0X2FkZHJlc3M6IEFkZHJlc3M7CiAgICBvd25lcl9hZGRyZXNzOiBTbGljZSBhcyByZW1haW5pbmc7Cn0=","contracts/deal.tact":"aW1wb3J0ICJAc3RkbGliL293bmFibGUiOwppbXBvcnQgIi4vZGVhbF9tZXNzYWdlcyI7Cgpjb25zdCBERUFMX1JFU0VSVkVfVkFMVUUgOiBJbnQgPSB0b24oIjAuMDEiKTsKCmNvbnRyYWN0IERlYWwgd2l0aCBPd25hYmxlIHsKICAgIGlkOiBJbnQgYXMgdWludDMyOwogICAgb3duZXI6IEFkZHJlc3M7CiAgICBkYXRhOiBDZWxsPzsKICAgIGluaXQoaWQ6IEludCwgb3duZXI6IEFkZHJlc3MpewogICAgICAgIHNlbGYuaWQgPSBpZDsKICAgICAgICBzZWxmLm93bmVyID0gb3duZXI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFNhdmVEYXRhKXsKICAgICAgICBuYXRpdmVSZXNlcnZlKERFQUxfUkVTRVJWRV9WQUxVRSwgMCk7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKICAgICAgICBzZWxmLmRhdGEgPSBtc2cuZGF0YTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJze3RvOiBtc2cub3JpZ2luYWxHYXNUbywgdmFsdWU6IDAsIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLCBib3VuY2U6IGZhbHNlfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IERlbGV0ZURhdGEpewogICAgICAgIG5hdGl2ZVJlc2VydmUoMCwgMCk7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJze3RvOiBtc2cub3JpZ2luYWxHYXNUbywgdmFsdWU6IDAsIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlfFNlbmREZXN0cm95SWZaZXJvLCBib3VuY2U6IGZhbHNlfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEdldERhdGEpewogICAgICAgIG5hdGl2ZVJlc2VydmUoREVBTF9SRVNFUlZFX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgICAgICB0bzogY3R4LnNlbmRlciwKICAgICAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiBSZXBvcnREYXRhe3F1ZXJ5SWQ6IG1zZy5xdWVyeUlkLCBpZDogc2VsZi5pZCwgZGF0YTogc2VsZi5kYXRhISF9LnRvQ2VsbCgpCiAgICAgICAgICAgIH0KICAgICAgICApOwogICAgfQoKICAgIGdldCBmdW4gaWQoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5pZDsKICAgIH0KCiAgICBnZXQgZnVuIGRhdGEoKTogQ2VsbD8gewogICAgICAgIHJldHVybiBzZWxmLmRhdGE7CiAgICB9Cn0=","contracts/oracle/redstonte_oracle_consumer_base.tact":"Y29uc3QgT1BfUkVEU1RPTkVfREFUQV9GRVRDSEVEOiBJbnQgPSAweDkzNWZhOWQxOyAvLzJjMzZmZTA0OTc3MTdkMjFiYjY0MGRhYjAzOTcwZWJmNDk1MmY1ODJkYmJhNDYyYTc2OTg1ODAyOyA7OyBzdWJzdHIoa2VjY2FrKFJlZFN0b25lX0RhdGFfRmV0Y2hlZCksIDgpCmNvbnN0IE9QX1JFRFNUT05FX0NIRUNLX0FORF9SRVRVUk5fUFJJQ0U6IEludCA9IDB4MDNkZjk0YWE7Cgp0cmFpdCBSZWRzdG9uZU9yYWNsZUNvbnN1bWVyQmFzZSB7CiAgICBvcmFjbGU6IEFkZHJlc3M7CgogICAgYWJzdHJhY3QgZnVuIG9uUHJpY2VSZWNlaXZlZChxdWVyeUlkOiBJbnQsIGZlZWRJZDogSW50LCBwcmljZTogSW50LCB0aW1lc3RhbXA6IEludCwgZmVlZElkXzI6IEludCwgcHJpY2VfMjogSW50LCB0aW1lc3RhbXBfMjogSW50KTsKCiAgICBhYnN0cmFjdCBmdW4gb25PcmFjbGVFcnJvclJlY2VpdmVkKHF1ZXJ5SWQ6IEludCwgZXJyb3I6IFNsaWNlKTsKCiAgICB2aXJ0dWFsIGZ1biBmZXRjaFByaWNlKHF1ZXJ5SWQ6IEludCwgZmlyc3RPcmFjbGVEYXRhOiBDZWxsLCBzZWNvbmRPcmFjbGVEYXRhOiBDZWxsKSB7CiAgICAgICAgbGV0IHNsaWNlID0gZmlyc3RPcmFjbGVEYXRhLmJlZ2luUGFyc2UoKTsKICAgICAgICBsZXQgc2xpY2VfMiA9IHNlY29uZE9yYWNsZURhdGEuYmVnaW5QYXJzZSgpOwogICAgICAgIHNsaWNlXzIubG9hZFVpbnQoMzIpOyAvLyBza2lwIG9wY29kZQogICAgICAgIGxldCBfb3JhY2xlRGF0YSA9IGJlZ2luQ2VsbCgpLnN0b3JlVWludChzbGljZS5sb2FkVWludCgzMiksIDMyKS5zdG9yZVVpbnQocXVlcnlJZCwgNjQpLnN0b3JlU2xpY2Uoc2xpY2UpLnN0b3JlU2xpY2Uoc2xpY2VfMikuc3RvcmVSZWYoYmVnaW5DZWxsKCkuZW5kQ2VsbCgpKS5lbmRDZWxsKCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3t0bzogc2VsZi5vcmFjbGUsIHZhbHVlOiAwLCBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwgYm9keTogX29yYWNsZURhdGF9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU2xpY2UpewogICAgICAgIGxldCBvcCA9IG1zZy5sb2FkVWludCgzMik7CiAgICAgICAgaWYgKG9wID09IE9QX1JFRFNUT05FX0RBVEFfRkVUQ0hFRCkgewogICAgICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYub3JhY2xlLCAib25seSBvcmFjbGUgY2FuIHNlbmQgdGhpcyBtZXNzYWdlIik7CiAgICAgICAgICAgIGxldCBxdWVyeUlkID0gbXNnLmxvYWRVaW50KDY0KTsKICAgICAgICAgICAgbGV0IHNsaWNlID0gbXNnLmxvYWRSZWYoKS5iZWdpblBhcnNlKCk7CiAgICAgICAgICAgIGxldCBzbGljZV8yID0gbXNnLmxvYWRSZWYoKS5iZWdpblBhcnNlKCk7CiAgICAgICAgICAgIHNlbGYub25QcmljZVJlY2VpdmVkKHF1ZXJ5SWQsIHNsaWNlLmxvYWRVaW50KDI1NiksIHNsaWNlLmxvYWRVaW50KDI1NiksIHNsaWNlLmxvYWRVaW50KDQ4KSwgc2xpY2VfMi5sb2FkVWludCgyNTYpLCBzbGljZV8yLmxvYWRVaW50KDI1NiksIHNsaWNlXzIubG9hZFVpbnQoNDgpKTsKICAgICAgICB9CiAgICB9CgogICAgYm91bmNlZChtc2c6IFNsaWNlKXsKICAgICAgICBsZXQgb3AgPSBtc2cubG9hZFVpbnQoMzIpOwogICAgICAgIGlmIChvcCA9PSBPUF9SRURTVE9ORV9DSEVDS19BTkRfUkVUVVJOX1BSSUNFKSB7CiAgICAgICAgICAgIGxldCBxdWVyeUlkID0gbXNnLmxvYWRVaW50KDY0KTsKICAgICAgICAgICAgc2VsZi5vbk9yYWNsZUVycm9yUmVjZWl2ZWQocXVlcnlJZCwgbXNnKTsKICAgICAgICB9CiAgICB9Cn0=","contracts/imports/constants.tact":"CmNvbnN0IFNMSVBQQUdFX0RFTk9NSU5BVE9SOiBJbnQgPSBwb3coMTAsIDI1KTsKY29uc3QgQ09MTEFURVJBTF9ERU5PTUlOQVRPUjogSW50ID0gcG93KDEwLCAxNik7CmNvbnN0IFJBVEVfREVOT01JTkFUT1I6IEludCA9IHBvdygxMCwgOCk7CmNvbnN0IEZFRV9ERU5PTUlOQVRPUjogSW50ID0gcG93KDEwLCA5KTsKY29uc3QgWkVST19BRERSRVNTOiBBZGRyZXNzID0gYWRkcmVzcygiVVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBSktaIik7CmNvbnN0IFNUT1JBR0VfSU5JVF9WQUxVRTogSW50ID0gdG9uKCIwLjEiKTsKY29uc3QgVE9fVEFLRV9BTU06IEludCA9IHRvbigiMC4zNSIpOwpjb25zdCBUT19UQUtFX1RPX01BUktFVDogSW50ID0gdG9uKCIwLjI0Iik7CmNvbnN0IEdBU19UT19TRU5EX0pFVFRPTjogSW50ID0gdG9uKCIwLjA0OCIpOwpjb25zdCBHQVNfVE9fRkVUQ0hfT1dORVI6IEludCA9IHRvbigiMC4wMiIpICsgR0FTX1RPX1NFTkRfSkVUVE9OOwpjb25zdCBHQVNfTUlOX1ZBTFVFOiBJbnQgPSB0b24oIjAuMDUiKSArIEdBU19UT19TRU5EX0pFVFRPTjsKCmNvbnN0IFRJTUVfU0xJUFBBR0U6IEludCA9IDYwKjU7Cgpjb25zdCBJTk5FUl9PUF9DT0RFX1RBS0VfREVBTF9BRlRFUl9QUklDRV9SRUNFSVZFRDogSW50ID0gMTA7CmNvbnN0IElOTkVSX09QX0NPREVfVEFLRV9ERUFMX0FGVEVSX0RFQUxfUkVDRUlWRUQ6IEludCA9IDIwOwpjb25zdCBJTk5FUl9PUF9DT0RFX0NBTkNFTF9ERUFMX0FGVEVSX0RFQUxfUkVDRUlWRUQ6IEludCA9IDIxOwpjb25zdCBJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9QUklDRV9SRUNFSVZFRDogSW50ID0gMTI7CmNvbnN0IElOTkVSX09QX0NPREVfUFJPQ0VTU19ERUFMX0FGVEVSX0RFQUxfUkVDRUlWRUQ6IEludCA9IDIyOwoKCmNvbnN0IERFQUxfU1RBVFVTX0NSRUFURUQ6IEludCA9IDE7CmNvbnN0IERFQUxfU1RBVFVTX0FDQ0VQVEVEOiBJbnQgPSAyOwpjb25zdCBERUFMX1NUQVRVU19DQU5DRUxMRUQ6IEludCA9IDM7CmNvbnN0IERFQUxfU1RBVFVTX0NPTVBMRVRFRDogSW50ID0gNDsKY29uc3QgREVBTF9TVEFUVVNfRVhQSVJFRDogSW50ID0gNTsKCgpjb25zdCBTTUFMTF9WQUxVRTogSW50ID0gMTsKY29uc3QgU01BTExfVE9LRU5fQU1PVU5UOiBJbnQgPSAyOwpjb25zdCBPUkFDTEVfUFJJQ0VfVE9PX09MRDogSW50ID0gMzsKY29uc3QgTUFLRVJfT1VUX09GX1JBTkdFOiBJbnQgPSA0Owpjb25zdCBTTUFMTF9BTU9VTlQ6IEludCA9IDU7CmNvbnN0IEJBRF9GRUVEX0lEOiBJbnQgPSA2Owpjb25zdCBCQURfU1RBVFVTOiBJbnQgPSA3Owpjb25zdCBUUkFOU0FDVElPTl9GUk9NX01BS0VSOiBJbnQgPSA4Owpjb25zdCBTTUFMTF9BTU9VTlRfT0ZfTUFLRVI6IEludCA9IDk7","contracts/nft/nft_item.tact":"aW1wb3J0ICIuL25mdF9tZXNzZ2VzLnRhY3QiOwppbXBvcnQgIi4uL2pldHRvbi9qZXR0b25fbWVzc2FnZXMudGFjdCI7Cgpjb25zdCBtaW5Ub25zRm9yU3RvcmFnZTogSW50ID0gdG9uKCIwLjAxIik7CmNvbnN0IGdhc0NvbnN1bXB0aW9uOiBJbnQgPSB0b24oIjAuMDIiKTsKCmNvbnRyYWN0IE5mdEl0ZW0gewogICAgY29sbGVjdGlvbl9hZGRyZXNzOiBBZGRyZXNzOwogICAgaXRlbV9pbmRleDogSW50OyAKICAgIGlzX2luaXRpYWxpemVkOiBCb29sOwoKICAgIG93bmVyOiBBZGRyZXNzPzsKICAgIGluZGl2aWR1YWxfY29udGVudDogQ2VsbD87CgogICAgaW5pdChjb2xsZWN0aW9uX2FkZHJlc3M6IEFkZHJlc3MsIGl0ZW1faW5kZXg6IEludCl7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBjb2xsZWN0aW9uX2FkZHJlc3MsICJub3QgZnJvbSBjb2xsZWN0aW9uIik7CiAgICAgICAgc2VsZi5jb2xsZWN0aW9uX2FkZHJlc3MgPSBjb2xsZWN0aW9uX2FkZHJlc3M7CiAgICAgICAgc2VsZi5pdGVtX2luZGV4ID0gaXRlbV9pbmRleDsKICAgICAgICBzZWxmLmlzX2luaXRpYWxpemVkID0gZmFsc2U7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFRyYW5zZmVyKXsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOyAKICAgICAgICBsZXQgbXNnVmFsdWU6IEludCA9IHNlbGYubXNnVmFsdWUoY3R4LnZhbHVlKTsKICAgICAgICAKICAgICAgICBpZiAoc2VsZi5pc19pbml0aWFsaXplZCA9PSBmYWxzZSkgeyAgCiAgICAgICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBzZWxmLmNvbGxlY3Rpb25fYWRkcmVzcywgImluaXRpYWxpemVkIHR4IG5lZWQgZnJvbSBjb2xsZWN0aW9uIik7CiAgICAgICAgICAgIG5hdGl2ZVJlc2VydmUobWluVG9uc0ZvclN0b3JhZ2UsIDApOwogICAgICAgICAgICBzZWxmLmlzX2luaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICAgICAgc2VsZi5vd25lciA9IG1zZy5uZXdfb3duZXI7CiAgICAgICAgICAgIHNlbGYuaW5kaXZpZHVhbF9jb250ZW50ID0gbXNnLmN1c3RvbV9wYXlsb2FkOwogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IG1zZy5yZXNwb25zZV9kZXN0aW5hdGlvbiEhLAogICAgICAgICAgICAgICAgdmFsdWU6IG1zZ1ZhbHVlLAogICAgICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgICAgICBib2R5OiBFeGNlc3NlcyB7IHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQgfS50b0NlbGwoKQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5vd25lciEhLCAibm90IG93bmVyIik7CiAgICAgICAgICAgIHNlbGYub3duZXIgPSBtc2cubmV3X293bmVyOyAgCiAgICAgICAgICAgIGlmIChtc2cuZm9yd2FyZF9hbW91bnQgPiAwKSB7CiAgICAgICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgICAgIHRvOiBtc2cubmV3X293bmVyLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtc2cuZm9yd2FyZF9hbW91bnQsCiAgICAgICAgICAgICAgICAgICAgbW9kZTogIFNlbmRQYXlHYXNTZXBhcmF0ZWx5LCAKICAgICAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYm9keTogT3duZXJzaGlwQXNzaWduZWR7CiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZfb3duZXI6IGN0eC5zZW5kZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcndhcmRfcGF5bG9hZDogbXNnLmZvcndhcmRfcGF5bG9hZAogICAgICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgICAgIH0pOyAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbXNnVmFsdWUgPSBtc2dWYWx1ZSAtIGN0eC5yZWFkRm9yd2FyZEZlZSgpOyAKICAgICAgICAgICAgaWYgKG1zZy5yZXNwb25zZV9kZXN0aW5hdGlvbiAhPSBudWxsKSB7IAogICAgICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sgCiAgICAgICAgICAgICAgICAgICAgdG86IG1zZy5yZXNwb25zZV9kZXN0aW5hdGlvbiEhLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtc2dWYWx1ZSAtIG1zZy5mb3J3YXJkX2Ftb3VudCwKICAgICAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUGF5R2FzU2VwYXJhdGVseSwKICAgICAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYm9keTogRXhjZXNzZXMgeyBxdWVyeV9pZDogbXNnLnF1ZXJ5X2lkIH0udG9DZWxsKCkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IAogICAgICAgIH0KICAgIH0KCiAgICAvLyByZWNlaXZlKG1zZzogVG9rZW5Ob3RpZmljYXRpb24pIHsKICAgIC8vICAgICByZXF1aXJlKG1zZy5mcm9tID09IHNlbGYuY29sbGVjdGlvbl9hZGRyZXNzLCAiVHJhbnNmZXIgamV0dG9uIG11c3QgYmUgZnJvbSBjb2xsZWN0aW9uIik7CiAgICAvLyAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgIC8vICAgICAgICAgdG86IHNlbmRlcigpLAogICAgLy8gICAgICAgICB2YWx1ZTogMCwKICAgIC8vICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAvLyAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7cXVlcnlfaWQ6IG1zZy5xdWVyeV9pZCwgYW1vdW50OiBtc2cuYW1vdW50LCByZWNpcGllbnQ6IHNlbGYub3duZXIhISwgcmVzcG9uc2VfZGVzdGluYXRpb246IHNlbGYub3duZXIsIGN1c3RvbV9wYXlsb2FkOiBudWxsLCBmb3J3YXJkX3Rvbl9hbW91bnQ6IDAsIGZvcndhcmRfcGF5bG9hZDogZW1wdHlTbGljZSgpfS50b0NlbGwoKQogICAgLy8gICAgIH0pOwogICAgLy8gfQogICAgCiAgICByZWNlaXZlKG1zZzogR2V0U3RhdGljRGF0YSl7IAogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVycyB7CiAgICAgICAgICAgIHRvOiBjdHguc2VuZGVyLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlLCAgCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogUmVwb3J0U3RhdGljRGF0YXsKICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQsCiAgICAgICAgICAgICAgICBpbmRleF9pZDogc2VsZi5pdGVtX2luZGV4LAogICAgICAgICAgICAgICAgY29sbGVjdGlvbjogc2VsZi5jb2xsZWN0aW9uX2FkZHJlc3MKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBHZXRPd25lcil7IAogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVycyB7CiAgICAgICAgICAgIHRvOiBjdHguc2VuZGVyLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsICAKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBSZXBvcnRPd25lcnsKICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBtc2cucXVlcnlfaWQsCiAgICAgICAgICAgICAgICBpbmRleF9pZDogc2VsZi5pdGVtX2luZGV4LAogICAgICAgICAgICAgICAgb3duZXI6IHNlbGYub3duZXIhIQogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuIG1zZ1ZhbHVlKHZhbHVlOiBJbnQpOiBJbnQgewogICAgICAgIGxldCB0b25CYWxhbmNlQmVmb3JlTXNnOiBJbnQgPSBteUJhbGFuY2UoKSAtIHZhbHVlOwogICAgICAgIGxldCBzdG9yYWdlRmVlOiBJbnQgPSBtaW5Ub25zRm9yU3RvcmFnZSAtIG1pbih0b25CYWxhbmNlQmVmb3JlTXNnLCBtaW5Ub25zRm9yU3RvcmFnZSk7CiAgICAgICAgcmV0dXJuIHZhbHVlIC0gKHN0b3JhZ2VGZWUgKyBnYXNDb25zdW1wdGlvbik7CiAgICB9CgogICAgCiAgICBnZXQgZnVuIGdldF9uZnRfZGF0YSgpOiBHZXROZnREYXRhIHsKICAgICAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luU3RyaW5nKCk7CiAgICAgICAgbGV0IGNvbGxlY3Rpb25EYXRhOiBTdHJpbmcgPSAoc2VsZi5pbmRpdmlkdWFsX2NvbnRlbnQhISkuYXNTbGljZSgpLmFzU3RyaW5nKCk7CiAgICAgICAgYi5hcHBlbmQoY29sbGVjdGlvbkRhdGEpOwogICAgICAgIGIuYXBwZW5kKHNlbGYuaXRlbV9pbmRleC50b1N0cmluZygpKTsKICAgICAgICBiLmFwcGVuZCgiLmpzb24iKTsKCiAgICAgICAgcmV0dXJuIEdldE5mdERhdGEgewogICAgICAgICAgICBpc19pbml0aWFsaXplZDogc2VsZi5pc19pbml0aWFsaXplZCwgCiAgICAgICAgICAgIGluZGV4OiBzZWxmLml0ZW1faW5kZXgsIAogICAgICAgICAgICBjb2xsZWN0aW9uX2FkZHJlc3M6IHNlbGYuY29sbGVjdGlvbl9hZGRyZXNzLCAKICAgICAgICAgICAgb3duZXJfYWRkcmVzczogc2VsZi5vd25lciEhLAogICAgICAgICAgICBpbmRpdmlkdWFsX2NvbnRlbnQ6IGIudG9DZWxsKCkKICAgICAgICB9OwogICAgfQp9","contracts/deal_messages.tact":"bWVzc2FnZSBHZXREYXRhIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7Cn0KbWVzc2FnZSBSZXBvcnREYXRhIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBpZDogSW50IGFzIHVpbnQzMjsKICAgIGRhdGE6IENlbGw7Cn0KbWVzc2FnZSBTYXZlRGF0YSB7CiAgICBxdWVyeUlkOiBJbnQgYXMgdWludDY0OwogICAgb3JpZ2luYWxHYXNUbzogQWRkcmVzczsKICAgIGRhdGE6IENlbGw7Cn0KbWVzc2FnZSBEZWxldGVEYXRhIHsKICAgIHF1ZXJ5SWQ6IEludCBhcyB1aW50NjQ7CiAgICBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzOwp9","contracts/nft/nft_messges.tact":"bWVzc2FnZSBMb2dFdmVudE1pbnRSZWNvcmQgewogICAgbWludGVyOiBBZGRyZXNzOwogICAgaXRlbV9pZDogSW50OwogICAgZ2VuZXJhdGVfbnVtYmVyOiBJbnQ7Cn0KCgptZXNzYWdlKDB4NjkzZDM5NTApIEdldFJveWFsdHlQYXJhbXMgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7Cn0KbWVzc2FnZSgweGE4Y2IwMGFkKSBSZXBvcnRSb3lhbHR5UGFyYW1zIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0OwogICAgbnVtZXJhdG9yOiBJbnQgYXMgdWludDE2OwogICAgZGVub21pbmF0b3I6IEludCBhcyB1aW50MTY7CiAgICBkZXN0aW5hdGlvbjogQWRkcmVzczsKfQpzdHJ1Y3QgQ29sbGVjdGlvbkRhdGEgewogICAgbmV4dF9pdGVtX2luZGV4OiBJbnQ7CiAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGw7CiAgICBvd25lcl9hZGRyZXNzOiBBZGRyZXNzOwp9CnN0cnVjdCBSb3lhbHR5UGFyYW1zIHsKICAgIG51bWVyYXRvcjogSW50OwogICAgZGVub21pbmF0b3I6IEludDsKICAgIGRlc3RpbmF0aW9uOiBBZGRyZXNzOwp9Cm1lc3NhZ2UoMHg1ZmNjM2QxNCkgVHJhbnNmZXIgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBuZXdfb3duZXI6IEFkZHJlc3M7CiAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogQWRkcmVzcz87CiAgICBjdXN0b21fcGF5bG9hZDogQ2VsbD87CiAgICBmb3J3YXJkX2Ftb3VudDogSW50IGFzIGNvaW5zOwogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7Cn0KbWVzc2FnZSgweDA1MTM4ZDkxKSBPd25lcnNoaXBBc3NpZ25lZCB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKICAgIHByZXZfb3duZXI6IEFkZHJlc3M7CiAgICBmb3J3YXJkX3BheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsKfQptZXNzYWdlKDB4ZDUzMjc2ZGIpIEV4Y2Vzc2VzIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0Owp9Cm1lc3NhZ2UoMHgyZmNiMjZhMikgR2V0U3RhdGljRGF0YSB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKfQptZXNzYWdlKDB4OGI3NzE3MzUpIFJlcG9ydFN0YXRpY0RhdGEgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBpbmRleF9pZDogSW50OwogICAgY29sbGVjdGlvbjogQWRkcmVzczsKfQoKbWVzc2FnZSBHZXRPd25lciB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKfQptZXNzYWdlIFJlcG9ydE93bmVyewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBpbmRleF9pZDogSW50OwogICAgb3duZXI6IEFkZHJlc3M7Cn0Kc3RydWN0IEdldE5mdERhdGEgewogICAgaXNfaW5pdGlhbGl6ZWQ6IEJvb2w7CiAgICBpbmRleDogSW50OwogICAgY29sbGVjdGlvbl9hZGRyZXNzOiBBZGRyZXNzOwogICAgb3duZXJfYWRkcmVzczogQWRkcmVzczsKICAgIGluZGl2aWR1YWxfY29udGVudDogQ2VsbDsKfQ==","contracts/market.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7CmltcG9ydCAiQHN0ZGxpYi9zdG9wcGFibGUiOwppbXBvcnQgIi4vbWFya2V0X21lc3NhZ2VzLnRhY3QiOwppbXBvcnQgIi4vbmZ0L25mdF9jb2xsZWN0aW9uLnRhY3QiOwppbXBvcnQgIi4vamV0dG9uL2pldHRvbl9tZXNzYWdlcy50YWN0IjsKaW1wb3J0ICIuL2RlYWwudGFjdCI7CmltcG9ydCAiLi9vcmFjbGUvcmVkc3RvbnRlX29yYWNsZV9jb25zdW1lcl9iYXNlLnRhY3QiOwppbXBvcnQgIi4vaW1wb3J0cy9jb25zdGFudHMudGFjdCI7CmNvbnRyYWN0IE1hcmtldCB3aXRoIFJlc3VtYWJsZSwgTmZ0Q29sbGVjdGlvbiwgUmVkc3RvbmVPcmFjbGVDb25zdW1lckJhc2UgewogICAgaWQ6IEludCBhcyB1aW50MzI7CiAgICBvd25lcjogQWRkcmVzczsKICAgIGFtbTogQWRkcmVzczsKICAgIGpldHRvbldhbGxldDogQWRkcmVzcyA9IGFkZHJlc3MoIlVRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUpLWiIpOwogICAgdW5kZXJseWluZ0Fzc2V0TmFtZTogU3RyaW5nOwogICAgZHVyYXRpb246IEludCBhcyB1aW50MzI7CiAgICBvcGVyYXRvckZlZTogSW50IGFzIHVpbnQzMjsKICAgIHNlcnZpY2VGZWU6IEludCBhcyB1aW50MzI7CiAgICBmYWN0b3J5OiBBZGRyZXNzOwogICAgc3RvcHBlZDogQm9vbCA9IGZhbHNlOwogICAgY291bnREZWFsOiBJbnQgYXMgdWludDMyID0gMDsKICAgIG5leHRfaXRlbV9pbmRleDogSW50IGFzIHVpbnQzMiA9IDA7CiAgICBjb2xsZWN0aW9uX2NvbnRlbnQ6IENlbGw7CiAgICBtYXBRdWVyaWVzVG9Db250ZXh0OiBtYXA8SW50LCBDZWxsPiA9IGVtcHR5TWFwKCk7CiAgICBvcmFjbGU6IEFkZHJlc3M7CiAgICBmZWVkSWRBc3NldDogSW50IGFzIHVpbnQyNTY7CiAgICBmZWVkSWRUb2tlbjogSW50IGFzIHVpbnQyNTY7CiAgICBvcGVyYXRvckZlZVN1bTogSW50IGFzIGNvaW5zID0gMDsKICAgIHNlcnZpY2VGZWVTdW06IEludCBhcyBjb2lucyA9IDA7CiAgICBvcGVyYXRvckZlZUFkZHJlc3M6IEFkZHJlc3M7CgoKICAgIGluaXQoaWQ6IEludCwKICAgICAgICBvd25lcjogQWRkcmVzcywKICAgICAgICBjb2luOiBBZGRyZXNzLAogICAgICAgIGFtbTogQWRkcmVzcywKICAgICAgICBmYWN0b3J5OiBBZGRyZXNzLAogICAgICAgIHVuZGVybHlpbmdBc3NldE5hbWU6IFN0cmluZywKICAgICAgICBkdXJhdGlvbjogSW50LAogICAgICAgIGNvbGxlY3Rpb25fY29udGVudDogQ2VsbCwKICAgICAgICBvcGVyYXRvckZlZTogSW50LAogICAgICAgIHNlcnZpY2VGZWU6IEludCwKICAgICAgICBvcmFjbGU6IEFkZHJlc3MsCiAgICAgICAgZmVlZElkQXNzZXQ6IEludCwKICAgICAgICBmZWVkSWRUb2tlbjogSW50LAogICAgICAgIG9wZXJhdG9yRmVlQWRkcmVzczogQWRkcmVzcyl7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBmYWN0b3J5LCAiT25seSBmYWN0b3J5IGNhbiBkZXBsb3kiKTsKICAgICAgICBzZWxmLmlkID0gaWQ7CiAgICAgICAgc2VsZi5vd25lciA9IG93bmVyOwogICAgICAgIHNlbGYuYW1tID0gYW1tOwogICAgICAgIHNlbGYuZmFjdG9yeSA9IGZhY3Rvcnk7CiAgICAgICAgc2VsZi51bmRlcmx5aW5nQXNzZXROYW1lID0gdW5kZXJseWluZ0Fzc2V0TmFtZTsKICAgICAgICBzZWxmLmR1cmF0aW9uID0gZHVyYXRpb247CiAgICAgICAgc2VsZi5vcGVyYXRvckZlZSA9IG9wZXJhdG9yRmVlOwogICAgICAgIHNlbGYuc2VydmljZUZlZSA9IHNlcnZpY2VGZWU7CiAgICAgICAgc2VsZi5jb2xsZWN0aW9uX2NvbnRlbnQgPSBjb2xsZWN0aW9uX2NvbnRlbnQ7CiAgICAgICAgc2VsZi5vcmFjbGUgPSBvcmFjbGU7CiAgICAgICAgc2VsZi5mZWVkSWRBc3NldCA9IGZlZWRJZEFzc2V0OwogICAgICAgIHNlbGYuZmVlZElkVG9rZW4gPSBmZWVkSWRUb2tlbjsKICAgICAgICBzZWxmLm9wZXJhdG9yRmVlQWRkcmVzcyA9IG9wZXJhdG9yRmVlQWRkcmVzczsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogSW5uZXJEZXBsb3lNYXJrZXQpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgc2VsZi5qZXR0b25XYWxsZXQgPSBtc2cuamV0dG9uV2FsbGV0OwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBtc2cub3JpZ2luYWxHYXNUbywKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBib2R5OiBEZXBsb3lPa3sKICAgICAgICAgICAgICAgIHF1ZXJ5SWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFdpdGhkcmF3U2VydmljZUZlZSkgewogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwogICAgICAgIHJlcXVpcmUobXNnLmFtb3VudCA+IDAsICJBbW91bnQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpOwogICAgICAgIHJlcXVpcmUobXNnLmFtb3VudCA8PSBzZWxmLnNlcnZpY2VGZWVTdW0sICJJbnN1ZmZpY2llbnQgc2VydmljZSBmZWUiKTsKICAgICAgICBzZWxmLnNlcnZpY2VGZWVTdW0gLT0gbXNnLmFtb3VudDsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5qZXR0b25XYWxsZXQsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgYW1vdW50OiBtc2cuYW1vdW50LAogICAgICAgICAgICAgICAgcXVlcnlfaWQ6IG1zZy5xdWVyeUlkLAogICAgICAgICAgICAgICAgcmVjaXBpZW50OiBtc2cudG8sCiAgICAgICAgICAgICAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogc2VuZGVyKCksCiAgICAgICAgICAgICAgICBjdXN0b21fcGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgIGZvcndhcmRfdG9uX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgIGZvcndhcmRfcGF5bG9hZDogZW1wdHlTbGljZSgpLAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9ICAgCgogICAgcmVjZWl2ZShtc2c6IFdpdGhkcmF3T3BlcmF0b3JGZWUpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKCiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IHNlbGYub3BlcmF0b3JGZWVBZGRyZXNzLCAiT25seSBvcGVyYXRvciBmZWUgYWRkcmVzcyBjYW4gd2l0aGRyYXcgb3BlcmF0b3IgZmVlIik7CiAgICAgICAgcmVxdWlyZShtc2cuYW1vdW50ID4gMCwgIkFtb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIik7CiAgICAgICAgcmVxdWlyZShtc2cuYW1vdW50IDw9IHNlbGYub3BlcmF0b3JGZWVTdW0sICJJbnN1ZmZpY2llbnQgb3BlcmF0b3IgZmVlIik7CiAgICAgICAgc2VsZi5vcGVyYXRvckZlZVN1bSAtPSBtc2cuYW1vdW50OwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLmpldHRvbldhbGxldCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICBhbW91bnQ6IG1zZy5hbW91bnQsCiAgICAgICAgICAgICAgICBxdWVyeV9pZDogbXNnLnF1ZXJ5SWQsCiAgICAgICAgICAgICAgICByZWNpcGllbnQ6IG1zZy50bywKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBzZW5kZXIoKSwKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiAwLAogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBlbXB0eVNsaWNlKCksCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogVG9rZW5Ob3RpZmljYXRpb24pIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC5zZW5kZXIgPT0gc2VsZi5qZXR0b25XYWxsZXQsICJUcmFuc2ZlciBqZXR0b24gbXVzdCBiZSBmcm9tIGpldHRvbiB3YWxsZXQiKTsKCiAgICAgICAgaWYoY3R4LnZhbHVlIDwgR0FTX01JTl9WQUxVRSkgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2Vucyhtc2cucXVlcnlfaWQsIG1zZy5hbW91bnQsIG1zZy5mcm9tLCBTTUFMTF9WQUxVRSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IG9wY29kZTogSW50ID0gbXNnLmZvcndhcmRfcGF5bG9hZC5sb2FkVWludCgzMik7CgogICAgICAgIGlmKG9wY29kZSA9PSBPUF9DT0RFX0NSRUFURV9ERUFMKSB7CiAgICAgICAgICAgIGxldCBkZWFsOiBDcmVhdGVEZWFsRGF0YSA9IENyZWF0ZURlYWxEYXRhLmZyb21TbGljZShtc2cuZm9yd2FyZF9wYXlsb2FkKTsKICAgICAgICAgICAgc2VsZi5oYW5kbGVDcmVhdGVEZWFsKG1zZy5xdWVyeV9pZCwgZGVhbCwgbXNnLmFtb3VudCwgbXNnLmZyb20pOwogICAgICAgIH0gZWxzZSBpZiAob3Bjb2RlID09IE9QX0NPREVfVEFLRV9ERUFMKSB7CiAgICAgICAgICAgIGxldCBkZWFsOiBUYWtlRGVhbERhdGEgPSBUYWtlRGVhbERhdGEuZnJvbVNsaWNlKG1zZy5mb3J3YXJkX3BheWxvYWQpOwogICAgICAgICAgICBzZWxmLmhhbmRsZVRha2VEZWFsKG1zZy5xdWVyeV9pZCwgZGVhbCwgbXNnLmFtb3VudCwgbXNnLmZyb20sIG1zZy5mcm9tKTsKICAgICAgICB9IGVsc2UgaWYgKG9wY29kZSA9PSBPUF9DT0RFX1RBS0VfREVBTF9XSVRIX09SSUdJTkFMX0dBU19UTykgewogICAgICAgICAgICBsZXQgZGVhbDogVGFrZURlYWxEYXRhV2l0aE9yaWdpbmFsR2FzVG8gPSBUYWtlRGVhbERhdGFXaXRoT3JpZ2luYWxHYXNUby5mcm9tU2xpY2UobXNnLmZvcndhcmRfcGF5bG9hZC5sb2FkUmVmKCkuYmVnaW5QYXJzZSgpKTsKICAgICAgICAgICAgc2VsZi5oYW5kbGVUYWtlRGVhbChtc2cucXVlcnlfaWQsIFRha2VEZWFsRGF0YXsKICAgICAgICAgICAgICAgIGRlYWxJZDogZGVhbC5kZWFsSWQsCiAgICAgICAgICAgICAgICBvcmFjbGVBc3NldERhdGE6IGRlYWwub3JhY2xlQXNzZXREYXRhLAogICAgICAgICAgICAgICAgb3JhY2xlVG9rZW5EYXRhOiBkZWFsLm9yYWNsZVRva2VuRGF0YSwKICAgICAgICAgICAgfSwgbXNnLmFtb3VudCwgbXNnLmZyb20sIGRlYWwub3JpZ2luYWxHYXNUbyk7CiAgICAgICAgfQogICAgfQoKICAgIHJlY2VpdmUobXNnOiBDYW5jZWxEZWFsKSB7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgcmVxdWlyZShjdHgudmFsdWUgPj0gR0FTX01JTl9WQUxVRSwgIkludmFsaWQgdmFsdWUiKTsKCiAgICAgICAgbGV0IGNvbnRleHRDYW5jZWxEZWFsOiBDZWxsID0gYmVnaW5DZWxsKCkuc3RvcmVVaW50KElOTkVSX09QX0NPREVfQ0FOQ0VMX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRCwgOCkuc3RvcmVSZWYoQ29udGV4dENhbmNlbERlYWxGb3JEZWFsUmVjZWl2ZWR7ZnJvbTogY3R4LnNlbmRlcn0udG9DZWxsKCkpLmVuZENlbGwoKTsgICAKICAgICAgICBzZWxmLmZldGNoRGVhbChtc2cucXVlcnlJZCwgbXNnLmRlYWxJZCwgY29udGV4dENhbmNlbERlYWwpOyAgICAKICAgIH0KCiAgICByZWNlaXZlKG1zZzogUHJvY2Vzc0RlYWwpIHsKICAgICAgICBuYXRpdmVSZXNlcnZlKFNUT1JBR0VfSU5JVF9WQUxVRSwgMCk7CiAgICAgICAgbGV0IGN0eDogQ29udGV4dCA9IGNvbnRleHQoKTsKICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+PSBHQVNfTUlOX1ZBTFVFLCAiSW52YWxpZCB2YWx1ZSIpOwoKICAgICAgICBsZXQgY29udGV4dFByb2Nlc3NEZWFsOiBDZWxsID0gYmVnaW5DZWxsKCkKICAgICAgICAgICAgLnN0b3JlVWludChJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9QUklDRV9SRUNFSVZFRCwgOCkKICAgICAgICAgICAgLnN0b3JlUmVmKENvbnRleHRQcm9jZXNzRGVhbEZvclByaWNlUmVjZWl2ZWR7ZnJvbTogY3R4LnNlbmRlciwgZGVhbElkOiBtc2cuZGVhbElkfS50b0NlbGwoKSkKICAgICAgICAgICAgLmVuZENlbGwoKTsgICAKICAgICAgICBzZWxmLmZldGNoUHJpY2VXaXRoU2F2ZUNvbnRleHQobXNnLnF1ZXJ5SWQsIG1zZy5vcmFjbGVBc3NldERhdGEsIG1zZy5vcmFjbGVUb2tlbkRhdGEsIGNvbnRleHRQcm9jZXNzRGVhbCk7ICAgIAogICAgfQogICAgCiAgICBmdW4gaGFuZGxlQ3JlYXRlRGVhbChxdWVyeUlkOiBJbnQsIGRlYWw6IENyZWF0ZURlYWxEYXRhLCBhbW91bnQ6IEludCwgZnJvbTogQWRkcmVzcykgewogICAgICAgIGxldCBkZWFsSWQ6IEludCA9IHNlbGYuY291bnREZWFsOwoKICAgICAgICBsZXQgc2xpcHBhZ2VBbW91bnQ6IEludCA9IChkZWFsLnJhdGVBc3NldCAqIGRlYWwucmF0ZVRva2VuICogZGVhbC5wZXJjZW50ICogZGVhbC5zbGlwcGFnZSkgLyBTTElQUEFHRV9ERU5PTUlOQVRPUjsKICAgICAgICBsZXQgY29sbGF0ZXJhbEFtb3VudE1ha2VyOiBJbnQgPSAoZGVhbC5yYXRlQXNzZXQgKiBkZWFsLnJhdGVUb2tlbiAqIGRlYWwucGVyY2VudCkgLyBDT0xMQVRFUkFMX0RFTk9NSU5BVE9SICsgc2xpcHBhZ2VBbW91bnQ7CiAgICAgICAKICAgICAgICBpZihhbW91bnQgPCBjb2xsYXRlcmFsQW1vdW50TWFrZXIpIHsKICAgICAgICAgICAgc2VsZi5yZXR1cm5Ub2tlbnMocXVlcnlJZCwgYW1vdW50LCBmcm9tLCBTTUFMTF9UT0tFTl9BTU9VTlQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBzZWxmLmNvdW50RGVhbCArPSAxOwogICAgICAgIGlmIChzZWxmLmFtbSAhPSBaRVJPX0FERFJFU1MpIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBzZWxmLmFtbSwKICAgICAgICAgICAgICAgIHZhbHVlOiBUT19UQUtFX0FNTSwKICAgICAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiBUYWtlRGVhbEFtbXsKICAgICAgICAgICAgICAgICAgICBkZWFsSWQ6IGRlYWxJZCwKICAgICAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIGFtb3VudDogY29sbGF0ZXJhbEFtb3VudE1ha2VyLAogICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsR2FzVG86IGZyb20sCiAgICAgICAgICAgICAgICAgICAgb3JhY2xlQXNzZXREYXRhOiBkZWFsLm9yYWNsZUFzc2V0RGF0YSEhLAogICAgICAgICAgICAgICAgICAgIG9yYWNsZVRva2VuRGF0YTogZGVhbC5vcmFjbGVUb2tlbkRhdGEhIQogICAgICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGxldCBuZXdEZWFsOiBEZWFsRGF0YSA9IERlYWxEYXRhewogICAgICAgICAgICByYXRlOiAwLAogICAgICAgICAgICByYXRlTWFrZXI6IGRlYWwucmF0ZUFzc2V0LAogICAgICAgICAgICBwZXJjZW50OiBkZWFsLnBlcmNlbnQsCiAgICAgICAgICAgIHNsaXBwYWdlTWFrZXI6IGRlYWwuc2xpcHBhZ2UsCiAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogY29sbGF0ZXJhbEFtb3VudE1ha2VyLAogICAgICAgICAgICBkYXRlT3JkZXJDcmVhdGlvbjogbm93KCksCiAgICAgICAgICAgIGRhdGVPcmRlckV4cGlyYXRpb246IG5vdygpICsgZGVhbC5leHBpcmF0aW9uLAogICAgICAgICAgICBkYXRlU3RhcnQ6IDAsCiAgICAgICAgICAgIGRhdGVTdG9wOiAwLAogICAgICAgICAgICBidXllclRva2VuSWQ6IDAsCiAgICAgICAgICAgIHNlbGxlclRva2VuSWQ6IDAsCiAgICAgICAgICAgIG1ha2VyOiBmcm9tLAogICAgICAgICAgICBpc1NlbGxlcjogIWRlYWwubWFrZXJQb3NpdGlvbiwKICAgICAgICAgICAgc3RhdHVzOiBERUFMX1NUQVRVU19DUkVBVEVECiAgICAgICAgfTsKCiAgICAgICAgZW1pdChEZWFsQ3JlYXRlZEV2ZW50ewogICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICBkZWFsSWQ6IGRlYWxJZCwKICAgICAgICAgICAgbWFrZXI6IGZyb20sCiAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgfS50b0NlbGwoKSk7CgogICAgICAgIHNlbGYuc2F2ZURlYWwocXVlcnlJZCwgZGVhbElkLCBuZXdEZWFsLCBmcm9tKTsKICAgIH0KCiAgICBmdW4gaGFuZGxlVGFrZURlYWwocXVlcnlJZDogSW50LCB0YWtlRGVhbDogVGFrZURlYWxEYXRhLCBhbW91bnQ6IEludCwgZnJvbTogQWRkcmVzcywgb3JpZ2luYWxHYXNUbzogQWRkcmVzcykgewogICAgICAgIGxldCBjb250ZXh0UHJvY2Vzc0RlYWw6IENlbGwgPSBiZWdpbkNlbGwoKQogICAgICAgICAgICAuc3RvcmVVaW50KElOTkVSX09QX0NPREVfVEFLRV9ERUFMX0FGVEVSX1BSSUNFX1JFQ0VJVkVELCA4KQogICAgICAgICAgICAuc3RvcmVSZWYoQ29udGV4dFRha2VEZWFsRm9yUHJpY2VSZWNlaXZlZHsKICAgICAgICAgICAgICAgIGZyb206IGZyb20sCiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIGRlYWxJZDogdGFrZURlYWwuZGVhbElkLAogICAgICAgICAgICAgICAgb3JpZ2luYWxHYXNUbzogb3JpZ2luYWxHYXNUbwogICAgICAgICAgICB9LnRvQ2VsbCgpKQogICAgICAgICAgICAuZW5kQ2VsbCgpOwogICAgICAgIAogICAgICAgIHNlbGYuZmV0Y2hQcmljZVdpdGhTYXZlQ29udGV4dChxdWVyeUlkLCB0YWtlRGVhbC5vcmFjbGVBc3NldERhdGEsIHRha2VEZWFsLm9yYWNsZVRva2VuRGF0YSwgY29udGV4dFByb2Nlc3NEZWFsKTsKICAgIH0KCiAgICBmdW4gdGFrZURlYWxBZnRlclJlY2lldmVkUHJpY2UocXVlcnk6IENlbGwsIGN0eDogQ29udGV4dCwgcXVlcnlJZDogSW50LCBmZWVkSWQ6IEludCwgcHJpY2U6IEludCwgdGltZXN0YW1wOiBJbnQsIGZlZWRJZDI6IEludCwgcHJpY2UyOiBJbnQsIHRpbWVzdGFtcDI6IEludCkgewogICAgICAgIGxldCBjb250ZXh0VGFrZURlYWxBZnRlclByaWNlOiBDb250ZXh0VGFrZURlYWxGb3JQcmljZVJlY2VpdmVkID0gQ29udGV4dFRha2VEZWFsRm9yUHJpY2VSZWNlaXZlZC5mcm9tQ2VsbChxdWVyeSk7CiAgICAgICAgbGV0IGNvbnRleHRQcm9jZXNzRGVhbDogQ2VsbCA9IGJlZ2luQ2VsbCgpCiAgICAgICAgICAgIC5zdG9yZVVpbnQoSU5ORVJfT1BfQ09ERV9UQUtFX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRCwgOCkKICAgICAgICAgICAgLnN0b3JlUmVmKENvbnRleHRUYWtlRGVhbEZvckRlYWxSZWNlaXZlZHsKICAgICAgICAgICAgICAgIGZyb206IGNvbnRleHRUYWtlRGVhbEFmdGVyUHJpY2UuZnJvbSwKICAgICAgICAgICAgICAgIGFtb3VudDogY29udGV4dFRha2VEZWFsQWZ0ZXJQcmljZS5hbW91bnQsCiAgICAgICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBjb250ZXh0VGFrZURlYWxBZnRlclByaWNlLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgICAgICBmZWVkSWQ6IGZlZWRJZCwKICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wIC8gMTAwMCwKICAgICAgICAgICAgICAgIGZlZWRJZDI6IGZlZWRJZDIsCiAgICAgICAgICAgICAgICBwcmljZTI6IHByaWNlMiwKICAgICAgICAgICAgICAgIHRpbWVzdGFtcDI6IHRpbWVzdGFtcDIgLyAxMDAwLAogICAgICAgICAgICB9LnRvQ2VsbCgpKQogICAgICAgICAgICAuZW5kQ2VsbCgpOwogICAgICAgIHNlbGYuZmV0Y2hEZWFsKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyUHJpY2UuZGVhbElkLCBjb250ZXh0UHJvY2Vzc0RlYWwpOwogICAgfQoKICAgIGZ1biBwcm9jZXNzRGVhbEFmdGVyUmVjaWV2ZWRQcmljZShxdWVyeTogQ2VsbCwgY3R4OiBDb250ZXh0LCBxdWVyeUlkOiBJbnQsIGZlZWRJZDogSW50LCBwcmljZTogSW50LCB0aW1lc3RhbXA6IEludCwgZmVlZElkMjogSW50LCBwcmljZTI6IEludCwgdGltZXN0YW1wMjogSW50KSB7CiAgICAgICAgbGV0IGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyUHJpY2U6IENvbnRleHRQcm9jZXNzRGVhbEZvclByaWNlUmVjZWl2ZWQgPSBDb250ZXh0UHJvY2Vzc0RlYWxGb3JQcmljZVJlY2VpdmVkLmZyb21DZWxsKHF1ZXJ5KTsKICAgICAgICBsZXQgY29udGV4dFByb2Nlc3NEZWFsOiBDZWxsID0gYmVnaW5DZWxsKCkKICAgICAgICAgICAgLnN0b3JlVWludChJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9ERUFMX1JFQ0VJVkVELCA4KQogICAgICAgICAgICAuc3RvcmVSZWYoQ29udGV4dFByb2Nlc3NEZWFsRm9yRGVhbFJlY2VpdmVkewogICAgICAgICAgICAgICAgZnJvbTogY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJQcmljZS5mcm9tLAogICAgICAgICAgICAgICAgZmVlZElkOiBmZWVkSWQsCiAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UsCiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCAvIDEwMDAsCiAgICAgICAgICAgICAgICBmZWVkSWQyOiBmZWVkSWQyLAogICAgICAgICAgICAgICAgcHJpY2UyOiBwcmljZTIsCiAgICAgICAgICAgICAgICB0aW1lc3RhbXAyOiB0aW1lc3RhbXAyIC8gMTAwMCwKICAgICAgICAgICAgfS50b0NlbGwoKSkKICAgICAgICAgICAgLmVuZENlbGwoKTsKICAgICAgICBzZWxmLmZldGNoRGVhbChxdWVyeUlkLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlclByaWNlLmRlYWxJZCwgY29udGV4dFByb2Nlc3NEZWFsKTsgICAgCiAgICB9ICAgCgogICAgCgoKICAgIGZ1biB0YWtlRGVhbEFmdGVyUmVjaWV2ZWREZWFsKGRlYWw6IERlYWxEYXRhLCBxdWVyeTogQ2VsbCwgY3R4OiBDb250ZXh0LCBxdWVyeUlkOiBJbnQsIGRlYWxJZDogSW50KSB7CiAgICAgICAgbGV0IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbDogQ29udGV4dFRha2VEZWFsRm9yRGVhbFJlY2VpdmVkID0gQ29udGV4dFRha2VEZWFsRm9yRGVhbFJlY2VpdmVkLmZyb21DZWxsKHF1ZXJ5KTsKICAgICAgICAKICAgICAgICBpZiAoZGVhbC5tYWtlciA9PSBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSkgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2VucyhxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuYW1vdW50LCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgVFJBTlNBQ1RJT05fRlJPTV9NQUtFUik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGRlYWwuc3RhdHVzICE9IERFQUxfU1RBVFVTX0NSRUFURUQpIHsKICAgICAgICAgICAgc2VsZi5yZXR1cm5Ub2tlbnMocXVlcnlJZCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmFtb3VudCwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZyb20sIEJBRF9TVEFUVVMpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZmVlZElkICE9IHNlbGYuZmVlZElkQXNzZXQgfHwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZlZWRJZDIgIT0gc2VsZi5mZWVkSWRUb2tlbikgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2VucyhxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuYW1vdW50LCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgQkFEX0ZFRURfSUQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChjb250ZXh0VGFrZURlYWxBZnRlckRlYWwudGltZXN0YW1wIDwgbm93KCkgLSBUSU1FX1NMSVBQQUdFKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9rZW5zKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5hbW91bnQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBPUkFDTEVfUFJJQ0VfVE9PX09MRCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGxldCBjb2xsYXRlcmFsQW1vdW50OiBJbnQgPSAoZGVhbC5wZXJjZW50ICogY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlICogY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlMikgLyBDT0xMQVRFUkFMX0RFTk9NSU5BVE9SOyAKCgogICAgICAgIGlmICgoY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlIDw9CiAgICAgICAgICAgICAgICAoZGVhbC5yYXRlTWFrZXIgLQogICAgICAgICAgICAgICAgICAgIChkZWFsLnJhdGVNYWtlciAqIGRlYWwuc2xpcHBhZ2VNYWtlcikgLwogICAgICAgICAgICAgICAgICAgIFJBVEVfREVOT01JTkFUT1IpKSAmJgogICAgICAgICAgICAoY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlID49CiAgICAgICAgICAgICAgICAoZGVhbC5yYXRlTWFrZXIgKwogICAgICAgICAgICAgICAgICAgIChkZWFsLnJhdGVNYWtlciAqIGRlYWwuc2xpcHBhZ2VNYWtlcikgLwogICAgICAgICAgICAgICAgICAgIFJBVEVfREVOT01JTkFUT1IpKSkgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2VucyhxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuYW1vdW50LCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgTUFLRVJfT1VUX09GX1JBTkdFKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbGV0IHJldHVybkFtb3VudFRvVGFrZXI6IEludCA9IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5hbW91bnQgLSBjb2xsYXRlcmFsQW1vdW50OwogICAgICAgIGlmKHJldHVybkFtb3VudFRvVGFrZXIgPCAwKSB7CiAgICAgICAgICAgIHNlbGYucmV0dXJuVG9rZW5zKHF1ZXJ5SWQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5hbW91bnQsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5mcm9tLCBTTUFMTF9BTU9VTlQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZihyZXR1cm5BbW91bnRUb1Rha2VyID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IHNlbGYuamV0dG9uV2FsbGV0LAogICAgICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiByZXR1cm5BbW91bnRUb1Rha2VyLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgICAgIHJlY2lwaWVudDogY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLmZyb20sCiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VfZGVzdGluYXRpb246IGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvLAogICAgICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRfdG9uX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKSwKICAgICAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICAgICAgfSk7IAogICAgICAgIH0KCiAgICAgICAgbGV0IHJldHVybkFtb3VudFRvTWFrZXI6IEludCA9IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyIC0gY29sbGF0ZXJhbEFtb3VudDsKICAgICAgICBpZihyZXR1cm5BbW91bnRUb01ha2VyIDwgMCkgewogICAgICAgICAgICBzZWxmLnJldHVyblRva2VucyhxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuYW1vdW50LCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgU01BTExfQU1PVU5UX09GX01BS0VSKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZihyZXR1cm5BbW91bnRUb01ha2VyID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICAgICAgdG86IHNlbGYuamV0dG9uV2FsbGV0LAogICAgICAgICAgICAgICAgdmFsdWU6IEdBU19UT19TRU5EX0pFVFRPTiwKICAgICAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICBib2R5OiBUb2tlblRyYW5zZmVyewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogcmV0dXJuQW1vdW50VG9NYWtlciwKICAgICAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlJZCwgIAogICAgICAgICAgICAgICAgICAgIHJlY2lwaWVudDogZGVhbC5tYWtlciwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tX3BheWxvYWQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiAwLAogICAgICAgICAgICAgICAgICAgIGZvcndhcmRfcGF5bG9hZDogZW1wdHlTbGljZSgpLAogICAgICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgICAgICB9KTsgCiAgICAgICAgfQoKICAgICAgICBkZWFsLmNvbGxhdGVyYWxBbW91bnRNYWtlciA9IGNvbGxhdGVyYWxBbW91bnQ7CiAgICAgICAgZGVhbC5yYXRlID0gY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLnByaWNlOwogICAgICAgIGRlYWwuZGF0ZVN0YXJ0ID0gbm93KCk7CiAgICAgICAgZGVhbC5kYXRlU3RvcCA9IG5vdygpICsgc2VsZi5kdXJhdGlvbjsKICAgICAgICBkZWFsLnN0YXR1cyA9IERFQUxfU1RBVFVTX0FDQ0VQVEVEOwoKICAgICAgICBpZiAoZGVhbC5pc1NlbGxlcikgewogICAgICAgICAgICBkZWFsLmJ1eWVyVG9rZW5JZCA9IHNlbGYubWludChxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgbWluVG9uc0ZvclN0b3JhZ2UgKyBnYXNDb25zdW1wdGlvbiwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLm9yaWdpbmFsR2FzVG8pOwogICAgICAgICAgICBkZWFsLnNlbGxlclRva2VuSWQgPSBzZWxmLm1pbnQocXVlcnlJZCwgZGVhbC5tYWtlciwgbWluVG9uc0ZvclN0b3JhZ2UgKyBnYXNDb25zdW1wdGlvbiwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLm9yaWdpbmFsR2FzVG8pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRlYWwuc2VsbGVyVG9rZW5JZCA9IHNlbGYubWludChxdWVyeUlkLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwuZnJvbSwgbWluVG9uc0ZvclN0b3JhZ2UgKyBnYXNDb25zdW1wdGlvbiwgY29udGV4dFRha2VEZWFsQWZ0ZXJEZWFsLm9yaWdpbmFsR2FzVG8pOwogICAgICAgICAgICBkZWFsLmJ1eWVyVG9rZW5JZCA9IHNlbGYubWludChxdWVyeUlkLCBkZWFsLm1ha2VyLCBtaW5Ub25zRm9yU3RvcmFnZSArIGdhc0NvbnN1bXB0aW9uLCBjb250ZXh0VGFrZURlYWxBZnRlckRlYWwub3JpZ2luYWxHYXNUbyk7CiAgICAgICAgfQoKICAgICAgICBlbWl0KERlYWxBY2NlcHRlZEV2ZW50ewogICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICBkZWFsSWQ6IGRlYWxJZCwKICAgICAgICAgICAgbWFrZXI6IGRlYWwubWFrZXIsCiAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogZGVhbC5jb2xsYXRlcmFsQW1vdW50TWFrZXIKICAgICAgICB9LnRvQ2VsbCgpKTsKCiAgICAgICAgc2VsZi5zYXZlRGVhbChxdWVyeUlkLCBkZWFsSWQsIGRlYWwsIGNvbnRleHRUYWtlRGVhbEFmdGVyRGVhbC5vcmlnaW5hbEdhc1RvKTsKICAgIH0KCiAgICBmdW4gY2FuY2VsRGVhbEFmdGVyUmVjaWV2ZWREZWFsKGRlYWw6IERlYWxEYXRhLCBxdWVyeTogQ2VsbCwgY3R4OiBDb250ZXh0LCBxdWVyeUlkOiBJbnQsIGRlYWxJZDogSW50KSB7CiAgICAgICAgbGV0IGNvbnRleHRDYW5jZWxEZWFsQWZ0ZXJEZWFsOiBDb250ZXh0Q2FuY2VsRGVhbEZvckRlYWxSZWNlaXZlZCA9IENvbnRleHRDYW5jZWxEZWFsRm9yRGVhbFJlY2VpdmVkLmZyb21DZWxsKHF1ZXJ5KTsKICAgICAgICBpZiAoZGVhbC5tYWtlciAhPSBjb250ZXh0Q2FuY2VsRGVhbEFmdGVyRGVhbC5mcm9tKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZW1pdChDYW5jZWxFdmVudHsKICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgZGVhbElkOiBkZWFsSWQsCiAgICAgICAgICAgIG1ha2VyOiBkZWFsLm1ha2VyLAogICAgICAgICAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgfS50b0NlbGwoKSk7IAogICAgICAgIHNlbGYuX2NhbmNlbERlYWwoZGVhbCwgY29udGV4dENhbmNlbERlYWxBZnRlckRlYWwuZnJvbSwgcXVlcnlJZCwgZGVhbElkKTsKICAgIH0gICAgICAgCgogICAgZnVuIHByb2Nlc3NEZWFsQWZ0ZXJSZWNpZXZlZERlYWwoZGVhbDogRGVhbERhdGEsIHF1ZXJ5OiBDZWxsLCBjdHg6IENvbnRleHQsIHF1ZXJ5SWQ6IEludCwgZGVhbElkOiBJbnQpIHsKICAgICAgICBsZXQgY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsOiBDb250ZXh0UHJvY2Vzc0RlYWxGb3JEZWFsUmVjZWl2ZWQgPSBDb250ZXh0UHJvY2Vzc0RlYWxGb3JEZWFsUmVjZWl2ZWQuZnJvbUNlbGwocXVlcnkpOwogICAgICAgIGlmIChkZWFsLnN0YXR1cyA9PSBERUFMX1NUQVRVU19DUkVBVEVEICYmIGRlYWwuZGF0ZU9yZGVyRXhwaXJhdGlvbiA8PSBub3coKSkgewogICAgICAgICAgICBlbWl0KERlYWxFeHBpcmVkRXZlbnR7CiAgICAgICAgICAgICAgICBxdWVyeUlkOiBxdWVyeUlkLAogICAgICAgICAgICAgICAgZGVhbElkOiBkZWFsSWQsCiAgICAgICAgICAgICAgICBtYWtlcjogZGVhbC5tYWtlciwKICAgICAgICAgICAgICAgIGNvbGxhdGVyYWxBbW91bnRNYWtlcjogZGVhbC5jb2xsYXRlcmFsQW1vdW50TWFrZXIKICAgICAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgICAgIHNlbGYuX2NhbmNlbERlYWwoZGVhbCwgY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLmZyb20sIHF1ZXJ5SWQsIGRlYWxJZCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9ICAKCiAgICAgICAgaWYgKCEoZGVhbC5zdGF0dXMgPT0gREVBTF9TVEFUVVNfQUNDRVBURUQgJiYgZGVhbC5kYXRlU3RvcCA8PSBub3coKSkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLmZlZWRJZCAhPSBzZWxmLmZlZWRJZEFzc2V0IHx8IGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5mZWVkSWQyICE9IHNlbGYuZmVlZElkVG9rZW4pIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLnRpbWVzdGFtcCA8IGRlYWwuZGF0ZVN0b3AgLSBUSU1FX1NMSVBQQUdFIHx8IGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC50aW1lc3RhbXAgPiBkZWFsLmRhdGVTdG9wKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC50aW1lc3RhbXAyIDwgZGVhbC5kYXRlU3RvcCAtIFRJTUVfU0xJUFBBR0UgfHwgY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLnRpbWVzdGFtcDIgPiBkZWFsLmRhdGVTdG9wKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbGV0IGNvbGxhdGVyYWxBbW91bnQ6IEludCA9IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyOwogICAgICAgIGxldCBwYXlvdXRCdXllcjogSW50ID0gMDsKICAgICAgICBsZXQgcGF5b3V0U2VsbGVyOiBJbnQgPSAwOwoKICAgICAgICBsZXQgZGVsdGEgPSAoZGVhbC5yYXRlIC0gY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLnByaWNlKSAqIGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5wcmljZTIgLyBSQVRFX0RFTk9NSU5BVE9SOwoKICAgICAgICBpZihhYnMoZGVsdGEpID49IGNvbGxhdGVyYWxBbW91bnQpIHsKICAgICAgICAgICAgaWYgKGRlbHRhID4gMCkgewogICAgICAgICAgICAgICAgcGF5b3V0U2VsbGVyID0gY29sbGF0ZXJhbEFtb3VudCAqIDI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwYXlvdXRCdXllciA9IGNvbGxhdGVyYWxBbW91bnQgKiAyOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGF5b3V0U2VsbGVyID0gY29sbGF0ZXJhbEFtb3VudCArIGRlbHRhOwogICAgICAgICAgICBwYXlvdXRCdXllciA9IGNvbGxhdGVyYWxBbW91bnQgLSBkZWx0YTsKICAgICAgICB9CgogICAgICAgIGxldCBvcGVyYXRvckZlZTogSW50ID0gMDsKICAgICAgICBsZXQgc2VydmljZUZlZTogSW50ID0gMDsKCiAgICAgICAgaWYgKHBheW91dEJ1eWVyID4gMCkgewogICAgICAgICAgICBpZiAocGF5b3V0QnV5ZXIgPiBjb2xsYXRlcmFsQW1vdW50KSB7CiAgICAgICAgICAgICAgICBvcGVyYXRvckZlZSA9ICgocGF5b3V0QnV5ZXIgLSBjb2xsYXRlcmFsQW1vdW50KSAqIHNlbGYub3BlcmF0b3JGZWUpIC8gRkVFX0RFTk9NSU5BVE9SOwogICAgICAgICAgICAgICAgc2VydmljZUZlZSA9ICgocGF5b3V0QnV5ZXIgLSBjb2xsYXRlcmFsQW1vdW50KSAqIHNlbGYuc2VydmljZUZlZSkgLyBGRUVfREVOT01JTkFUT1I7CiAgICAgICAgICAgICAgICBwYXlvdXRCdXllciA9IHBheW91dEJ1eWVyIC0gb3BlcmF0b3JGZWUgLSBzZXJ2aWNlRmVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbGYuc2VuZFRva2VucyhkZWFsLmJ1eWVyVG9rZW5JZCwgcGF5b3V0QnV5ZXIsIHF1ZXJ5SWQsIGNvbnRleHRQcm9jZXNzRGVhbEFmdGVyRGVhbC5mcm9tKTsKICAgICAgICB9CgogICAgICAgIGlmIChwYXlvdXRTZWxsZXIgPiAwKSB7CiAgICAgICAgICAgIGlmIChwYXlvdXRTZWxsZXIgPiBjb2xsYXRlcmFsQW1vdW50KSB7CiAgICAgICAgICAgICAgICBvcGVyYXRvckZlZSA9ICgocGF5b3V0U2VsbGVyIC0gY29sbGF0ZXJhbEFtb3VudCkgKiBzZWxmLm9wZXJhdG9yRmVlKSAvIEZFRV9ERU5PTUlOQVRPUjsKICAgICAgICAgICAgICAgIHNlcnZpY2VGZWUgPSAoKHBheW91dFNlbGxlciAtIGNvbGxhdGVyYWxBbW91bnQpICogc2VsZi5zZXJ2aWNlRmVlKSAvIEZFRV9ERU5PTUlOQVRPUjsKICAgICAgICAgICAgICAgIHBheW91dFNlbGxlciA9IHBheW91dFNlbGxlciAtIG9wZXJhdG9yRmVlIC0gc2VydmljZUZlZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzZWxmLnNlbmRUb2tlbnMoZGVhbC5zZWxsZXJUb2tlbklkLCBwYXlvdXRTZWxsZXIsIHF1ZXJ5SWQgKyAxLCBjb250ZXh0UHJvY2Vzc0RlYWxBZnRlckRlYWwuZnJvbSk7CiAgICAgICAgfQoKICAgICAgICBzZWxmLm9wZXJhdG9yRmVlU3VtICs9IG9wZXJhdG9yRmVlOwogICAgICAgIHNlbGYuc2VydmljZUZlZVN1bSArPSBzZXJ2aWNlRmVlOwoKICAgICAgICBlbWl0KERlYWxDb21wbGV0ZWRFdmVudHsKICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgZGVhbElkOiBkZWFsSWQsCiAgICAgICAgICAgIG1ha2VyOiBkZWFsLm1ha2VyLAogICAgICAgICAgICBjb2xsYXRlcmFsQW1vdW50TWFrZXI6IGRlYWwuY29sbGF0ZXJhbEFtb3VudE1ha2VyCiAgICAgICAgfS50b0NlbGwoKSk7CiAgICAgICAgc2VsZi5kZWxldGVEZWFsKHF1ZXJ5SWQsIGRlYWxJZCwgY29udGV4dFByb2Nlc3NEZWFsQWZ0ZXJEZWFsLmZyb20pOyAgIAogICAgfQoKICAgIGZ1biBfY2FuY2VsRGVhbChkZWFsOiBEZWFsRGF0YSwgb3JpZ2luYWxHYXNUbzogQWRkcmVzcywgcXVlcnlJZDogSW50LCBkZWFsSWQ6IEludCkgewogICAgICAgIHJlcXVpcmUoZGVhbC5zdGF0dXMgPT0gREVBTF9TVEFUVVNfQ1JFQVRFRCwgIkRlYWwgaXMgbm90IGNyZWF0ZWQiKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5qZXR0b25XYWxsZXQsCiAgICAgICAgICAgIHZhbHVlOiBHQVNfVE9fU0VORF9KRVRUT04sCiAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgYm9keTogVG9rZW5UcmFuc2ZlcnsKICAgICAgICAgICAgICAgIGFtb3VudDogZGVhbC5jb2xsYXRlcmFsQW1vdW50TWFrZXIsCiAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlJZCwKICAgICAgICAgICAgICAgIHJlY2lwaWVudDogZGVhbC5tYWtlciwKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBvcmlnaW5hbEdhc1RvLAogICAgICAgICAgICAgICAgY3VzdG9tX3BheWxvYWQ6IG51bGwsCiAgICAgICAgICAgICAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IDAsCiAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGVtcHR5U2xpY2UoKSwKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgICAgIHNlbGYuZGVsZXRlRGVhbChxdWVyeUlkLCBkZWFsSWQsIG9yaWdpbmFsR2FzVG8pOyAgIAogICAgfQoKICAgIGZ1biBzZW5kVG9rZW5zKHRva2VuSWQ6IEludCwgYW1vdW50OiBJbnQsIHF1ZXJ5SWQ6IEludCwgb3JpZ2luYWxHYXNUbzogQWRkcmVzcykgewogICAgICAgIHJlcXVpcmUoc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmdldChxdWVyeUlkKSA9PSBudWxsLCAiUXVlcnlJZCBhbHJlYWR5IGV4aXN0cyIpOwoKICAgICAgICBsZXQgY29udGV4dEZvckdldE93bmVyOiBDb250ZXh0Rm9yR2V0T3duZXIgPSBDb250ZXh0Rm9yR2V0T3duZXJ7CiAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICBvcmlnaW5hbEdhc1RvOiBvcmlnaW5hbEdhc1RvLAogICAgICAgIH07CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LnNldChxdWVyeUlkLCBjb250ZXh0Rm9yR2V0T3duZXIudG9DZWxsKCkpOwoKICAgICAgICBzZWxmLmZldGNoT3duZXJCeUluZGV4KHF1ZXJ5SWQsIHRva2VuSWQsIEdBU19UT19GRVRDSF9PV05FUik7CiAgICB9ICAgICAgIAoKICAgIHJlY2VpdmUobXNnOiBSZXBvcnRPd25lcikgewogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIE5mdEl0ZW0obXlBZGRyZXNzKCksIG1zZy5pbmRleF9pZCk7CgogICAgICAgIHJlcXVpcmUoY3R4LnNlbmRlciA9PSBjb250cmFjdEFkZHJlc3Mod2luaXQpLCAiUmVwb3J0T3duZXIgbXVzdCBiZSBmcm9tIG5mdCBjb250cmFjdCIpOwogICAgICAgIGxldCBjb250ZXh0Rm9yR2V0T3duZXI6IENvbnRleHRGb3JHZXRPd25lciA9IENvbnRleHRGb3JHZXRPd25lci5mcm9tQ2VsbChzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZ2V0KG1zZy5xdWVyeV9pZCkpOwogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5kZWwobXNnLnF1ZXJ5X2lkKTsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogc2VsZi5qZXR0b25XYWxsZXQsCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiAgU2VuZFJlbWFpbmluZ0JhbGFuY2UsIAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICBhbW91bnQ6IGNvbnRleHRGb3JHZXRPd25lci5hbW91bnQsCiAgICAgICAgICAgICAgICBxdWVyeV9pZDogbXNnLnF1ZXJ5X2lkLAogICAgICAgICAgICAgICAgcmVjaXBpZW50OiBtc2cub3duZXIsCiAgICAgICAgICAgICAgICByZXNwb25zZV9kZXN0aW5hdGlvbjogY29udGV4dEZvckdldE93bmVyLm9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgICAgICBjdXN0b21fcGF5bG9hZDogbnVsbCwKICAgICAgICAgICAgICAgIGZvcndhcmRfdG9uX2Ftb3VudDogMCwKICAgICAgICAgICAgICAgIGZvcndhcmRfcGF5bG9hZDogZW1wdHlTbGljZSgpLAogICAgICAgICAgICB9LnRvQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuIHNhdmVEZWFsKHF1ZXJ5SWQ6IEludCwgZGVhbElkOiBJbnQsIGRlYWw6IERlYWxEYXRhLCBvcmlnaW5hbEdhc1RvOiBBZGRyZXNzKSB7IAogICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIERlYWwoZGVhbElkLCBteUFkZHJlc3MoKSk7CgogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBjb250cmFjdEFkZHJlc3Mod2luaXQpLAogICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ0JhbGFuY2UsCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgIGJvZHk6IFNhdmVEYXRhewogICAgICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgICAgIG9yaWdpbmFsR2FzVG86IG9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgICAgICBkYXRhOiBkZWFsLnRvQ2VsbCgpLAogICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgICAgICBjb2RlOiB3aW5pdC5jb2RlLAogICAgICAgICAgICBkYXRhOiB3aW5pdC5kYXRhCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuIGRlbGV0ZURlYWwocXVlcnlJZDogSW50LCBkZWFsSWQ6IEludCwgb3JpZ2luYWxHYXNUbzogQWRkcmVzcykgeyAKICAgICAgICBsZXQgd2luaXQ6IFN0YXRlSW5pdCA9IGluaXRPZiBEZWFsKGRlYWxJZCwgbXlBZGRyZXNzKCkpOwoKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB0bzogY29udHJhY3RBZGRyZXNzKHdpbml0KSwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgICAgICBib2R5OiBEZWxldGVEYXRhewogICAgICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwKICAgICAgICAgICAgICAgIG9yaWdpbmFsR2FzVG86IG9yaWdpbmFsR2FzVG8sCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgICAgIGNvZGU6IHdpbml0LmNvZGUsCiAgICAgICAgICAgIGRhdGE6IHdpbml0LmRhdGEKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW4gZmV0Y2hQcmljZVdpdGhTYXZlQ29udGV4dChxdWVyeUlkOiBJbnQsIG9yYWNsZUFzc2V0RGF0YTogQ2VsbCwgb3JhY2xlVG9rZW5EYXRhOiBDZWxsLCBzYXZlQ29udGV4dDogQ2VsbCkgewogICAgICAgIHJlcXVpcmUoc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmdldChxdWVyeUlkKSA9PSBudWxsLCAiUXVlcnlJZCBhbHJlYWR5IGV4aXN0cyIpOwogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5zZXQocXVlcnlJZCwgc2F2ZUNvbnRleHQpOwogICAgICAgIHNlbGYuZmV0Y2hQcmljZShxdWVyeUlkLCBvcmFjbGVBc3NldERhdGEsIG9yYWNsZVRva2VuRGF0YSk7CiAgICB9CgogICAgb3ZlcnJpZGUgZnVuIG9uUHJpY2VSZWNlaXZlZChxdWVyeUlkOiBJbnQsIGZlZWRJZDogSW50LCBwcmljZTogSW50LCB0aW1lc3RhbXA6IEludCwgZmVlZElkMjogSW50LCBwcmljZTI6IEludCwgdGltZXN0YW1wMjogSW50KSB7CiAgICAgICAgbmF0aXZlUmVzZXJ2ZShTVE9SQUdFX0lOSVRfVkFMVUUsIDApOwogICAgICAgIGxldCBjdHg6IENvbnRleHQgPSBjb250ZXh0KCk7CiAgICAgICAgbGV0IHF1ZXJ5OiBTbGljZSA9IHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5nZXQocXVlcnlJZCkhIS5iZWdpblBhcnNlKCk7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChxdWVyeUlkKTsKCiAgICAgICAgbGV0IG9wY29kZTogSW50ID0gcXVlcnkubG9hZFVpbnQoOCk7CgogICAgICAgIGlmIChvcGNvZGUgPT0gSU5ORVJfT1BfQ09ERV9UQUtFX0RFQUxfQUZURVJfUFJJQ0VfUkVDRUlWRUQpIHsgCiAgICAgICAgICAgIHNlbGYudGFrZURlYWxBZnRlclJlY2lldmVkUHJpY2UocXVlcnkubG9hZFJlZigpLCBjdHgsIHF1ZXJ5SWQsIGZlZWRJZCwgcHJpY2UsIHRpbWVzdGFtcCwgZmVlZElkMiwgcHJpY2UyLCB0aW1lc3RhbXAyKTsKICAgICAgICB9IGVsc2UgaWYgKG9wY29kZSA9PSBJTk5FUl9PUF9DT0RFX1BST0NFU1NfREVBTF9BRlRFUl9QUklDRV9SRUNFSVZFRCkgewogICAgICAgICAgICBzZWxmLnByb2Nlc3NEZWFsQWZ0ZXJSZWNpZXZlZFByaWNlKHF1ZXJ5LmxvYWRSZWYoKSwgY3R4LCBxdWVyeUlkLCBmZWVkSWQsIHByaWNlLCB0aW1lc3RhbXAsIGZlZWRJZDIsIHByaWNlMiwgdGltZXN0YW1wMik7CiAgICAgICAgfQogICAgfQoKICAgIGZ1biBmZXRjaERlYWwocXVlcnlJZDogSW50LCBkZWFsSWQ6IEludCwgc2F2ZUNvbnRleHQ6IENlbGwpIHsgCiAgICAgICAgcmVxdWlyZShzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZ2V0KHF1ZXJ5SWQpID09IG51bGwsICJRdWVyeUlkIGFscmVhZHkgZXhpc3RzIik7CgogICAgICAgIHNlbGYubWFwUXVlcmllc1RvQ29udGV4dC5zZXQocXVlcnlJZCwgc2F2ZUNvbnRleHQpOwogICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIERlYWwoZGVhbElkLCBteUFkZHJlc3MoKSk7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdG86IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksCiAgICAgICAgICAgIHZhbHVlOiAwLAogICAgICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nQmFsYW5jZSwKICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICBib2R5OiBHZXREYXRhewogICAgICAgICAgICAgICAgcXVlcnlJZDogcXVlcnlJZCwgCiAgICAgICAgICAgIH0udG9DZWxsKCkKICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogUmVwb3J0RGF0YSkgewogICAgICAgIG5hdGl2ZVJlc2VydmUoU1RPUkFHRV9JTklUX1ZBTFVFLCAwKTsKICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gaW5pdE9mIERlYWwobXNnLmlkLCBteUFkZHJlc3MoKSk7CiAgICAgICAgcmVxdWlyZShjdHguc2VuZGVyID09IGNvbnRyYWN0QWRkcmVzcyh3aW5pdCksICJSZXBvcnREYXRhIG11c3QgYmUgZnJvbSBEZWFsIGNvbnRyYWN0Iik7CiAgICAgICAgbGV0IGRlYWw6IERlYWxEYXRhID0gRGVhbERhdGEuZnJvbUNlbGwobXNnLmRhdGEpOwogICAgICAgIGxldCBxdWVyeTogU2xpY2UgPSBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZ2V0KG1zZy5xdWVyeUlkKSEhLmJlZ2luUGFyc2UoKTsKICAgICAgICBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZGVsKG1zZy5xdWVyeUlkKTsKCiAgICAgICAgbGV0IG9wY29kZTogSW50ID0gcXVlcnkubG9hZFVpbnQoOCk7CiAgICAgICAgaWYgKG9wY29kZSA9PSBJTk5FUl9PUF9DT0RFX1RBS0VfREVBTF9BRlRFUl9ERUFMX1JFQ0VJVkVEKSB7IAogICAgICAgICAgICBzZWxmLnRha2VEZWFsQWZ0ZXJSZWNpZXZlZERlYWwoZGVhbCwgcXVlcnkubG9hZFJlZigpLCBjdHgsIG1zZy5xdWVyeUlkLCBtc2cuaWQpOwogICAgICAgIH0gZWxzZSBpZiAob3Bjb2RlID09IElOTkVSX09QX0NPREVfQ0FOQ0VMX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRCkgewogICAgICAgICAgICBzZWxmLmNhbmNlbERlYWxBZnRlclJlY2lldmVkRGVhbChkZWFsLCBxdWVyeS5sb2FkUmVmKCksIGN0eCwgbXNnLnF1ZXJ5SWQsIG1zZy5pZCk7CiAgICAgICAgfSBlbHNlIGlmIChvcGNvZGUgPT0gSU5ORVJfT1BfQ09ERV9QUk9DRVNTX0RFQUxfQUZURVJfREVBTF9SRUNFSVZFRCkgewogICAgICAgICAgICBzZWxmLnByb2Nlc3NEZWFsQWZ0ZXJSZWNpZXZlZERlYWwoZGVhbCwgcXVlcnkubG9hZFJlZigpLCBjdHgsIG1zZy5xdWVyeUlkLCBtc2cuaWQpOwogICAgICAgIH0gICAKICAgIH0KIAogICAgZnVuIHJldHVyblRva2VucyhxdWVyeUlkOiBJbnQsIGFtb3VudDpJbnQsIHRvOiBBZGRyZXNzLCByZWFzb246IEludCkgewogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZWxmLmpldHRvbldhbGxldCwKICAgICAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgICAgIG1vZGU6IFNlbmRSZW1haW5pbmdCYWxhbmNlLAogICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgIGJvZHk6IFRva2VuVHJhbnNmZXJ7CiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIHJlY2lwaWVudDogdG8sCiAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlJZCwKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiB0bywKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiAwLAogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBiZWdpbkNlbGwoKS5zdG9yZVVpbnQocmVhc29uLCA4KS5hc1NsaWNlKCkKICAgICAgICAgICAgfS50b0NlbGwoKQogICAgICAgIH0pOwogICAgfQogICAgCiAgICBvdmVycmlkZSBmdW4gb25PcmFjbGVFcnJvclJlY2VpdmVkKHF1ZXJ5SWQ6IEludCwgZXJyb3I6IFNsaWNlKSB7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChxdWVyeUlkKTsKICAgIH0KCiAgICBvdmVycmlkZSBmdW4gb25Cb3VuY2VkR2V0T3duZXIocXVlcnlJZDogSW50KSB7CiAgICAgICAgc2VsZi5tYXBRdWVyaWVzVG9Db250ZXh0LmRlbChxdWVyeUlkKTsKICAgIH0gICAKICAgIAogICAgYm91bmNlZChtc2c6IEdldERhdGEpIHsKICAgICAgICBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQuZGVsKG1zZy5xdWVyeUlkKTsKICAgIH0KCiAgICBnZXQgZnVuIGlkKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuaWQ7CiAgICB9CgogICAgZ2V0IGZ1biBhbW0oKTogQWRkcmVzcyB7CiAgICAgICAgcmV0dXJuIHNlbGYuYW1tOwogICAgfQoKICAgIGdldCBmdW4gamV0dG9uV2FsbGV0KCk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBzZWxmLmpldHRvbldhbGxldDsKICAgIH0KICAgIAogICAgZ2V0IGZ1biB1bmRlcmx5aW5nQXNzZXROYW1lKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYudW5kZXJseWluZ0Fzc2V0TmFtZTsKICAgIH0KCiAgICBnZXQgZnVuIGR1cmF0aW9uKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuZHVyYXRpb247CiAgICB9CgogICAgZ2V0IGZ1biBvcGVyYXRvckZlZSgpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLm9wZXJhdG9yRmVlOwogICAgfQogICAgCiAgICBnZXQgZnVuIGJhbGFuY2UoKTogSW50IHsKICAgICAgICByZXR1cm4gbXlCYWxhbmNlKCk7CiAgICB9CgogICAgZ2V0IGZ1biBzZXJ2aWNlRmVlKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuc2VydmljZUZlZTsKICAgIH0KCiAgICBnZXQgZnVuIGNvdW50RGVhbCgpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLmNvdW50RGVhbDsKICAgIH0KCiAgICBnZXQgZnVuIG5leHRfaXRlbV9pbmRleCgpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLm5leHRfaXRlbV9pbmRleDsKICAgIH0KCiAgICBnZXQgZnVuIGNvbGxlY3Rpb25fY29udGVudCgpOiBDZWxsIHsKICAgICAgICByZXR1cm4gc2VsZi5jb2xsZWN0aW9uX2NvbnRlbnQ7CiAgICB9CgogICAgZ2V0IGZ1biBvcmFjbGUoKTogQWRkcmVzcyB7CiAgICAgICAgcmV0dXJuIHNlbGYub3JhY2xlOwogICAgfQoKICAgIGdldCBmdW4gZmFjdG9yeSgpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gc2VsZi5mYWN0b3J5OwogICAgfQoKICAgIGdldCBmdW4gZmVlZElkQXNzZXQoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5mZWVkSWRBc3NldDsKICAgIH0KCiAgICBnZXQgZnVuIGZlZWRJZFRva2VuKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYuZmVlZElkVG9rZW47CiAgICB9CgogICAgZ2V0IGZ1biBvcGVyYXRvckZlZVN1bSgpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLm9wZXJhdG9yRmVlU3VtOwogICAgfQoKICAgIGdldCBmdW4gc2VydmljZUZlZVN1bSgpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLnNlcnZpY2VGZWVTdW07CiAgICB9CgogICAgZ2V0IGZ1biBvcGVyYXRvckZlZUFkZHJlc3MoKTogQWRkcmVzcyB7CiAgICAgICAgcmV0dXJuIHNlbGYub3BlcmF0b3JGZWVBZGRyZXNzOwogICAgfQogICAgCiAgICBnZXQgZnVuIG1hcFF1ZXJpZXNUb0NvbnRleHQoKTogbWFwPEludCwgQ2VsbD4gewogICAgICAgIHJldHVybiBzZWxmLm1hcFF1ZXJpZXNUb0NvbnRleHQ7CiAgICB9Cn0="},"compiler":{"name":"tact","version":"1.4.4","parameters":"{\"entrypoint\":\"contracts/market.tact\",\"options\":{\"debug\":true}}"}}